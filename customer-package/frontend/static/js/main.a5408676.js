/*! For license information please see main.a5408676.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,r)&&!i.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,h(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,o={},l=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(o[a]=t[a]);var i=arguments.length-2;if(1===i)o.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===o[a]&&(o[a]=i[a]);return{$$typeof:n,type:e,key:l,ref:s,props:o,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,o,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i=!1;if(null===e)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return l=l(i=e),e=""===o?"."+L(i,0):o,w(l)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),E(l,t,a,"",function(e){return e})):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(_,"$&/")+"/")+e)),t.push(l)),1;if(i=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+L(s=e[c],c);i+=E(s,t,a,u,l)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)i+=E(s=s.value,t,a,u=o+L(s,c++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function O(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),o=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=N.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}return{$$typeof:n,type:e.type,key:o,ref:l,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var s=2*(r+1)-1,i=e[s],c=s+1,u=e[c];if(0>o(i,n))c<a&&0>o(u,i)?(e[r]=u,e[c]=n,r=c):(e[r]=i,e[s]=n,r=s);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();t.unstable_now=function(){return s.now()-i}}var c=[],u=[],d=1,f=null,p=3,m=!1,h=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,y(e),!h)if(null!==r(c))h=!0,T(j);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function j(e,n){h=!1,g&&(g=!1,b(C),C=-1),m=!0;var o=p;try{for(y(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!E());){var l=f.callback;if("function"===typeof l){f.callback=null,p=f.priorityLevel;var s=l(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&a(c),y(n)}else a(c);f=r(c)}if(null!==f)var i=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),i=!1}return i}finally{f=null,p=o,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,_=5,L=-1;function E(){return!(t.unstable_now()-L<_)}function O(){if(null!==S){var e=t.unstable_now();L=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=O,N=function(){M.postMessage(null)}}else N=function(){x(O,0)};function T(e){S=e,k||(k=!0,N())}function R(e,n){C=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,T(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,o){var l=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?l+o:l:o=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>l?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,R(w,o-l))):(e.sortIndex=s,n(c,e),h||m||(h=!0,T(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,s={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function h(e,t,n,r,a,o,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,b);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,z=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var A=!1;function U(e,t){if(!e||A)return"";A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),l=a.length-1,s=o.length-1;1<=l&&0<=s&&a[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(a[l]!==o[s]){if(1!==l||1!==s)do{if(l--,0>--s||a[l]!==o[s]){var i="\n"+a[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=s);break}}}finally{A=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function I(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var xe=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof je)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Le(e,t){return e(t)}function Ee(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Le(e,t,n)}finally{Oe=!1,(null!==Ne||null!==ke)&&(Ee(),_e())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Te=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Te=!1}function De(e,t,n,r,a,o,l,s,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,ze=null,Be=!1,Ae=null,Ue={onError:function(e){Fe=!0,ze=e}};function Ie(e,t,n,r,a,o,l,s,i){Fe=!1,ze=null,De.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return He(a),e;if(l===r)return He(a),t;l=l.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=l;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=l;break}if(i===r){s=!0,r=a,n=l;break}i=i.sibling}if(!s){for(i=l.child;i;){if(i===n){s=!0,n=l,r=a;break}if(i===r){s=!0,r=l,n=a;break}i=i.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/it|0)|0},st=Math.log,it=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,l=268435455&n;if(0!==l){var s=l&~a;0!==s?r=dt(s):0!==(o&=l)&&(r=dt(o))}else 0!==(l=n&~a)?r=dt(l):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-lt(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,Ct=!1,_t=[],Lt=null,Et=null,Ot=null,Pt=new Map,Mt=new Map,Tt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Ft(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function zt(e){var t=ba(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function At(e,t,n){Bt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Lt&&Bt(Lt)&&(Lt=null),null!==Et&&Bt(Et)&&(Et=null),null!==Ot&&Bt(Ot)&&(Ot=null),Pt.forEach(At),Mt.forEach(At)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return It(t,e)}if(0<_t.length){It(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&It(Lt,e),null!==Et&&It(Et,e),null!==Ot&&It(Ot,e),Pt.forEach(t),Mt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)zt(n),null===n.blockedOn&&Tt.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var a=vt,o=Wt.transition;Wt.transition=null;try{vt=1,$t(e,t,n,r)}finally{vt=a,Wt.transition=o}}function qt(e,t,n,r){var a=vt,o=Wt.transition;Wt.transition=null;try{vt=4,$t(e,t,n,r)}finally{vt=a,Wt.transition=o}}function $t(e,t,n,r){if(Ht){var a=Kt(e,t,n,r);if(null===a)Hr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Lt=Ft(Lt,e,t,n,r,a),!0;case"dragenter":return Et=Ft(Et,e,t,n,r,a),!0;case"mouseover":return Ot=Ft(Ot,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pt.set(o,Ft(Pt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Mt.set(o,Ft(Mt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var o=va(a);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=ba(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=z({},cn,{view:0,detail:0}),fn=an(dn),pn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=an(pn),hn=an(z({},pn,{dataTransfer:0})),gn=an(z({},dn,{relatedTarget:0})),xn=an(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),yn=an(z({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var Cn=z({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Cn),Ln=an(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=an(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Pn),Tn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Dn,zn=u&&(!Rn||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),An=!1;function Un(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,$n=null;function Qn(e){Br(e,0)}function Kn(e){if($(ya(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Yn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),$n=qn=null)}function nr(e){if("value"===e.propertyName&&Kn($n)){var t=[];Gn(t,$n,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn($n)}function or(e,t){if("click"===e)return Kn(t)}function lr(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var l=ur(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,br=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ir(br,r)||(br=r,0<(r=qr(xr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Cr=Sr("animationend"),_r=Sr("animationiteration"),Lr=Sr("animationstart"),Er=Sr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Or.set(e,t),i(t,[e])}for(var Tr=0;Tr<Pr.length;Tr++){var Rr=Pr[Tr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Cr,"onAnimationEnd"),Mr(_r,"onAnimationIteration"),Mr(Lr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,s,i,c){if(Ie.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=ze;Fe=!1,ze=null,Be||(Be=!0,Ae=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],i=s.instance,c=s.currentTarget;if(s=s.listener,i!==o&&a.isPropagationStopped())break e;zr(a,s,c),o=i}else for(l=0;l<r.length;l++){if(i=(s=r[l]).instance,c=s.currentTarget,s=s.listener,i!==o&&a.isPropagationStopped())break e;zr(a,s,c),o=i}}}if(Be)throw e=Ae,Be=!1,Ae=null,e}function Ar(e,t){var n=t[ha];void 0===n&&(n=t[ha]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ir]){e[Ir]=!0,l.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ir]||(t[Ir]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var a=Gt;break;case 4:a=qt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;l=l.return}for(;null!==s;){if(null===(l=ba(s)))return;if(5===(i=l.tag)||6===i){r=o=l;continue e}s=s.parentNode}}r=r.return}Pe(function(){var r=o,a=we(n),l=[];e:{var s=Or.get(e);if(void 0!==s){var i=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":i=_n;break;case"focusin":c="focus",i=gn;break;case"focusout":c="blur",i=gn;break;case"beforeblur":case"afterblur":i=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=En;break;case Cr:case _r:case Lr:i=xn;break;case Er:i=On;break;case"scroll":i=fn;break;case"wheel":i=Mn;break;case"copy":case"cut":case"paste":i=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Ln}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,m=r;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==f&&(null!=(h=Me(m,f))&&u.push(Gr(m,h,p)))),d)break;m=m.return}0<u.length&&(s=new i(s,c,null,n,a),l.push({event:s,listeners:u}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ma])&&(i||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,i?(i=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=r),i!==c)){if(u=mn,h="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ln,h="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==i?s:ya(i),p=null==c?s:ya(c),(s=new u(h,m+"leave",i,n,a)).target=d,s.relatedTarget=p,h=null,ba(a)===r&&((u=new u(f,m+"enter",c,n,a)).target=p,u.relatedTarget=d,h=u),d=h,i&&c)e:{for(f=c,m=0,p=u=i;p;p=$r(p))m++;for(p=0,h=f;h;h=$r(h))p++;for(;0<m-p;)u=$r(u),m--;for(;0<p-m;)f=$r(f),p--;for(;m--;){if(u===f||null!==f&&u===f.alternate)break e;u=$r(u),f=$r(f)}u=null}else u=null;null!==i&&Qr(l,s,i,u,!1),null!==c&&null!==d&&Qr(l,d,c,u,!0)}if("select"===(i=(s=r?ya(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===i&&"file"===s.type)var g=Xn;else if(Hn(s))if(Jn)g=lr;else{g=ar;var x=rr}else(i=s.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(l,g,n,a):(x&&x(e,s,r),"focusout"===e&&(x=s._wrapperState)&&x.controlled&&"number"===s.type&&ee(s,"number",s.value)),x=r?ya(r):window,e){case"focusin":(Hn(x)||"true"===x.contentEditable)&&(gr=x,xr=r,br=null);break;case"focusout":br=xr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(l,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(l,n,a)}var b;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(b=en()):(Yt="value"in(Jt=a)?Jt.value:Jt.textContent,Vn=!0)),0<(x=qr(r,v)).length&&(v=new yn(v,e,null,n,a),l.push({event:v,listeners:x}),b?v.data=b:null!==(b=In(n))&&(v.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(An=!0,Bn);case"textInput":return(e=t.data)===Bn&&An?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Yt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=b))}Br(l,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Me(e,n))&&r.unshift(Gr(e,o,a)),null!=(o=Me(e,t))&&r.push(Gr(e,o,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var o=t._reactName,l=[];null!==n&&n!==r;){var s=n,i=s.alternate,c=s.stateNode;if(null!==i&&i===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(i=Me(n,o))&&l.unshift(Gr(n,i,s)):a||null!=(i=Me(n,o))&&l.push(Gr(n,i,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function ia(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ma="__reactContainer$"+da,ha="__reactEvents$"+da,ga="__reactListeners$"+da,xa="__reactHandles$"+da;function ba(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[fa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[pa]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Ca(e,t){Na++,ja[Na]=e.current,e.current=t}var _a={},La=ka(_a),Ea=ka(!1),Oa=_a;function Pa(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){Sa(Ea),Sa(La)}function Ra(e,t,n){if(La.current!==_a)throw Error(o(168));Ca(La,t),Ca(Ea,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return z({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Oa=La.current,Ca(La,e),Ca(Ea,Ea.current),!0}function za(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Da(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ea),Sa(La),Ca(La,e)):Sa(Ea),Ca(Ea,n)}var Ba=null,Aa=!1,Ua=!1;function Ia(e){null===Ba?Ba=[e]:Ba.push(e)}function Va(){if(!Ua&&null!==Ba){Ua=!0;var e=0,t=vt;try{var n=Ba;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Aa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),$e(Ze,Va),a}finally{vt=t,Ua=!1}}return null}var Wa=[],Ha=0,Ga=null,qa=0,$a=[],Qa=0,Ka=null,Xa=1,Ja="";function Ya(e,t){Wa[Ha++]=qa,Wa[Ha++]=Ga,Ga=e,qa=t}function Za(e,t,n){$a[Qa++]=Xa,$a[Qa++]=Ja,$a[Qa++]=Ka,Ka=e;var r=Xa;e=Ja;var a=32-lt(r)-1;r&=~(1<<a),n+=1;var o=32-lt(t)+a;if(30<o){var l=a-a%5;o=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Xa=1<<32-lt(t)+a|n<<a|r,Ja=o+e}else Xa=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Ya(e,1),Za(e,1,0))}function to(e){for(;e===Ga;)Ga=Wa[--Ha],Wa[Ha]=null,qa=Wa[--Ha],Wa[Ha]=null;for(;e===Ka;)Ka=$a[--Qa],$a[Qa]=null,Ja=$a[--Qa],$a[Qa]=null,Xa=$a[--Qa],$a[Qa]=null}var no=null,ro=null,ao=!1,oo=null;function lo(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function io(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(io(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&so(e,t)?lo(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(io(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(io(e))throw po(),Error(o(418));for(;t;)lo(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ca(e.nextSibling)}function mo(){ro=no=null,ao=!1}function ho(e){null===oo?oo=[e]:oo.push(e)}var go=y.ReactCurrentBatchConfig;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vo(e){return(0,e._init)(e._payload)}function yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&vo(o)===t.type)?((r=a(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case j:return(t=Bc(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case M:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);bo(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);bo(t,r)}return null}function h(a,o,s,i){for(var c=null,u=null,d=o,h=o=0,g=null;null!==d&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var x=p(a,d,s[h],i);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(a,d),o=l(x,o,h),null===u?c=x:u.sibling=x,u=x,d=g}if(h===s.length)return n(a,d),ao&&Ya(a,h),c;if(null===d){for(;h<s.length;h++)null!==(d=f(a,s[h],i))&&(o=l(d,o,h),null===u?c=d:u.sibling=d,u=d);return ao&&Ya(a,h),c}for(d=r(a,d);h<s.length;h++)null!==(g=m(d,a,h,s[h],i))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),o=l(g,o,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ao&&Ya(a,h),c}function g(a,s,i,c){var u=D(i);if("function"!==typeof u)throw Error(o(150));if(null==(i=u.call(i)))throw Error(o(151));for(var d=u=null,h=s,g=s=0,x=null,b=i.next();null!==h&&!b.done;g++,b=i.next()){h.index>g?(x=h,h=null):x=h.sibling;var v=p(a,h,b.value,c);if(null===v){null===h&&(h=x);break}e&&h&&null===v.alternate&&t(a,h),s=l(v,s,g),null===d?u=v:d.sibling=v,d=v,h=x}if(b.done)return n(a,h),ao&&Ya(a,g),u;if(null===h){for(;!b.done;g++,b=i.next())null!==(b=f(a,b.value,c))&&(s=l(b,s,g),null===d?u=b:d.sibling=b,d=b);return ao&&Ya(a,g),u}for(h=r(a,h);!b.done;g++,b=i.next())null!==(b=m(h,a,g,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?g:b.key),s=l(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(a,e)}),ao&&Ya(a,g),u}return function e(r,o,l,i){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case w:e:{for(var c=l.key,u=o;null!==u;){if(u.key===c){if((c=l.type)===N){if(7===u.tag){n(r,u.sibling),(o=a(u,l.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&vo(c)===u.type){n(r,u.sibling),(o=a(u,l.props)).ref=xo(r,u,l),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}l.type===N?((o=Dc(l.props.children,r.mode,i,l.key)).return=r,r=o):((i=Rc(l.type,l.key,l.props,null,r.mode,i)).ref=xo(r,o,l),i.return=r,r=i)}return s(r);case j:e:{for(u=l.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===l.containerInfo&&o.stateNode.implementation===l.implementation){n(r,o.sibling),(o=a(o,l.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(l,r.mode,i)).return=r,r=o}return s(r);case M:return e(r,o,(u=l._init)(l._payload),i)}if(te(l))return h(r,o,l,i);if(D(l))return g(r,o,l,i);bo(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,l)).return=r,r=o):(n(r,o),(o=zc(l,r.mode,i)).return=r,r=o),s(r)):n(r,o)}}var wo=yo(!0),jo=yo(!1),No=ka(null),ko=null,So=null,Co=null;function _o(){Co=So=ko=null}function Lo(e){var t=No.current;Sa(No),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){ko=e,Co=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===ko)throw Error(o(308));So=e,ko.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Mo=null;function To(e){null===Mo?Mo=[e]:Mo.push(e)}function Ro(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,To(t)):(n.next=a.next,a.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Li)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Do(e,n)}return null===(a=r.interleaved)?(t.next=t,To(r)):(t.next=a.next,a.next=t),r.interleaved=t,Do(e,n)}function Io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=l:o=o.next=l,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var a=e.updateQueue;Fo=!1;var o=a.firstBaseUpdate,l=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var i=s,c=i.next;i.next=null,null===l?o=c:l.next=c,l=i;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=i))}if(null!==o){var d=a.baseState;for(l=0,u=c=i=null,s=o;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,h=s;switch(f=t,p=n,h.tag){case 1:if("function"===typeof(m=h.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=h.payload)?m.call(p,d,f):m)||void 0===f)break e;d=z({},d,f);break e;case 2:Fo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,i=d):u=u.next=p,l|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(i=d),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Fi|=l,e.lanes=l,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Go={},qo=ka(Go),$o=ka(Go),Qo=ka(Go);function Ko(e){if(e===Go)throw Error(o(174));return e}function Xo(e,t){switch(Ca(Qo,t),Ca($o,e),Ca(qo,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(qo),Ca(qo,t)}function Jo(){Sa(qo),Sa($o),Sa(Qo)}function Yo(e){Ko(Qo.current);var t=Ko(qo.current),n=ie(t,e.type);t!==n&&(Ca($o,e),Ca(qo,n))}function Zo(e){$o.current===e&&(Sa(qo),Sa($o))}var el=ka(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function rl(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var al=y.ReactCurrentDispatcher,ol=y.ReactCurrentBatchConfig,ll=0,sl=null,il=null,cl=null,ul=!1,dl=!1,fl=0,pl=0;function ml(){throw Error(o(321))}function hl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function gl(e,t,n,r,a,l){if(ll=l,sl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Zl:es,e=n(r,a),dl){l=0;do{if(dl=!1,fl=0,25<=l)throw Error(o(301));l+=1,cl=il=null,t.updateQueue=null,al.current=ts,e=n(r,a)}while(dl)}if(al.current=Yl,t=null!==il&&null!==il.next,ll=0,cl=il=sl=null,ul=!1,t)throw Error(o(300));return e}function xl(){var e=0!==fl;return fl=0,e}function bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cl?sl.memoizedState=cl=e:cl=cl.next=e,cl}function vl(){if(null===il){var e=sl.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===cl?sl.memoizedState:cl.next;if(null!==t)cl=t,il=e;else{if(null===e)throw Error(o(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===cl?sl.memoizedState=cl=e:cl=cl.next=e}return cl}function yl(e,t){return"function"===typeof t?t(e):t}function wl(e){var t=vl(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=il,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var s=a.next;a.next=l.next,l.next=s}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var i=s=null,c=null,u=l;do{var d=u.lane;if((ll&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(i=c=f,s=r):c=c.next=f,sl.lanes|=d,Fi|=d}u=u.next}while(null!==u&&u!==l);null===c?s=r:c.next=i,sr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,sl.lanes|=l,Fi|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=vl(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{l=e(l,s.action),s=s.next}while(s!==a);sr(l,t.memoizedState)||(vs=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Nl(){}function kl(e,t){var n=sl,r=vl(),a=t(),l=!sr(r.memoizedState,a);if(l&&(r.memoizedState=a,vs=!0),r=r.queue,Fl(_l.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==cl&&1&cl.memoizedState.tag){if(n.flags|=2048,Pl(9,Cl.bind(null,n,r,a,t),void 0,null),null===Ei)throw Error(o(349));0!==(30&ll)||Sl(n,t,a)}return a}function Sl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sl.updateQueue)?(t={lastEffect:null,stores:null},sl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cl(e,t,n,r){t.value=n,t.getSnapshot=r,Ll(t)&&El(e)}function _l(e,t,n){return n(function(){Ll(t)&&El(e)})}function Ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function El(e){var t=Do(e,1);null!==t&&nc(t,e,1,-1)}function Ol(e){var t=bl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ql.bind(null,sl,e),[t.memoizedState,e]}function Pl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sl.updateQueue)?(t={lastEffect:null,stores:null},sl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ml(){return vl().memoizedState}function Tl(e,t,n,r){var a=bl();sl.flags|=e,a.memoizedState=Pl(1|t,n,void 0,void 0===r?null:r)}function Rl(e,t,n,r){var a=vl();r=void 0===r?null:r;var o=void 0;if(null!==il){var l=il.memoizedState;if(o=l.destroy,null!==r&&hl(r,l.deps))return void(a.memoizedState=Pl(t,n,o,r))}sl.flags|=e,a.memoizedState=Pl(1|t,n,o,r)}function Dl(e,t){return Tl(8390656,8,e,t)}function Fl(e,t){return Rl(2048,8,e,t)}function zl(e,t){return Rl(4,2,e,t)}function Bl(e,t){return Rl(4,4,e,t)}function Al(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ul(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rl(4,4,Al.bind(null,t,e),n)}function Il(){}function Vl(e,t){var n=vl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wl(e,t){var n=vl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hl(e,t,n){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(sr(n,t)||(n=ht(),sl.lanes|=n,Fi|=n,e.baseState=!0),t)}function Gl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ol.transition;ol.transition={};try{e(!1),t()}finally{vt=n,ol.transition=r}}function ql(){return vl().memoizedState}function $l(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e))Xl(t,n);else if(null!==(n=Ro(e,t,n,r))){nc(n,e,r,ec()),Jl(n,t,r)}}function Ql(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Xl(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=o(l,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,l)){var i=t.interleaved;return null===i?(a.next=a,To(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ro(e,t,a,r))&&(nc(n,e,r,a=ec()),Jl(n,t,r))}}function Kl(e){var t=e.alternate;return e===sl||null!==t&&t===sl}function Xl(e,t){dl=ul=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Yl={readContext:Po,useCallback:ml,useContext:ml,useEffect:ml,useImperativeHandle:ml,useInsertionEffect:ml,useLayoutEffect:ml,useMemo:ml,useReducer:ml,useRef:ml,useState:ml,useDebugValue:ml,useDeferredValue:ml,useTransition:ml,useMutableSource:ml,useSyncExternalStore:ml,useId:ml,unstable_isNewReconciler:!1},Zl={readContext:Po,useCallback:function(e,t){return bl().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Dl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tl(4194308,4,Al.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var n=bl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$l.bind(null,sl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bl().memoizedState=e},useState:Ol,useDebugValue:Il,useDeferredValue:function(e){return bl().memoizedState=e},useTransition:function(){var e=Ol(!1),t=e[0];return e=Gl.bind(null,e[1]),bl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sl,a=bl();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ei)throw Error(o(349));0!==(30&ll)||Sl(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Dl(_l.bind(null,r,l,e),[e]),r.flags|=2048,Pl(9,Cl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=bl(),t=Ei.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-lt(Xa)-1)).toString(32)+n),0<(n=fl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Po,useCallback:Vl,useContext:Po,useEffect:Fl,useImperativeHandle:Ul,useInsertionEffect:zl,useLayoutEffect:Bl,useMemo:Wl,useReducer:wl,useRef:Ml,useState:function(){return wl(yl)},useDebugValue:Il,useDeferredValue:function(e){return Hl(vl(),il.memoizedState,e)},useTransition:function(){return[wl(yl)[0],vl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:kl,useId:ql,unstable_isNewReconciler:!1},ts={readContext:Po,useCallback:Vl,useContext:Po,useEffect:Fl,useImperativeHandle:Ul,useInsertionEffect:zl,useLayoutEffect:Bl,useMemo:Wl,useReducer:jl,useRef:Ml,useState:function(){return jl(yl)},useDebugValue:Il,useDeferredValue:function(e){var t=vl();return null===il?t.memoizedState=e:Hl(t,il.memoizedState,e)},useTransition:function(){return[jl(yl)[0],vl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:kl,useId:ql,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Ao(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(nc(t,e,a,r),Io(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Ao(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(nc(t,e,a,r),Io(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ao(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Uo(e,a,r))&&(nc(t,e,r,n),Io(t,e,r))}};function os(e,t,n,r,a,o,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,l):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(a,o))}function ls(e,t,n){var r=!1,a=_a,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(a=Ma(t)?Oa:La.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):_a),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function is(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},zo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Po(o):(o=Ma(t)?Oa:La.current,a.context=Pa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Wo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=I(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,Gi=r),ds(0,t)},n}function ms(e,t,n){(n=Ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===qi?qi=new Set([this]):qi.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ao(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=y.ReactCurrentOwner,vs=!1;function ys(e,t,n,r){t.child=null===e?jo(t,null,n,r):wo(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var o=t.ref;return Oo(t,a),r=gl(e,t,n,r,o,a),n=xl(),null===e||vs?(ao&&n&&eo(t),t.flags|=1,ys(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function js(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ns(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var l=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(l,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Tc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(vs=!0)}}return Cs(e,t,n,r,a)}function ks(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ti,Mi),Mi|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ti,Mi),Mi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ca(Ti,Mi),Mi|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ca(Ti,Mi),Mi|=r;return ys(e,t,a,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,a){var o=Ma(n)?Oa:La.current;return o=Pa(t,o),Oo(t,a),n=gl(e,t,n,r,o,a),r=xl(),null===e||vs?(ao&&r&&eo(t),t.flags|=1,ys(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function _s(e,t,n,r,a){if(Ma(n)){var o=!0;Fa(t)}else o=!1;if(Oo(t,a),null===t.stateNode)Ws(e,t),ls(t,n,r),is(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,s=t.memoizedProps;l.props=s;var i=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pa(t,c=Ma(n)?Oa:La.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate;d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==r||i!==c)&&ss(t,l,r,c),Fo=!1;var f=t.memoizedState;l.state=f,Wo(t,r,l,a),i=t.memoizedState,s!==r||f!==i||Ea.current||Fo?("function"===typeof u&&(rs(t,n,u,r),i=t.memoizedState),(s=Fo||os(t,n,s,r,f,i,c))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),l.props=r,l.state=i,l.context=c,r=s):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Bo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),l.props=c,d=t.pendingProps,f=l.context,"object"===typeof(i=n.contextType)&&null!==i?i=Po(i):i=Pa(t,i=Ma(n)?Oa:La.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==d||f!==i)&&ss(t,l,r,i),Fo=!1,f=t.memoizedState,l.state=f,Wo(t,r,l,a);var m=t.memoizedState;s!==d||f!==m||Ea.current||Fo?("function"===typeof p&&(rs(t,n,p,r),m=t.memoizedState),(c=Fo||os(t,n,c,r,f,m,i)||!1)?(u||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,m,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,m,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),l.props=r,l.state=m,l.context=i,r=c):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ls(e,t,n,r,o,a)}function Ls(e,t,n,r,a,o){Ss(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&za(t,n,!1),Hs(e,t,o);r=t.stateNode,bs.current=t;var s=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):ys(e,t,s,o),t.memoizedState=r.state,a&&za(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Xo(e,t.containerInfo)}function Os(e,t,n,r,a){return mo(),ho(a),t.flags|=256,ys(e,t,n,r),t.child}var Ps,Ms,Ts,Rs,Ds={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,a=t.pendingProps,l=el.current,s=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ca(el,1&l),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,s?(a=t.mode,s=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=i):s=Fc(i,a,0,null),e=Dc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ds,e):Bs(t,i));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,s){if(n)return 256&t.flags?(t.flags&=-257,As(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(l=Dc(l,a,s,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ds,l);if(0===(1&t.mode))return As(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var i=r.dgst;return r=i,As(e,t,s,r=us(l=Error(o(419)),r,void 0))}if(i=0!==(s&e.childLanes),vs||i){if(null!==(r=Ei)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Do(e,a),nc(r,e,a,-1))}return hc(),As(e,t,s,r=us(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&($a[Qa++]=Xa,$a[Qa++]=Ja,$a[Qa++]=Ka,Xa=e.id,Ja=e.overflow,Ka=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,i,a,r,l,n);if(s){s=a.fallback,i=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?s=Tc(r,s):(s=Dc(s,i,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,i=null===(i=e.child.memoizedState)?Fs(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,a}return e=(s=e.child).sibling,a=Tc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function As(e,t,n,r){return null!==r&&ho(r),wo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Is(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ys(e,t,r.children,n),0!==(2&(r=el.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(el,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===tl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Is(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===tl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Is(t,!0,n,null,o);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fi|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ma(t.type)&&Ta(),qs(t),null;case 3:return r=t.stateNode,Jo(),Sa(Ea),Sa(La),rl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(lc(oo),oo=null))),Ms(e,t),qs(t),null;case 5:Zo(t);var a=Ko(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ts(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=Ko(qo.current),fo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[fa]=t,r[pa]=l,e=0!==(1&t.mode),n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Ar(Dr[a],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":X(r,l),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ar("invalid",r);break;case"textarea":ae(r,l),Ar("invalid",r)}for(var i in be(n,l),a=null,l)if(l.hasOwnProperty(i)){var c=l[i];"children"===i?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&Ar("scroll",r)}switch(n){case"input":q(r),Z(r,l,!0);break;case"textarea":q(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[fa]=t,e[pa]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(i=ve(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Ar(Dr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":X(e,r),a=K(e,r),Ar("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=z({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ar("invalid",e)}for(l in be(n,a),c=a)if(c.hasOwnProperty(l)){var u=c[l];"style"===l?ge(e,u):"dangerouslySetInnerHTML"===l?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===l?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=u&&"onScroll"===l&&Ar("scroll",e):null!=u&&v(e,l,u,i))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Ko(Qo.current),Ko(qo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(l=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return qs(t),null;case 13:if(Sa(el),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),mo(),t.flags|=98560,l=!1;else if(l=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(o(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(o(317));l[fa]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),l=!1}else null!==oo&&(lc(oo),oo=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===Ri&&(Ri=3):hc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Jo(),Ms(e,t),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return Lo(t.type._context),qs(t),null;case 19:if(Sa(el),null===(l=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(i=l.rendering))if(r)Gs(l,!1);else{if(0!==Ri||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=tl(e))){for(t.flags|=128,Gs(l,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(i=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&Je()>Vi&&(t.flags|=128,r=!0,Gs(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=tl(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(l,!0),null===l.tail&&"hidden"===l.tailMode&&!i.alternate&&!ao)return qs(t),null}else 2*Je()-l.renderingStartTime>Vi&&1073741824!==n&&(t.flags|=128,r=!0,Gs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=l.last)?n.sibling=i:t.child=i,l.last=i)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,n=el.current,Ca(el,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mi)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ma(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Sa(Ea),Sa(La),rl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Sa(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(el),null;case 4:return Jo(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Ts=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ko(qo.current);var o,l=null;switch(n){case"input":a=K(e,a),r=K(e,r),l=[];break;case"select":a=z({},a,{value:void 0}),r=z({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var i=a[u];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(i=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(null!=c||null!=i))if("style"===u)if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(l=l||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ar("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function ei(e,t,n){try{n()}catch(r){kc(e,t,r)}}var ti=!1;function ni(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&ei(t,n,o)}a=a.next}while(a!==r)}}function ri(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ai(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oi(e){var t=e.alternate;null!==t&&(e.alternate=null,oi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ha],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function li(e){return 5===e.tag||3===e.tag||4===e.tag}function si(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||li(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ii(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ii(e,t,n),e=e.sibling;null!==e;)ii(e,t,n),e=e.sibling}function ci(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ci(e,t,n),e=e.sibling;null!==e;)ci(e,t,n),e=e.sibling}var ui=null,di=!1;function fi(e,t,n){for(n=n.child;null!==n;)pi(e,t,n),n=n.sibling}function pi(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ui,a=di;ui=null,fi(e,t,n),di=a,null!==(ui=r)&&(di?(e=ui,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:null!==ui&&(di?(e=ui,n=n.stateNode,8===e.nodeType?ia(e.parentNode,n):1===e.nodeType&&ia(e,n),Vt(e)):ia(ui,n.stateNode));break;case 4:r=ui,a=di,ui=n.stateNode.containerInfo,di=!0,fi(e,t,n),ui=r,di=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,l=o.destroy;o=o.tag,void 0!==l&&(0!==(2&o)||0!==(4&o))&&ei(n,t,l),a=a.next}while(a!==r)}fi(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}fi(e,t,n);break;case 21:fi(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fi(e,t,n),Xs=r):fi(e,t,n);break;default:fi(e,t,n)}}function mi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function hi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,s=t,i=s;e:for(;null!==i;){switch(i.tag){case 5:ui=i.stateNode,di=!1;break e;case 3:case 4:ui=i.stateNode.containerInfo,di=!0;break e}i=i.return}if(null===ui)throw Error(o(160));pi(l,s,a),ui=null,di=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gi(t,e),t=t.sibling}function gi(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hi(t,e),xi(e),4&r){try{ni(3,e,e.return),ri(3,e)}catch(g){kc(e,e.return,g)}try{ni(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:hi(t,e),xi(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(hi(t,e),xi(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,s=null!==n?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===l.type&&null!=l.name&&J(a,l),ve(i,s);var u=ve(i,l);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):v(a,d,f,u)}switch(i){case"input":Y(a,l);break;case"textarea":oe(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var m=l.value;null!=m?ne(a,!!l.multiple,m,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[pa]=l}catch(g){kc(e,e.return,g)}}break;case 6:if(hi(t,e),xi(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(g){kc(e,e.return,g)}}break;case 3:if(hi(t,e),xi(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:hi(t,e),xi(e);break;case 13:hi(t,e),xi(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Ii=Je())),4&r&&mi(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,hi(t,e),Xs=u):hi(t,e),xi(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ys=e,d=e.child;null!==d;){for(f=Ys=d;null!==Ys;){switch(m=(p=Ys).child,p.tag){case 0:case 11:case 14:case 15:ni(4,p,p.return);break;case 1:Zs(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){wi(f);continue}}null!==m?(m.return=p,Ys=m):wi(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(i=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=he("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hi(t,e),xi(e),4&r&&mi(e);case 21:}}function xi(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(li(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ci(e,si(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;ii(e,si(e),l);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bi(e,t,n){Ys=e,vi(e,t,n)}function vi(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var a=Ys,o=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Ks;if(!l){var s=a.alternate,i=null!==s&&null!==s.memoizedState||Xs;s=Ks;var c=Xs;if(Ks=l,(Xs=i)&&!c)for(Ys=a;null!==Ys;)i=(l=Ys).child,22===l.tag&&null!==l.memoizedState?ji(a):null!==i?(i.return=l,Ys=i):ji(a);for(;null!==o;)Ys=o,vi(o,t,n),o=o.sibling;Ys=a,Ks=s,Xs=c}yi(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Ys=o):yi(e)}}function yi(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ri(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Ho(t,l,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var i=t.stateNode;if(null===n&&4&t.flags){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ai(t)}catch(p){kc(t,t.return,p)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function wi(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function ji(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(i){kc(t,n,i)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(i){kc(t,a,i)}}var o=t.return;try{ai(t)}catch(i){kc(t,o,i)}break;case 5:var l=t.return;try{ai(t)}catch(i){kc(t,l,i)}}}catch(i){kc(t,t.return,i)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var Ni,ki=Math.ceil,Si=y.ReactCurrentDispatcher,Ci=y.ReactCurrentOwner,_i=y.ReactCurrentBatchConfig,Li=0,Ei=null,Oi=null,Pi=0,Mi=0,Ti=ka(0),Ri=0,Di=null,Fi=0,zi=0,Bi=0,Ai=null,Ui=null,Ii=0,Vi=1/0,Wi=null,Hi=!1,Gi=null,qi=null,$i=!1,Qi=null,Ki=0,Xi=0,Ji=null,Yi=-1,Zi=0;function ec(){return 0!==(6&Li)?Je():-1!==Yi?Yi:Yi=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Li)&&0!==Pi?Pi&-Pi:null!==go.transition?(0===Zi&&(Zi=ht()),Zi):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xi)throw Xi=0,Ji=null,Error(o(185));xt(e,n,r),0!==(2&Li)&&e===Ei||(e===Ei&&(0===(2&Li)&&(zi|=n),4===Ri&&sc(e,Pi)),rc(e,r),1===n&&0===Li&&0===(1&t.mode)&&(Vi=Je()+500,Aa&&Va()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-lt(o),s=1<<l,i=a[l];-1===i?0!==(s&n)&&0===(s&r)||(a[l]=pt(s,t)):i<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ei?Pi:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Aa=!0,Ia(e)}(ic.bind(null,e)):Ia(ic.bind(null,e)),la(function(){0===(6&Li)&&Va()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Yi=-1,Zi=0,0!==(6&Li))throw Error(o(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ei?Pi:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Li;Li|=2;var l=mc();for(Ei===e&&Pi===t||(Wi=null,Vi=Je()+500,fc(e,t));;)try{bc();break}catch(i){pc(e,i)}_o(),Si.current=l,Li=a,null!==Oi?t=0:(Ei=null,Pi=0,t=Ri)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Di,fc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(l=mt(e))&&(r=l,t=oc(e,l))),1===t))throw n=Di,fc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Ui,Wi);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ii+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ui,Wi),t);break}wc(e,Ui,Wi);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-lt(r);l=1<<s,(s=t[s])>a&&(a=s),r&=~l}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ki(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ui,Wi),r);break}wc(e,Ui,Wi);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Ai;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ui,Ui=n,null!==t&&lc(t)),e}function lc(e){null===Ui?Ui=e:Ui.push.apply(Ui,e)}function sc(e,t){for(t&=~Bi,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function ic(e){if(0!==(6&Li))throw Error(o(327));jc();var t=ft(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Di,fc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ui,Wi),rc(e,Je()),null}function cc(e,t){var n=Li;Li|=1;try{return e(t)}finally{0===(Li=n)&&(Vi=Je()+500,Aa&&Va())}}function uc(e){null!==Qi&&0===Qi.tag&&0===(6&Li)&&jc();var t=Li;Li|=1;var n=_i.transition,r=vt;try{if(_i.transition=null,vt=1,e)return e()}finally{vt=r,_i.transition=n,0===(6&(Li=t))&&Va()}}function dc(){Mi=Ti.current,Sa(Ti)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Oi)for(n=Oi.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ta();break;case 3:Jo(),Sa(Ea),Sa(La),rl();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Sa(el);break;case 10:Lo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ei=e,Oi=e=Tc(e.current,null),Pi=Mi=t,Ri=0,Di=null,Bi=zi=Fi=0,Ui=Ai=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var l=o.next;o.next=a,r.next=l}n.pending=r}Mo=null}return e}function pc(e,t){for(;;){var n=Oi;try{if(_o(),al.current=Yl,ul){for(var r=sl.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ul=!1}if(ll=0,cl=il=sl=null,dl=!1,fl=0,Ci.current=null,null===n||null===n.return){Ri=1,Di=t,Oi=null;break}e:{var l=e,s=n.return,i=n,c=t;if(t=Pi,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=i,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gs(s);if(null!==m){m.flags&=-257,xs(m,s,i,0,t),1&m.mode&&hs(l,u,t),c=u;var h=(t=m).updateQueue;if(null===h){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}if(0===(1&t)){hs(l,u,t),hc();break e}c=Error(o(426))}else if(ao&&1&i.mode){var x=gs(s);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xs(x,s,i,0,t),ho(cs(c,i));break e}}l=c=cs(c,i),4!==Ri&&(Ri=2),null===Ai?Ai=[l]:Ai.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Vo(l,ps(0,c,t));break e;case 1:i=c;var b=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===qi||!qi.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,Vo(l,ms(l,i,t));break e}}l=l.return}while(null!==l)}yc(n)}catch(y){t=y,Oi===n&&null!==n&&(Oi=n=n.return);continue}break}}function mc(){var e=Si.current;return Si.current=Yl,null===e?Yl:e}function hc(){0!==Ri&&3!==Ri&&2!==Ri||(Ri=4),null===Ei||0===(268435455&Fi)&&0===(268435455&zi)||sc(Ei,Pi)}function gc(e,t){var n=Li;Li|=2;var r=mc();for(Ei===e&&Pi===t||(Wi=null,fc(e,t));;)try{xc();break}catch(a){pc(e,a)}if(_o(),Li=n,Si.current=r,null!==Oi)throw Error(o(261));return Ei=null,Pi=0,Ri}function xc(){for(;null!==Oi;)vc(Oi)}function bc(){for(;null!==Oi&&!Ke();)vc(Oi)}function vc(e){var t=Ni(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,null===t?yc(e):Oi=t,Ci.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Mi)))return void(Oi=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Oi=n);if(null===e)return Ri=6,void(Oi=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oi=t);Oi=t=e}while(null!==t);0===Ri&&(Ri=5)}function wc(e,t,n){var r=vt,a=_i.transition;try{_i.transition=null,vt=1,function(e,t,n,r){do{jc()}while(null!==Qi);if(0!==(6&Li))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lt(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,l),e===Ei&&(Oi=Ei=null,Pi=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$i||($i=!0,Ec(tt,function(){return jc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=_i.transition,_i.transition=null;var s=vt;vt=1;var i=Li;Li|=4,Ci.current=null,function(e,t){if(ea=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(w){n=null;break e}var s=0,i=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==a&&3!==f.nodeType||(i=s+a),f!==l||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(i=s),p===l&&++d===r&&(c=s),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,x=h.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(o(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}h=ti,ti=!1}(e,n),gi(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,bi(n,e,a),Xe(),Li=i,vt=s,_i.transition=l}else e.current=n;if($i&&($i=!1,Qi=e,Ki=a),l=e.pendingLanes,0===l&&(qi=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hi)throw Hi=!1,e=Gi,Gi=null,e;0!==(1&Ki)&&0!==e.tag&&jc(),l=e.pendingLanes,0!==(1&l)?e===Ji?Xi++:(Xi=0,Ji=e):Xi=0,Va()}(e,t,n,r)}finally{_i.transition=a,vt=r}return null}function jc(){if(null!==Qi){var e=yt(Ki),t=_i.transition,n=vt;try{if(_i.transition=null,vt=16>e?16:e,null===Qi)var r=!1;else{if(e=Qi,Qi=null,Ki=0,0!==(6&Li))throw Error(o(331));var a=Li;for(Li|=4,Ys=e.current;null!==Ys;){var l=Ys,s=l.child;if(0!==(16&Ys.flags)){var i=l.deletions;if(null!==i){for(var c=0;c<i.length;c++){var u=i[c];for(Ys=u;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:ni(8,d,l)}var f=d.child;if(null!==f)f.return=d,Ys=f;else for(;null!==Ys;){var p=(d=Ys).sibling,m=d.return;if(oi(d),d===u){Ys=null;break}if(null!==p){p.return=m,Ys=p;break}Ys=m}}}var h=l.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Ys=l}}if(0!==(2064&l.subtreeFlags)&&null!==s)s.return=l,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(l=Ys).flags))switch(l.tag){case 0:case 11:case 15:ni(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,Ys=b;break e}Ys=l.return}}var v=e.current;for(Ys=v;null!==Ys;){var y=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Ys=y;else e:for(s=v;null!==Ys;){if(0!==(2048&(i=Ys).flags))try{switch(i.tag){case 0:case 11:case 15:ri(9,i)}}catch(j){kc(i,i.return,j)}if(i===s){Ys=null;break e}var w=i.sibling;if(null!==w){w.return=i.return,Ys=w;break e}Ys=i.return}}if(Li=a,Va(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{vt=n,_i.transition=t}}return!1}function Nc(e,t,n){e=Uo(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qi||!qi.has(r))){t=Uo(t,e=ms(t,e=cs(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ei===e&&(Pi&n)===n&&(4===Ri||3===Ri&&(130023424&Pi)===Pi&&500>Je()-Ii?fc(e,0):Bi|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Do(e,t))&&(xt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Ec(e,t){return $e(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,l){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Dc(n.children,a,l,t);case k:s=8,a|=8;break;case S:return(e=Pc(12,n,t,2|a)).elementType=S,e.lanes=l,e;case E:return(e=Pc(13,n,t,a)).elementType=E,e.lanes=l,e;case O:return(e=Pc(19,n,t,a)).elementType=O,e.lanes=l,e;case T:return Fc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case _:s=9;break e;case L:s=11;break e;case P:s=14;break e;case M:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ac(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,o,l,s,i){return e=new Ac(e,t,n,s,i),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(o),e}function Ic(e){if(!e)return _a;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Da(e,n,t)}return t}function Vc(e,t,n,r,a,o,l,s,i){return(e=Uc(n,r,!0,e,0,o,0,s,i)).context=Ic(null),n=e.current,(o=Ao(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,a),e.current.lanes=a,xt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,o=ec(),l=tc(a);return n=Ic(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ao(o,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(a,t,l))&&(nc(e,a,l,o),Io(e,a,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Ni=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Es(t),mo();break;case 5:Yo(t);break;case 1:Ma(t.type)&&Fa(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(No,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(el,1&el.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Ca(el,1&el.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ca(el,1&el.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(el,el.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Hs(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,ao&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=Pa(t,La.current);Oo(t,n),a=gl(null,t,r,e,a,n);var l=xl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(l=!0,Fa(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,zo(t),a.updater=as,t.stateNode=a,a._reactInternals=t,is(t,r,e,n),t=Ls(null,t,r,!0,l,n)):(t.tag=0,ao&&l&&eo(t),ys(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=js(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Es(t),null===e)throw Error(o(387));r=t.pendingProps,a=(l=t.memoizedState).element,Bo(e,t),Wo(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Os(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Os(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===a){t=Hs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return Yo(t),null===e&&co(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==l&&na(r,l)&&(t.flags|=32),Ss(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return zs(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,s=a.value,Ca(No,r._currentValue),r._currentValue=s,null!==l)if(sr(l.value,s)){if(l.children===a.children&&!Ea.current){t=Hs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){s=l.child;for(var c=i.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Ao(-1,n&-n)).tag=2;var u=l.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Eo(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(10===l.tag)s=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(s=l.return))throw Error(o(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),Eo(s,n,t),s=l.sibling}else s=l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}ys(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Oo(t,n),r=r(a=Po(a)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),js(e,t,r,a=ns(r.type,a),n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Ws(e,t),t.tag=1,Ma(r)?(e=!0,Fa(t)):e=!1,Oo(t,n),ls(t,r,a),is(t,r,a,n),Ls(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Zc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var l=o;if("function"===typeof a){var s=a;a=function(){var e=Hc(l);s.call(e)}}Wc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Vc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=l,e[ma]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hc(i);s.call(e)}}var i=Uc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=i,e[ma]=i.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,i,n,r)}),i}(n,t,e,a,r);return Hc(l)}Kc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Kc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[ma]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&zt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Je()),0===(6&Li)&&(Vi=Je()+500,Va()))}break;case 13:uc(function(){var t=Do(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},jt=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Do(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},je=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));$(r),Y(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Le=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[va,ya,wa,Ce,_e,cc]},tu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,l,s),e[ma]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Kc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>ge,hasStandardBrowserEnv:()=>be,hasStandardBrowserWebWorkerEnv:()=>ve,navigator:()=>xe,origin:()=>ye});var a=n(43),o=n(391);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function i(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return function(){return e.apply(t,arguments)}}const{toString:f}=Object.prototype,{getPrototypeOf:p}=Object,{iterator:m,toStringTag:h}=Symbol,g=(x=Object.create(null),e=>{const t=f.call(e);return x[t]||(x[t]=t.slice(8,-1).toLowerCase())});var x;const b=e=>(e=e.toLowerCase(),t=>g(t)===e),v=e=>t=>typeof t===e,{isArray:y}=Array,w=v("undefined");function j(e){return null!==e&&!w(e)&&null!==e.constructor&&!w(e.constructor)&&S(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const N=b("ArrayBuffer");const k=v("string"),S=v("function"),C=v("number"),_=e=>null!==e&&"object"===typeof e,L=e=>{if("object"!==g(e))return!1;const t=p(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(h in e)&&!(m in e)},E=b("Date"),O=b("File"),P=b("Blob"),M=b("FileList"),T=b("URLSearchParams"),[R,D,F,z]=["ReadableStream","Request","Response","Headers"].map(b);function B(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),y(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(j(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let l;for(n=0;n<o;n++)l=r[n],t.call(null,e[l],l,e)}}function A(e,t){if(j(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,I=e=>!w(e)&&e!==U;const V=(W="undefined"!==typeof Uint8Array&&p(Uint8Array),e=>W&&e instanceof W);var W;const H=b("HTMLFormElement"),G=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),q=b("RegExp"),$=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};B(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)};const Q=b("AsyncFunction"),K=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],U.addEventListener("message",e=>{let{source:t,data:a}=e;t===U&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),U.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,S(U.postMessage)),X="undefined"!==typeof queueMicrotask?queueMicrotask.bind(U):"undefined"!==typeof process&&process.nextTick||K,J={isArray:y,isArrayBuffer:N,isBuffer:j,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||S(e.append)&&("formdata"===(t=g(e))||"object"===t&&S(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&N(e.buffer),t},isString:k,isNumber:C,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:L,isEmptyObject:e=>{if(!_(e)||j(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:R,isRequest:D,isResponse:F,isHeaders:z,isUndefined:w,isDate:E,isFile:O,isBlob:P,isRegExp:q,isFunction:S,isStream:e=>_(e)&&S(e.pipe),isURLSearchParams:T,isTypedArray:V,isFileList:M,forEach:B,merge:function e(){const{caseless:t,skipUndefined:n}=I(this)&&this||{},r={},a=(a,o)=>{const l=t&&A(r,o)||o;L(r[l])&&L(a)?r[l]=e(r[l],a):L(a)?r[l]=e({},a):y(a)?r[l]=a.slice():n&&w(a)||(r[l]=a)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&B(arguments[o],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return B(t,(t,r)=>{n&&S(t)?e[r]=d(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,l;const s={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)l=a[o],r&&!r(l,e,t)||s[l]||(t[l]=e[l],s[l]=!0);e=!1!==n&&p(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:g,kindOfTest:b,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(y(e))return e;let t=e.length;if(!C(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[m]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:H,hasOwnProperty:G,hasOwnProp:G,reduceDescriptors:$,freezeMethods:e=>{$(e,(t,n)=>{if(S(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];S(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return y(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:A,global:U,isContextDefined:I,isSpecCompliantForm:function(e){return!!(e&&S(e.append)&&"FormData"===e[h]&&e[m])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(j(e))return e;if(!("toJSON"in e)){t[r]=e;const a=y(e)?[]:{};return B(e,(e,t)=>{const o=n(e,r+1);!w(o)&&(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Q,isThenable:e=>e&&(_(e)||S(e))&&S(e.then)&&S(e.catch),setImmediate:K,asap:X,isIterable:e=>null!=e&&S(e[m])};function Y(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}J.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const Z=Y.prototype,ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ee[e]={value:e}}),Object.defineProperties(Y,ee),Object.defineProperty(Z,"isAxiosError",{value:!0}),Y.from=(e,t,n,r,a,o)=>{const l=Object.create(Z);J.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",i=null==t&&e?e.code:t;return Y.call(l,s,i,n,r,a),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};const te=Y;function ne(e){return J.isPlainObject(e)||J.isArray(e)}function re(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function ae(e,t,n){return e?e.concat(t).map(function(e,t){return e=re(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const oe=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});const le=function(e,t,n){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!J.isUndefined(t[e])})).metaTokens,a=n.visitor||c,o=n.dots,l=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(J.isDate(e))return e.toISOString();if(J.isBoolean(e))return e.toString();if(!s&&J.isBlob(e))throw new te("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(e)||J.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let s=e;if(e&&!a&&"object"===typeof e)if(J.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(J.isArray(e)&&function(e){return J.isArray(e)&&!e.some(ne)}(e)||(J.isFileList(e)||J.endsWith(n,"[]"))&&(s=J.toArray(e)))return n=re(n),s.forEach(function(e,r){!J.isUndefined(e)&&null!==e&&t.append(!0===l?ae([n],r,o):null===l?n:n+"[]",i(e))}),!1;return!!ne(e)||(t.append(ae(a,n,o),i(e)),!1)}const u=[],d=Object.assign(oe,{defaultVisitor:c,convertValue:i,isVisitable:ne});if(!J.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!J.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),J.forEach(n,function(n,o){!0===(!(J.isUndefined(n)||null===n)&&a.call(t,n,J.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),u.pop()}}(e),t};function se(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ie(e,t){this._pairs=[],e&&le(e,this,t)}const ce=ie.prototype;ce.append=function(e,t){this._pairs.push([e,t])},ce.toString=function(e){const t=e?function(t){return e.call(this,t,se)}:se;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ue=ie;function de(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fe(e,t,n){if(!t)return e;const r=n&&n.encode||de;J.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):J.isURLSearchParams(t)?t.toString():new ue(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const pe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(t){null!==t&&e(t)})}},me={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},he={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ue,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ge="undefined"!==typeof window&&"undefined"!==typeof document,xe="object"===typeof navigator&&navigator||void 0,be=ge&&(!xe||["ReactNative","NativeScript","NS"].indexOf(xe.product)<0),ve="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ye=ge&&window.location.href||"http://localhost",we=u(u({},r),he);const je=function(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const l=Number.isFinite(+o),s=a>=e.length;if(o=!o&&J.isArray(r)?r.length:o,s)return J.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!l;r[o]&&J.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],a)&&J.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}(r[o])),!l}if(J.isFormData(e)&&J.isFunction(e.entries)){const n={};return J.forEachEntry(e,(e,r)=>{t(function(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Ne={transitional:me,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=J.isObject(e);a&&J.isHTMLForm(e)&&(e=new FormData(e));if(J.isFormData(e))return r?JSON.stringify(je(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return le(e,new we.classes.URLSearchParams,u({visitor:function(e,t,n,r){return we.isNode&&J.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return le(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ne.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(n){if("SyntaxError"===a.name)throw te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],e=>{Ne.headers[e]={}});const ke=Ne,Se=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ce=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Le(e){return!1===e||null==e?e:J.isArray(e)?e.map(Le):String(e)}function Ee(e,t,n,r,a){return J.isFunction(r)?r.call(this,t,n):(a&&(t=n),J.isString(t)?J.isString(r)?-1!==t.indexOf(r):J.isRegExp(r)?r.test(t):void 0:void 0)}class Oe{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=_e(t);if(!a)throw new Error("header name must be a non-empty string");const o=J.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Le(e))}const o=(e,t)=>J.forEach(e,(e,n)=>a(e,n,t));if(J.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(J.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Se[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(J.isObject(e)&&J.isIterable(e)){let n,r,a={};for(const t of e){if(!J.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?J.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=_e(e)){const n=J.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(J.isFunction(t))return t.call(this,e,n);if(J.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=J.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ee(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=_e(e)){const a=J.findKey(n,e);!a||t&&!Ee(0,n[a],a,t)||(delete n[a],r=!0)}}return J.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Ee(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return J.forEach(this,(r,a)=>{const o=J.findKey(n,a);if(o)return t[o]=Le(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();l!==a&&delete t[a],t[l]=Le(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return J.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&J.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ce]=this[Ce]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=J.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return J.isArray(e)?e.forEach(r):r(e),this}}Oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Oe.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),J.freezeMethods(Oe);const Pe=Oe;function Me(e,t){const n=this||ke,r=t||n,a=Pe.from(r.headers);let o=r.data;return J.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Te(e){return!(!e||!e.__CANCEL__)}function Re(e,t,n){te.call(this,null==e?"canceled":e,te.ERR_CANCELED,t,n),this.name="CanceledError"}J.inherits(Re,te,{__CANCEL__:!0});const De=Re;function Fe(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const ze=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,l=0;return t=void 0!==t?t:1e3,function(s){const i=Date.now(),c=r[l];a||(a=i),n[o]=s,r[o]=i;let u=l,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),i-a<t)return;const f=c&&i-c;return f?Math.round(1e3*d/f):void 0}};const Be=function(e,t){let n,r,a=0,o=1e3/t;const l=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];t>=o?l(i,e):(n=i,r||(r=setTimeout(()=>{r=null,l(n)},o-t)))},()=>n&&l(n)]},Ae=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=ze(50,250);return Be(n=>{const o=n.loaded,l=n.lengthComputable?n.total:void 0,s=o-r,i=a(s);r=o;e({loaded:o,total:l,progress:l?o/l:void 0,bytes:s,rate:i||void 0,estimated:i&&l&&o<=l?(l-o)/i:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},Ue=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ie=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return J.asap(()=>e(...n))},Ve=we.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,we.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,We=we.hasStandardBrowserEnv?{write(e,t,n,r,a,o,l){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];J.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),J.isString(r)&&s.push("path=".concat(r)),J.isString(a)&&s.push("domain=".concat(a)),!0===o&&s.push("secure"),J.isString(l)&&s.push("SameSite=".concat(l)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function He(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ge=e=>e instanceof Pe?u({},e):e;function qe(e,t){t=t||{};const n={};function r(e,t,n,r){return J.isPlainObject(e)&&J.isPlainObject(t)?J.merge.call({caseless:r},e,t):J.isPlainObject(t)?J.merge({},t):J.isArray(t)?t.slice():t}function a(e,t,n,a){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function o(e,t){if(!J.isUndefined(t))return r(void 0,t)}function l(e,t){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const i={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:s,headers:(e,t,n)=>a(Ge(e),Ge(t),0,!0)};return J.forEach(Object.keys(u(u({},e),t)),function(r){const o=i[r]||a,l=o(e[r],t[r],r);J.isUndefined(l)&&o!==s||(n[r]=l)}),n}const $e=e=>{const t=qe({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:s}=t;if(t.headers=l=Pe.from(l),t.url=fe(He(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&l.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),J.isFormData(n))if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(J.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&l.set(n,r)})}if(we.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(t)),r||!1!==r&&Ve(t.url))){const e=a&&o&&We.read(o);e&&l.set(a,e)}return t},Qe="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=$e(e);let a=r.data;const o=Pe.from(r.headers).normalize();let l,s,i,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function g(){if(!h)return;const r=Pe.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Fe(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new te("Request aborted",te.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new te(r,te.ERR_NETWORK,e,h);a.event=t||null,n(a),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||me;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new te(t,a.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,h)),h=null},void 0===a&&o.setContentType(null),"setRequestHeader"in h&&J.forEach(o.toJSON(),function(e,t){h.setRequestHeader(t,e)}),J.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),d&&"json"!==d&&(h.responseType=r.responseType),p&&([i,u]=Ae(p,!0),h.addEventListener("progress",i)),f&&h.upload&&([s,c]=Ae(f),h.upload.addEventListener("progress",s),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{h&&(n(!t||t.type?new De(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===we.protocols.indexOf(x)?n(new te("Unsupported protocol "+x+":",te.ERR_BAD_REQUEST,e)):h.send(a||null)})},Ke=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof te?t:new De(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,a(new te("timeout ".concat(t," of ms exceeded"),te.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:s}=r;return s.unsubscribe=()=>J.asap(l),s}};function Xe(e,t){this.v=e,this.k=t}function Je(e){return function(){return new Ye(e.apply(this,arguments))}}function Ye(e){var t,n;function r(t,n){try{var o=e[t](n),l=o.value,s=l instanceof Xe;Promise.resolve(s?l.v:l).then(function(n){if(s){var i="return"===t?"return":"next";if(!l.k||n.done)return r(i,n);n=e[i](n).value}a(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(o,l){var s={key:e,arg:a,resolve:o,reject:l,next:null};n?n=n.next=s:(t=n=s,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Ze(e){return new Xe(e,0)}function et(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Xe(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function tt(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new nt(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function nt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return nt=function(e){this.s=e,this.n=e.next},nt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new nt(e)}Ye.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ye.prototype.next=function(e){return this._invoke("next",e)},Ye.prototype.throw=function(e){return this._invoke("throw",e)},Ye.prototype.return=function(e){return this._invoke("return",e)};const rt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},at=function(){var e=Je(function*(e,t){var n,r=!1,a=!1;try{for(var o,l=tt(ot(e));r=!(o=yield Ze(l.next())).done;r=!1){const e=o.value;yield*et(tt(rt(e,t)))}}catch(s){a=!0,n=s}finally{try{r&&null!=l.return&&(yield Ze(l.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=Je(function*(e){if(e[Symbol.asyncIterator])return void(yield*et(tt(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ze(t.read());if(e)break;yield n}}finally{yield Ze(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),lt=(e,t,n,r)=>{const a=at(e,t);let o,l=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=l+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),a.return())},{highWaterMark:2})},{isFunction:st}=J,it=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(J.global),{ReadableStream:ct,TextEncoder:ut}=J.global,dt=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},ft=e=>{e=J.merge.call({skipUndefined:!0},it,e);const{fetch:t,Request:n,Response:r}=e,a=t?st(t):"function"===typeof fetch,o=st(n),l=st(r);if(!a)return!1;const s=a&&st(ct),i=a&&("function"===typeof ut?(c=new ut,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=o&&s&&dt(()=>{let e=!1;const t=new n(we.origin,{body:new ct,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f=l&&s&&dt(()=>J.isReadableStream(new r("").body)),p={stream:f&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new te("Response type '".concat(e,"' is not supported"),te.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=J.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e)){const t=new n(we.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return J.isArrayBufferView(e)||J.isArrayBuffer(e)?e.byteLength:(J.isURLSearchParams(e)&&(e+=""),J.isString(e)?(await i(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:l,data:s,signal:i,cancelToken:c,timeout:h,onDownloadProgress:g,onUploadProgress:x,responseType:b,headers:v,withCredentials:y="same-origin",fetchOptions:w}=$e(e),j=t||fetch;b=b?(b+"").toLowerCase():"text";let N=Ke([i,c&&c.toAbortSignal()],h),k=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let C;try{if(x&&d&&"get"!==l&&"head"!==l&&0!==(C=await m(v,s))){let e,t=new n(a,{method:"POST",body:s,duplex:"half"});if(J.isFormData(s)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=Ue(C,Ae(Ie(x)));s=lt(t.body,65536,e,n)}}J.isString(y)||(y=y?"include":"omit");const t=o&&"credentials"in n.prototype,i=u(u({},w),{},{signal:N,method:l.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:t?y:void 0});k=o&&new n(a,i);let c=await(o?j(k,w):j(a,i));const h=f&&("stream"===b||"response"===b);if(f&&(g||h&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=J.toFiniteNumber(c.headers.get("content-length")),[n,a]=g&&Ue(t,Ae(Ie(g),!0))||[];c=new r(lt(c.body,65536,n,()=>{a&&a(),S&&S()}),e)}b=b||"text";let _=await p[J.findKey(p,b)||"text"](c,e);return!h&&S&&S(),await new Promise((t,n)=>{Fe(t,n,{data:_,headers:Pe.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(_){if(S&&S(),_&&"TypeError"===_.name&&/Load failed|fetch/i.test(_.message))throw Object.assign(new te("Network Error",te.ERR_NETWORK,e,k),{cause:_.cause||_});throw te.from(_,_&&_.code,e,k)}}},pt=new Map,mt=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,o=[r,a,n];let l,s,i=o.length,c=pt;for(;i--;)l=o[i],s=c.get(l),void 0===s&&c.set(l,s=i?new Map:ft(t)),c=s;return s},ht=(mt(),{http:null,xhr:Qe,fetch:{get:mt}});J.forEach(ht,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const gt=e=>"- ".concat(e),xt=e=>J.isFunction(e)||null===e||!1===e;const bt={getAdapter:function(e,t){e=J.isArray(e)?e:[e];const{length:n}=e;let r,a;const o={};for(let l=0;l<n;l++){let n;if(r=e[l],a=r,!xt(r)&&(a=ht[(n=String(r)).toLowerCase()],void 0===a))throw new te("Unknown adapter '".concat(n,"'"));if(a&&(J.isFunction(a)||(a=a.get(t))))break;o[n||"#"+l]=a}if(!a){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(gt).join("\n"):" "+gt(e[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:ht};function vt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new De(null,e)}function yt(e){vt(e),e.headers=Pe.from(e.headers),e.data=Me.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bt.getAdapter(e.adapter||ke.adapter,e)(e).then(function(t){return vt(e),t.data=Me.call(e,e.transformResponse,t),t.headers=Pe.from(t.headers),t},function(t){return Te(t)||(vt(e),t&&t.response&&(t.response.data=Me.call(e,e.transformResponse,t.response),t.response.headers=Pe.from(t.response.headers))),Promise.reject(t)})}const wt="1.13.2",jt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Nt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+wt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new te(r(a," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!Nt[a]&&(Nt[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const kt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],l=t[o];if(l){const t=e[o],n=void 0===t||l(t,o,e);if(!0!==n)throw new te("option "+o+" must be "+n,te.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new te("Unknown option "+o,te.ERR_BAD_OPTION)}},validators:jt},St=kt.validators;class Ct{constructor(e){this.defaults=e||{},this.interceptors={request:new pe,response:new pe}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=qe(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&kt.assertOptions(n,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),null!=r&&(J.isFunction(r)?t.paramsSerializer={serialize:r}:kt.assertOptions(r,{encode:St.function,serialize:St.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kt.assertOptions(t,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&J.merge(a.common,a[t.method]);a&&J.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Pe.concat(o,a);const l=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[yt.bind(this),void 0];for(e.unshift(...l),e.push(...i),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=l.length;let f=t;for(;d<u;){const e=l[d++],t=l[d++];try{f=e(f)}catch(p){t.call(this,p);break}}try{c=yt.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,u=i.length;d<u;)c=c.then(i[d++],i[d++]);return c}getUri(e){return fe(He((e=qe(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){Ct.prototype[e]=function(t,n){return this.request(qe(n||{},{method:e,url:t,data:(n||{}).data}))}}),J.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(qe(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ct.prototype[e]=t(),Ct.prototype[e+"Form"]=t(!0)});const _t=Ct;class Lt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new De(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lt(function(t){e=t}),cancel:e}}}const Et=Lt;const Ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ot).forEach(e=>{let[t,n]=e;Ot[n]=t});const Pt=Ot;const Mt=function e(t){const n=new _t(t),r=d(_t.prototype.request,n);return J.extend(r,_t.prototype,n,{allOwnKeys:!0}),J.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(qe(t,n))},r}(ke);Mt.Axios=_t,Mt.CanceledError=De,Mt.CancelToken=Et,Mt.isCancel=Te,Mt.VERSION=wt,Mt.toFormData=le,Mt.AxiosError=te,Mt.Cancel=Mt.CanceledError,Mt.all=function(e){return Promise.all(e)},Mt.spread=function(e){return function(t){return e.apply(null,t)}},Mt.isAxiosError=function(e){return J.isObject(e)&&!0===e.isAxiosError},Mt.mergeConfig=qe,Mt.AxiosHeaders=Pe,Mt.formToJSON=e=>je(J.isHTMLForm(e)?new FormData(e):e),Mt.getAdapter=bt.getAdapter,Mt.HttpStatusCode=Pt,Mt.default=Mt;const Tt={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"",Rt=Mt.create({baseURL:Tt,timeout:3e4});Rt.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),Rt.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()),Promise.reject(e)});const Dt=()=>Rt.get("/api/settings"),Ft=e=>Rt.post("/api/diagrams",e),zt=(e,t)=>Rt.put("/api/diagrams/".concat(e),t);var Bt=n(579);const At={V1600GS:1,"V1600GS-F":1,"V1600GS-ZF":1,"V1600GS-O32":1,V1600GT:2,V1600G0:4,"V1600G0-B":4,V1600G1:8,"V1600G1-B":8,"V1600G1-R":8,V1600G1WEO:8,"V1600G1WEO-B":8,V1600G2:16,"V1600G2-B":16,"V1600G2-R":16,"V1601E02-DP":2,V1600D2:2,"V1600D2-L":2,"V1600D-MINI":4,"V1601E04-DP":4,V1600D4:4,"V1600D4-L":4,"V1600D4-DP":4,V1600D8:8,V1600D16:16,V1600XG02:2,"V1600XG02-W":2,V3600G1:8,"V3600G1-C":8,V3600D8:8,V5600X2:32,V5600X7:112,Other:0};function Ut(e){let{onLogin:t,pageName:n}=e;const[r,o]=(0,a.useState)(""),[l,s]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1);return(0,Bt.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[(0,Bt.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,Bt.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,Bt.jsx)("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),(0,Bt.jsx)("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"2s"}}),(0,Bt.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"4s"}})]}),(0,Bt.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0)",backgroundSize:"40px 40px"}})]}),(0,Bt.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,Bt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-2xl blur-lg opacity-40"}),(0,Bt.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl p-8 rounded-2xl shadow-2xl border border-white/20",children:[(0,Bt.jsxs)("div",{className:"text-center mb-8",children:[(0,Bt.jsxs)("div",{className:"relative inline-block",children:[(0,Bt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:(0,Bt.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,Bt.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),(0,Bt.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:n||"OLT Manager"}),(0,Bt.jsx)("p",{className:"text-gray-500 mt-2 text-sm",children:"Fiber Network Management System"})]}),i&&(0,Bt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg flex items-center gap-3 animate-shake",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Bt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Bt.jsx)("span",{className:"text-red-700 text-sm font-medium",children:i})]}),(0,Bt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(""),d(!0);try{const e=await((e,t)=>Rt.post("/api/auth/login",{username:e,password:t}))(r,l);localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),t(e.data.user)}catch(o){var n,a;c((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Login failed")}finally{d(!1)}},className:"space-y-5",children:[(0,Bt.jsxs)("div",{className:"space-y-2",children:[(0,Bt.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Username"}),(0,Bt.jsxs)("div",{className:"relative group",children:[(0,Bt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Bt.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Bt.jsx)("input",{type:"text",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 outline-none text-gray-800 placeholder-gray-400",value:r,onChange:e=>o(e.target.value),placeholder:"Enter your username"})]})]}),(0,Bt.jsxs)("div",{className:"space-y-2",children:[(0,Bt.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),(0,Bt.jsxs)("div",{className:"relative group",children:[(0,Bt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Bt.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Bt.jsx)("input",{type:f?"text":"password",required:!0,className:"w-full pl-12 pr-12 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 outline-none text-gray-800 placeholder-gray-400",value:l,onChange:e=>s(e.target.value),placeholder:"Enter your password"}),(0,Bt.jsx)("button",{type:"button",onClick:()=>p(!f),"aria-label":f?"Hide password":"Show password",title:f?"Hide password":"Show password",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600",children:f?(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Bt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Bt.jsx)("button",{type:"submit",disabled:u,className:"w-full py-4 px-4 bg-gradient-to-r from-blue-600 to-cyan-500 text-white rounded-xl hover:from-blue-700 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 transform hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2",children:u?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Bt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Bt.jsx)("span",{children:"Signing in..."})]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("span",{children:"Sign In"}),(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}),(0,Bt.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:(0,Bt.jsx)("p",{className:"text-xs text-gray-400",children:"GPON Fiber Network Management"})})]})]})]})}function It(e){let{title:t,value:n,subValue:r,color:a,icon:o,trend:l,trendValue:s,footerText:i}=e;const c={blue:{iconBg:"bg-blue-50",iconColor:"text-blue-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},green:{iconBg:"bg-emerald-50",iconColor:"text-emerald-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},red:{iconBg:"bg-red-50",iconColor:"text-red-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},yellow:{iconBg:"bg-amber-50",iconColor:"text-amber-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},purple:{iconBg:"bg-purple-50",iconColor:"text-purple-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},gray:{iconBg:"bg-gray-100",iconColor:"text-gray-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},indigo:{iconBg:"bg-indigo-50",iconColor:"text-indigo-600",trendUp:"text-emerald-600",trendDown:"text-red-600"},cyan:{iconBg:"bg-cyan-50",iconColor:"text-cyan-600",trendUp:"text-emerald-600",trendDown:"text-red-600"}},u={olt:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"}),onu:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"}),online:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),offline:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}),region:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})},d=c[a]||c.blue;return(0,Bt.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-[#e8eaed] hover:shadow-sm transition-shadow duration-200",children:[(0,Bt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Bt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Bt.jsx)("p",{className:"text-sm text-[#4b5563] font-medium mb-1",children:t}),(0,Bt.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Bt.jsx)("p",{className:"text-3xl font-semibold text-[#111827] tabular-nums",children:n}),s&&(0,Bt.jsxs)("span",{className:"text-sm font-medium ".concat("up"===l?d.trendUp:d.trendDown),children:["up"===l?"+":"",s]})]}),r&&(0,Bt.jsx)("p",{className:"text-sm text-[#9ca3af] mt-1",children:r})]}),(0,Bt.jsx)("div",{className:"".concat(d.iconBg," rounded-lg p-3"),children:(0,Bt.jsx)("svg",{className:"w-6 h-6 ".concat(d.iconColor),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u[o]||u.olt})})]}),i&&(0,Bt.jsx)("div",{className:"mt-4 pt-3 border-t border-[#e8eaed]",children:(0,Bt.jsx)("p",{className:"text-xs text-[#9ca3af]",children:i})})]})}function Vt(e){let{online:t}=e;return(0,Bt.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 text-xs font-medium rounded-full ".concat(t?"bg-[#d1fae5] text-[#059669]":"bg-[#fee2e2] text-[#dc2626]"),children:[(0,Bt.jsx)("span",{className:"w-1.5 h-1.5 rounded-full ".concat(t?"bg-[#059669]":"bg-[#dc2626]")}),t?"Online":"Offline"]})}function Wt(e){let{isOpen:t,onClose:n,title:r,children:a,size:o="md"}=e;if(!t)return null;return(0,Bt.jsx)("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:(0,Bt.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[o]," max-h-[90vh] overflow-hidden transform transition-all animate-slideUp"),children:[(0,Bt.jsxs)("div",{className:"relative bg-gradient-to-r from-gray-50 to-white border-b border-gray-100",children:[(0,Bt.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500"}),(0,Bt.jsxs)("div",{className:"flex justify-between items-center p-5",children:[(0,Bt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:r}),(0,Bt.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,Bt.jsx)("div",{className:"p-5 overflow-y-auto max-h-[calc(90vh-80px)]",children:a})]})})}function Ht(e){let{isOpen:t,onClose:n,images:r,initialIndex:o=0,title:l}=e;const[s,i]=(0,a.useState)(o);return(0,a.useEffect)(()=>{i(o)},[o,t]),(0,a.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"===e.key&&n(),"ArrowLeft"===e.key&&i(e=>e>0?e-1:r.length-1),"ArrowRight"===e.key&&i(e=>e<r.length-1?e+1:0)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,r.length,n]),t&&r&&0!==r.length?(0,Bt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:n,children:(0,Bt.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,Bt.jsx)("button",{onClick:n,className:"absolute -top-10 right-0 text-white hover:text-gray-300 z-10",children:(0,Bt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l&&(0,Bt.jsx)("div",{className:"absolute -top-10 left-0 text-white text-lg font-medium",children:l}),(0,Bt.jsx)("div",{className:"flex items-center justify-center",children:(0,Bt.jsx)("img",{src:r[s],alt:"Preview ".concat(s+1),className:"max-h-[80vh] max-w-full object-contain rounded-lg"})}),r.length>1&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("button",{onClick:()=>i(e=>e>0?e-1:r.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full",children:(0,Bt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Bt.jsx)("button",{onClick:()=>i(e=>e<r.length-1?e+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full",children:(0,Bt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.length>1&&(0,Bt.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[s+1," / ",r.length]}),r.length>1&&(0,Bt.jsx)("div",{className:"flex justify-center mt-4 gap-2",children:r.map((e,t)=>(0,Bt.jsx)("button",{onClick:()=>i(t),className:"w-16 h-16 rounded-lg overflow-hidden border-2 ".concat(t===s?"border-blue-500":"border-transparent opacity-60 hover:opacity-100"),children:(0,Bt.jsx)("img",{src:e,alt:"Thumb ".concat(t+1),className:"w-full h-full object-cover"})},t))})]})}):null}function Gt(e){let{isOpen:t,onClose:n,onSubmit:r,regions:o}=e;const[l,s]=(0,a.useState)({name:"",ip_address:"",username:"admin",password:"",snmp_community:"public",model:"",pon_ports:8,region_id:""}),[i,c]=(0,a.useState)(!1),[d,f]=(0,a.useState)(!1);return(0,Bt.jsx)(Wt,{isOpen:t,onClose:n,title:"Add New OLT",size:"lg",children:(0,Bt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e=u({},l);""===e.region_id?delete e.region_id:e.region_id=parseInt(e.region_id),await r(e),s({name:"",ip_address:"",username:"admin",password:"",snmp_community:"public",model:"",pon_ports:8,region_id:""}),f(!1),n()}catch(o){var t,a;alert("Failed to add OLT: "+((null===(t=o.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||o.message))}finally{c(!1)}},children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Bt.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.name,onChange:e=>s(u(u({},l),{},{name:e.target.value})),placeholder:"OLT-1"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Address *"}),(0,Bt.jsx)("input",{type:"text",required:!0,pattern:"^(\\d{1,3}\\.){3}\\d{1,3}$",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.ip_address,onChange:e=>s(u(u({},l),{},{ip_address:e.target.value})),placeholder:"10.10.10.1"})]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OLT Username *"}),(0,Bt.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.username,onChange:e=>s(u(u({},l),{},{username:e.target.value})),placeholder:"admin"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OLT Password *"}),(0,Bt.jsx)("input",{type:"password",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.password,onChange:e=>s(u(u({},l),{},{password:e.target.value})),placeholder:"OLT password"})]})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SNMP Community"}),(0,Bt.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.snmp_community,onChange:e=>s(u(u({},l),{},{snmp_community:e.target.value})),placeholder:"public"})]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),(0,Bt.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.model,onChange:e=>{var t;(t=e.target.value)&&"Other"!==t&&At[t]?(s(u(u({},l),{},{model:t,pon_ports:At[t]})),f(!0)):(s(u(u({},l),{},{model:t,pon_ports:"Other"===t?"":8})),f(!1))},children:[(0,Bt.jsx)("option",{value:"",children:"Select Model"}),(0,Bt.jsxs)("optgroup",{label:"GPON - 1 PON",children:[(0,Bt.jsx)("option",{value:"V1600GS",children:"V1600GS"}),(0,Bt.jsx)("option",{value:"V1600GS-F",children:"V1600GS-F"}),(0,Bt.jsx)("option",{value:"V1600GS-ZF",children:"V1600GS-ZF"}),(0,Bt.jsx)("option",{value:"V1600GS-O32",children:"V1600GS-O32"})]}),(0,Bt.jsx)("optgroup",{label:"GPON - 2 PON",children:(0,Bt.jsx)("option",{value:"V1600GT",children:"V1600GT"})}),(0,Bt.jsxs)("optgroup",{label:"GPON - 4 PON",children:[(0,Bt.jsx)("option",{value:"V1600G0",children:"V1600G0"}),(0,Bt.jsx)("option",{value:"V1600G0-B",children:"V1600G0-B"})]}),(0,Bt.jsxs)("optgroup",{label:"GPON - 8 PON",children:[(0,Bt.jsx)("option",{value:"V1600G1",children:"V1600G1"}),(0,Bt.jsx)("option",{value:"V1600G1-B",children:"V1600G1-B"}),(0,Bt.jsx)("option",{value:"V1600G1-R",children:"V1600G1-R"}),(0,Bt.jsx)("option",{value:"V1600G1WEO",children:"V1600G1WEO"}),(0,Bt.jsx)("option",{value:"V1600G1WEO-B",children:"V1600G1WEO-B"})]}),(0,Bt.jsxs)("optgroup",{label:"GPON - 16 PON",children:[(0,Bt.jsx)("option",{value:"V1600G2",children:"V1600G2"}),(0,Bt.jsx)("option",{value:"V1600G2-B",children:"V1600G2-B"}),(0,Bt.jsx)("option",{value:"V1600G2-R",children:"V1600G2-R"})]}),(0,Bt.jsxs)("optgroup",{label:"EPON - 2 PON",children:[(0,Bt.jsx)("option",{value:"V1601E02-DP",children:"V1601E02-DP"}),(0,Bt.jsx)("option",{value:"V1600D2",children:"V1600D2"}),(0,Bt.jsx)("option",{value:"V1600D2-L",children:"V1600D2-L"})]}),(0,Bt.jsxs)("optgroup",{label:"EPON - 4 PON",children:[(0,Bt.jsx)("option",{value:"V1600D-MINI",children:"V1600D-MINI"}),(0,Bt.jsx)("option",{value:"V1601E04-DP",children:"V1601E04-DP"}),(0,Bt.jsx)("option",{value:"V1600D4",children:"V1600D4"}),(0,Bt.jsx)("option",{value:"V1600D4-L",children:"V1600D4-L"}),(0,Bt.jsx)("option",{value:"V1600D4-DP",children:"V1600D4-DP"})]}),(0,Bt.jsx)("optgroup",{label:"EPON - 8 PON",children:(0,Bt.jsx)("option",{value:"V1600D8",children:"V1600D8"})}),(0,Bt.jsx)("optgroup",{label:"EPON - 16 PON",children:(0,Bt.jsx)("option",{value:"V1600D16",children:"V1600D16"})}),(0,Bt.jsxs)("optgroup",{label:"XGS-PON 10G - 2 PON",children:[(0,Bt.jsx)("option",{value:"V1600XG02",children:"V1600XG02"}),(0,Bt.jsx)("option",{value:"V1600XG02-W",children:"V1600XG02-W"})]}),(0,Bt.jsxs)("optgroup",{label:"XGS-PON 10G - 8 PON",children:[(0,Bt.jsx)("option",{value:"V3600G1",children:"V3600G1"}),(0,Bt.jsx)("option",{value:"V3600G1-C",children:"V3600G1-C"}),(0,Bt.jsx)("option",{value:"V3600D8",children:"V3600D8"})]}),(0,Bt.jsxs)("optgroup",{label:"Chassis",children:[(0,Bt.jsx)("option",{value:"V5600X2",children:"V5600X2 (32 PON)"}),(0,Bt.jsx)("option",{value:"V5600X7",children:"V5600X7 (112 PON)"})]}),(0,Bt.jsx)("optgroup",{label:"Custom",children:(0,Bt.jsx)("option",{value:"Other",children:"Other"})})]})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PON Ports"}),(0,Bt.jsx)("input",{type:"number",min:"1",max:"128",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(d?"bg-gray-100 text-gray-600":""),value:l.pon_ports,onChange:e=>s(u(u({},l),{},{pon_ports:parseInt(e.target.value)||""})),readOnly:d}),d&&(0,Bt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from model"})]})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),(0,Bt.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.region_id,onChange:e=>s(u(u({},l),{},{region_id:e.target.value})),children:[(0,Bt.jsx)("option",{value:"",children:"No Region"}),o.map(e=>(0,Bt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Bt.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Bt.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Bt.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Adding...":"Add OLT"})]})]})})}function qt(e){var t;let{isOpen:n,onClose:r,onu:o,onSubmit:l,onImageUpload:s,onImageDelete:i,regions:c}=e;const[d,f]=(0,a.useState)({description:"",latitude:"",longitude:"",address:"",region_id:""}),[p,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[x,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{o&&(f({description:o.description||"",latitude:o.latitude||"",longitude:o.longitude||"",address:o.address||"",region_id:o.region_id||""}),b(o.image_urls||(o.image_url?[o.image_url]:[])))},[o]);return o?(0,Bt.jsxs)(Wt,{isOpen:n,onClose:r,title:"Edit ONU",size:"lg",children:[(0,Bt.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Bt.jsxs)("p",{className:"text-sm",children:[(0,Bt.jsx)("strong",{children:"MAC:"})," ",o.mac_address]}),(0,Bt.jsxs)("p",{className:"text-sm",children:[(0,Bt.jsx)("strong",{children:"Port:"})," 0/",o.pon_port,":",o.onu_id]}),(0,Bt.jsxs)("p",{className:"text-sm",children:[(0,Bt.jsx)("strong",{children:"OLT:"})," ",o.olt_name]})]}),(0,Bt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{const e={description:d.description||null,latitude:d.latitude?parseFloat(d.latitude):null,longitude:d.longitude?parseFloat(d.longitude):null,address:d.address||null,region_id:d.region_id?parseInt(d.region_id):null};await l(o.id,e),r()}catch(a){var t,n;alert("Failed to update ONU: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}finally{m(!1)}},children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name / Description"}),(0,Bt.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:d.description,onChange:e=>f(u(u({},d),{},{description:e.target.value})),placeholder:"Customer name or description"}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This will be synced to the OLT device"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),(0,Bt.jsxs)("div",{className:"relative",children:[(0,Bt.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 pl-10 focus:ring-2 focus:ring-blue-500 appearance-none",value:d.region_id,onChange:e=>f(u(u({},d),{},{region_id:e.target.value})),children:[(0,Bt.jsx)("option",{value:"",children:"No Region"}),c&&c.map(e=>(0,Bt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Bt.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:d.region_id&&(null===c||void 0===c||null===(t=c.find(e=>e.id===parseInt(d.region_id)))||void 0===t?void 0:t.color)||"#E5E7EB"}}),(0,Bt.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,Bt.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),(0,Bt.jsx)("input",{type:"number",step:"any",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:d.latitude,onChange:e=>f(u(u({},d),{},{latitude:e.target.value})),placeholder:"24.7136"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),(0,Bt.jsx)("input",{type:"number",step:"any",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:d.longitude,onChange:e=>f(u(u({},d),{},{longitude:e.target.value})),placeholder:"46.6753"})]})]}),d.latitude&&d.longitude&&(0,Bt.jsxs)("button",{type:"button",onClick:()=>{d.latitude&&d.longitude&&window.open("https://www.google.com/maps?q=".concat(d.latitude,",").concat(d.longitude),"_blank")},className:"w-full py-2 px-4 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 flex items-center justify-center",children:[(0,Bt.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Open in Google Maps"]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Bt.jsx)("textarea",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",rows:"2",value:d.address,onChange:e=>f(u(u({},d),{},{address:e.target.value})),placeholder:"Street address, building, etc."})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Building/Location Images (",x.length,"/3)"]}),x.length>0&&(0,Bt.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:x.map((e,t)=>(0,Bt.jsxs)("div",{className:"relative",children:[(0,Bt.jsx)("img",{src:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"").concat(e),alt:"Building ".concat(t+1),className:"w-full h-24 object-cover rounded-lg border"}),(0,Bt.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("Delete this image?")){g(!0);try{const t=await i(o.id,e);b(t.image_urls||[])}catch(r){var t,n;alert("Failed to delete image: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}finally{g(!1)}}})(t),disabled:h,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 disabled:opacity-50",children:(0,Bt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),x.length<3&&(0,Bt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,Bt.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,Bt.jsx)("div",{className:"flex flex-col items-center justify-center py-2",children:h?(0,Bt.jsx)("div",{className:"text-gray-500",children:"Uploading..."}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("svg",{className:"w-6 h-6 mb-1 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Bt.jsxs)("p",{className:"text-xs text-gray-500",children:["Add image (",3-x.length," remaining)"]}),(0,Bt.jsx)("p",{className:"text-xs text-gray-400",children:"JPG, PNG, GIF up to 5MB"})]})}),(0,Bt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("Image must be less than 5MB");else if(x.length>=3)alert("Maximum 3 images allowed. Delete an existing image first.");else{g(!0);try{const e=await s(o.id,t);b(e.image_urls||[...x,e.image_url])}catch(a){var n,r;alert("Failed to upload image: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message))}finally{g(!1)}}else alert("Please select an image file")},disabled:h})]})}),h&&(0,Bt.jsx)("div",{className:"mt-2 text-center text-gray-500",children:"Processing..."})]})]}),(0,Bt.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Bt.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Bt.jsx)("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Saving...":"Save Changes"})]})]})]}):null}function $t(e){let{isOpen:t,onClose:n,region:r,onSubmit:o}=e;const[l,s]=(0,a.useState)({name:"",description:"",color:"#3B82F6"}),[i,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s(r?{name:r.name||"",description:r.description||"",color:r.color||"#3B82F6"}:{name:"",description:"",color:"#3B82F6"})},[r]);return(0,Bt.jsx)(Wt,{isOpen:t,onClose:n,title:r?"Edit Region":"Add Region",children:(0,Bt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e={name:l.name,description:l.description||null,color:l.color};await o(e,null===r||void 0===r?void 0:r.id),n()}catch(s){var t,a;alert("Failed to save region: "+((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||s.message))}finally{c(!1)}},children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Bt.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.name,onChange:e=>s(u(u({},l),{},{name:e.target.value})),placeholder:"Region name"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Bt.jsx)("textarea",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",rows:"2",value:l.description,onChange:e=>s(u(u({},l),{},{description:e.target.value})),placeholder:"Optional description"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Bt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Bt.jsx)("div",{className:"flex gap-2 flex-wrap",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"].map(e=>(0,Bt.jsx)("button",{type:"button",onClick:()=>s(u(u({},l),{},{color:e})),className:"w-8 h-8 rounded-full border-2 transition-transform hover:scale-110 ".concat(l.color===e?"border-gray-800 ring-2 ring-offset-2 ring-gray-400":"border-gray-300"),style:{backgroundColor:e}},e))}),(0,Bt.jsx)("input",{type:"color",value:l.color,onChange:e=>s(u(u({},l),{},{color:e.target.value})),className:"w-10 h-10 rounded cursor-pointer border-0",title:"Custom color"})]})]})]}),(0,Bt.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Bt.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Bt.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Saving...":"Save"})]})]})})}function Qt(e){let{isOpen:t,onClose:n,user:r,onSubmit:o,olts:l}=e;const[s,i]=(0,a.useState)({username:"",password:"",full_name:"",role:"operator",is_active:!0,assigned_olt_ids:[]}),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i(r?{username:r.username||"",password:"",full_name:r.full_name||"",role:r.role||"operator",is_active:!1!==r.is_active,assigned_olt_ids:r.assigned_olt_ids||[]}:{username:"",password:"",full_name:"",role:"operator",is_active:!0,assigned_olt_ids:[]})},[r]);return(0,Bt.jsx)(Wt,{isOpen:t,onClose:n,title:r?"Edit User":"Add User",size:"lg",children:(0,Bt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{const e=u({},s);r&&!e.password&&delete e.password,await o(e,null===r||void 0===r?void 0:r.id),n()}catch(l){var t,a;alert("Failed to save user: "+((null===(t=l.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||l.message))}finally{d(!1)}},children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),(0,Bt.jsx)("input",{type:"text",required:!0,disabled:!!r,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",value:s.username,onChange:e=>i(u(u({},s),{},{username:e.target.value}))})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r?"(leave blank to keep current)":"*"]}),(0,Bt.jsx)("input",{type:"password",required:!r,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:s.password,onChange:e=>i(u(u({},s),{},{password:e.target.value}))})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,Bt.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:s.full_name,onChange:e=>i(u(u({},s),{},{full_name:e.target.value}))})]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Bt.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:s.role,onChange:e=>i(u(u({},s),{},{role:e.target.value})),children:[(0,Bt.jsx)("option",{value:"admin",children:"Admin"}),(0,Bt.jsx)("option",{value:"operator",children:"Operator"})]})]}),(0,Bt.jsx)("div",{className:"flex items-center pt-6",children:(0,Bt.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,Bt.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:s.is_active,onChange:e=>i(u(u({},s),{},{is_active:e.target.checked}))}),(0,Bt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),"operator"===s.role&&(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned OLTs"}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Operators can only see ONUs from assigned OLTs"}),(0,Bt.jsx)("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:l.map(e=>(0,Bt.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,Bt.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:s.assigned_olt_ids.includes(e.id),onChange:()=>(e=>{const t=s.assigned_olt_ids.includes(e)?s.assigned_olt_ids.filter(t=>t!==e):[...s.assigned_olt_ids,e];i(u(u({},s),{},{assigned_olt_ids:t}))})(e.id)}),(0,Bt.jsxs)("span",{className:"ml-2 text-sm",children:[e.name," (",e.ip_address,")"]})]},e.id))})]})]}),(0,Bt.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Bt.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Bt.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?"Saving...":"Save"})]})]})})}function Kt(e){var t,n,r,o;let{isOpen:l,onClose:s,settings:i,onSubmit:c,onChangePassword:d,licenseInfo:f}=e;const[p,m]=(0,a.useState)({system_name:"OLT Manager",page_name:"",polling_interval:300,whatsapp_enabled:!1,whatsapp_api_url:"",whatsapp_secret:"",whatsapp_account:"",whatsapp_recipients:[],trap_enabled:!0,trap_port:162}),[h,g]=(0,a.useState)({current_password:"",new_password:"",confirm_password:""}),[x,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)(null),[N,k]=(0,a.useState)("general"),[S,C]=(0,a.useState)({name:"",phone:""});(0,a.useEffect)(()=>{if(i){let t=[];try{i.whatsapp_recipients&&(t=JSON.parse(i.whatsapp_recipients),Array.isArray(t)||(t=[]))}catch(e){t=[]}m({system_name:i.system_name||"OLT Manager",page_name:i.page_name||"OLT Manager",polling_interval:i.polling_interval||300,whatsapp_enabled:"true"===String(i.whatsapp_enabled).toLowerCase()||!0===i.whatsapp_enabled,whatsapp_api_url:i.whatsapp_api_url||"https://proxsms.com/api/send/whatsapp",whatsapp_secret:i.whatsapp_secret||"",whatsapp_account:i.whatsapp_account||"",whatsapp_recipients:t,trap_enabled:"true"===String(i.trap_enabled).toLowerCase()||!0===i.trap_enabled,trap_port:i.trap_port||162})}},[i]);const _=async e=>{e.preventDefault(),b(!0);try{const e=u(u({},p),{},{whatsapp_recipients:JSON.stringify(p.whatsapp_recipients)});await c(e),alert("Settings saved successfully")}catch(r){var t,n;alert("Failed to save settings: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}finally{b(!1)}};return(0,Bt.jsxs)(Wt,{isOpen:l,onClose:s,title:"Settings",size:"lg",children:[(0,Bt.jsxs)("div",{className:"flex border-b mb-4 overflow-x-auto",children:[(0,Bt.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("general"===N?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>k("general"),children:"General"}),(0,Bt.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("whatsapp"===N?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>k("whatsapp"),children:"WhatsApp"}),(0,Bt.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("password"===N?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>k("password"),children:"Password"}),(0,Bt.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("license"===N?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>k("license"),children:"License"})]}),"general"===N&&(0,Bt.jsxs)("form",{onSubmit:_,children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"System Name"}),(0,Bt.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:p.system_name,onChange:e=>m(u(u({},p),{},{system_name:e.target.value})),placeholder:"OLT Manager"}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Name displayed in header and browser title"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Polling Interval (seconds)"}),(0,Bt.jsx)("input",{type:"number",min:"60",max:"3600",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:p.polling_interval,onChange:e=>m(u(u({},p),{},{polling_interval:parseInt(e.target.value)}))}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"How often to poll OLTs for ONU status (60-3600 seconds)"})]})]}),(0,Bt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Bt.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:x?"Saving...":"Save Settings"})})]}),"whatsapp"===N&&(0,Bt.jsxs)("form",{onSubmit:_,children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border border-green-200",children:[(0,Bt.jsxs)("div",{className:"flex items-center",children:[(0,Bt.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-3",children:(0,Bt.jsx)("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("h3",{className:"font-semibold text-green-800 text-lg",children:"WhatsApp Notifications"}),(0,Bt.jsx)("p",{className:"text-sm text-green-600",children:"Get alerts when ONUs go offline or come back online"})]})]}),(0,Bt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Bt.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p.whatsapp_enabled,onChange:e=>m(u(u({},p),{},{whatsapp_enabled:e.target.checked}))}),(0,Bt.jsx)("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-green-500"}),(0,Bt.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-700",children:p.whatsapp_enabled?"ON":"OFF"})]})]}),(0,Bt.jsxs)("div",{className:"space-y-4 p-4 rounded-xl border ".concat(p.whatsapp_enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-100"),children:[(0,Bt.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Bt.jsxs)("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"API Configuration"]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API URL"}),(0,Bt.jsx)("input",{type:"url",className:"w-full rounded-lg border shadow-sm border-gray-300 p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 ".concat(p.whatsapp_enabled?"":"bg-gray-100 text-gray-500"),value:p.whatsapp_api_url,onChange:e=>m(u(u({},p),{},{whatsapp_api_url:e.target.value})),placeholder:"https://proxsms.com/api/send/whatsapp"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secret Key"}),(0,Bt.jsx)("input",{type:"password",className:"w-full rounded-lg border shadow-sm border-gray-300 p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 ".concat(p.whatsapp_enabled?"":"bg-gray-100 text-gray-500"),value:p.whatsapp_secret,onChange:e=>m(u(u({},p),{},{whatsapp_secret:e.target.value})),placeholder:"Your ProxSMS secret key"})]})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device ID (Account)"}),(0,Bt.jsx)("input",{type:"text",className:"w-full rounded-lg border shadow-sm border-gray-300 p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 ".concat(p.whatsapp_enabled?"":"bg-gray-100 text-gray-500"),value:p.whatsapp_account,onChange:e=>m(u(u({},p),{},{whatsapp_account:e.target.value})),placeholder:"Your WhatsApp device ID"})]})]}),(0,Bt.jsxs)("div",{className:"space-y-4 p-4 rounded-xl border ".concat(p.whatsapp_enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-100"),children:[(0,Bt.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Recipients (",p.whatsapp_recipients.length,")"]}),(0,Bt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,Bt.jsx)("input",{type:"text",placeholder:"Name",className:"flex-1 rounded-lg border shadow-sm border-gray-300 p-2.5 text-sm focus:ring-2 focus:ring-green-500 ".concat(p.whatsapp_enabled?"":"bg-gray-100 text-gray-500"),value:S.name,onChange:e=>C(u(u({},S),{},{name:e.target.value}))}),(0,Bt.jsx)("input",{type:"tel",placeholder:"Phone (+961...)",className:"flex-1 rounded-lg border shadow-sm border-gray-300 p-2.5 text-sm focus:ring-2 focus:ring-green-500 ".concat(p.whatsapp_enabled?"":"bg-gray-100 text-gray-500"),value:S.phone,onChange:e=>C(u(u({},S),{},{phone:e.target.value}))}),(0,Bt.jsxs)("button",{type:"button",onClick:()=>{S.name.trim()&&S.phone.trim()?(m(u(u({},p),{},{whatsapp_recipients:[...p.whatsapp_recipients,u({},S)]})),C({name:"",phone:""})):alert("Please enter both name and phone number")},disabled:!p.whatsapp_enabled,className:"px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 text-sm font-medium",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]})]}),p.whatsapp_recipients.length>0?(0,Bt.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:p.whatsapp_recipients.map((e,t)=>(0,Bt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:bg-gray-100 transition-colors",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Bt.jsx)("div",{className:"w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center font-semibold text-sm",children:e.name.charAt(0).toUpperCase()}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("p",{className:"font-medium text-gray-800 text-sm",children:e.name}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500",children:e.phone})]})]}),(0,Bt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Bt.jsx)("button",{type:"button",onClick:()=>(async(e,t,n)=>{if(p.whatsapp_secret&&p.whatsapp_account){j(n);try{const n=await fetch("/api/whatsapp/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({api_url:p.whatsapp_api_url,secret:p.whatsapp_secret,account:p.whatsapp_account,recipient:e})}),r=await n.json();n.ok?alert("Test message sent to ".concat(t,"!")):alert("Failed to send test message: "+(r.detail||r.message||"Unknown error"))}catch(r){alert("Error sending test message: "+r.message)}finally{j(null)}}else alert("Please fill in API settings first")})(e.phone,e.name,t),disabled:null!==w||!p.whatsapp_enabled,className:"p-1.5 text-green-600 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50",title:"Send test message",children:w===t?(0,Bt.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Bt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,Bt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=p.whatsapp_recipients.filter((t,n)=>n!==e);m(u(u({},p),{},{whatsapp_recipients:t}))})(t),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Remove recipient",children:(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t))}):(0,Bt.jsxs)("div",{className:"text-center py-6 text-gray-400",children:[(0,Bt.jsx)("svg",{className:"w-10 h-10 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),(0,Bt.jsx)("p",{className:"text-sm",children:"No recipients added yet"}),(0,Bt.jsx)("p",{className:"text-xs",children:"Add recipients to receive notifications"})]})]}),(0,Bt.jsx)("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:(0,Bt.jsxs)("div",{className:"flex items-start",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Bt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"When enabled, you'll receive notifications for:"}),(0,Bt.jsxs)("ul",{className:"text-sm text-blue-700 mt-1 ml-4 list-disc",children:[(0,Bt.jsx)("li",{children:"ONU goes offline"}),(0,Bt.jsx)("li",{children:"ONU comes back online"}),(0,Bt.jsx)("li",{children:"OLT connection issues"})]})]})]})}),(0,Bt.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl border border-purple-100",children:[(0,Bt.jsxs)("h3",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[(0,Bt.jsx)("svg",{className:"w-6 h-6 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"SNMP Trap Receiver (Instant Alerts)"]}),(0,Bt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Enable Trap Receiver"}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500",children:"Receive instant ONU status changes from OLT"})]}),(0,Bt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Bt.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p.trap_enabled,onChange:e=>m(u(u({},p),{},{trap_enabled:e.target.checked}))}),(0,Bt.jsx)("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-purple-500"}),(0,Bt.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-700",children:p.trap_enabled?"ON":"OFF"})]})]}),(0,Bt.jsx)("div",{className:"space-y-4 p-4 rounded-xl border ".concat(p.trap_enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-100"),children:(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trap Port"}),(0,Bt.jsx)("input",{type:"number",className:"w-full rounded-lg border shadow-sm border-gray-300 p-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ".concat(p.trap_enabled?"":"bg-gray-100 text-gray-500"),value:p.trap_port,onChange:e=>m(u(u({},p),{},{trap_port:e.target.value})),placeholder:"162"}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Default: 162 (requires root). Use 1620+ if not running as root."})]})}),(0,Bt.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl border border-purple-200 mt-4",children:(0,Bt.jsxs)("div",{className:"flex items-start",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-purple-600 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Bt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"Configure your OLT:"}),(0,Bt.jsxs)("ul",{className:"text-sm text-purple-700 mt-1 ml-4 list-disc",children:[(0,Bt.jsx)("li",{children:"Trap Server IP: 172.22.22.20"}),(0,Bt.jsxs)("li",{children:["Trap Port: ",p.trap_port||162]}),(0,Bt.jsx)("li",{children:"Community: public"})]}),(0,Bt.jsx)("p",{className:"text-xs text-purple-600 mt-2",children:"Traps provide instant alerts vs polling (60s delay)"})]})]})})]})]}),(0,Bt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Bt.jsx)("button",{type:"submit",disabled:x,className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 font-medium transition-colors",children:x?"Saving...":"Save WhatsApp Settings"})})]}),"password"===N&&(0,Bt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.new_password===h.confirm_password){b(!0);try{await d({current_password:h.current_password,new_password:h.new_password}),alert("Password changed successfully"),g({current_password:"",new_password:"",confirm_password:""})}catch(r){var t,n;alert("Failed to change password: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}finally{b(!1)}}else alert("Passwords do not match")},children:[(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,Bt.jsx)("input",{type:"password",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:h.current_password,onChange:e=>g(u(u({},h),{},{current_password:e.target.value}))})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,Bt.jsx)("input",{type:"password",required:!0,minLength:"6",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:h.new_password,onChange:e=>g(u(u({},h),{},{new_password:e.target.value}))})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,Bt.jsx)("input",{type:"password",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:h.confirm_password,onChange:e=>g(u(u({},h),{},{confirm_password:e.target.value}))})]})]}),(0,Bt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Bt.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:x?"Changing...":"Change Password"})})]}),"license"===N&&(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsx)("div",{className:"p-4 rounded-xl border ".concat("active"===(null===f||void 0===f?void 0:f.status)?"bg-green-50 border-green-200":"suspended"===(null===f||void 0===f?void 0:f.status)?"bg-yellow-50 border-yellow-200":"expired"===(null===f||void 0===f?void 0:f.status)?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"),children:(0,Bt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Bt.jsxs)("div",{className:"flex items-center",children:[(0,Bt.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3 ".concat("active"===(null===f||void 0===f?void 0:f.status)?"bg-green-500":"suspended"===(null===f||void 0===f?void 0:f.status)?"bg-yellow-500":"expired"===(null===f||void 0===f?void 0:f.status)?"bg-red-500":"bg-gray-500"),children:"active"===(null===f||void 0===f?void 0:f.status)?(0,Bt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"suspended"===(null===f||void 0===f?void 0:f.status)?(0,Bt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):(0,Bt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("h3",{className:"font-semibold text-lg ".concat("active"===(null===f||void 0===f?void 0:f.status)?"text-green-800":"suspended"===(null===f||void 0===f?void 0:f.status)?"text-yellow-800":"expired"===(null===f||void 0===f?void 0:f.status)?"text-red-800":"text-gray-800"),children:"active"===(null===f||void 0===f?void 0:f.status)?"License Active":"suspended"===(null===f||void 0===f?void 0:f.status)?"License Suspended":"expired"===(null===f||void 0===f?void 0:f.status)?"License Expired":"License Invalid"}),(0,Bt.jsx)("p",{className:"text-sm ".concat("active"===(null===f||void 0===f?void 0:f.status)?"text-green-600":"suspended"===(null===f||void 0===f?void 0:f.status)?"text-yellow-600":"expired"===(null===f||void 0===f?void 0:f.status)?"text-red-600":"text-gray-600"),children:(null===f||void 0===f?void 0:f.customer_name)||"Unknown"})]})]}),(0,Bt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===(null===f||void 0===f?void 0:f.status)?"bg-green-200 text-green-800":"suspended"===(null===f||void 0===f?void 0:f.status)?"bg-yellow-200 text-yellow-800":"expired"===(null===f||void 0===f?void 0:f.status)?"bg-red-200 text-red-800":"bg-gray-200 text-gray-800"),children:(null===f||void 0===f||null===(t=f.license_type)||void 0===t?void 0:t.toUpperCase())||(null===f||void 0===f||null===(n=f.package_type)||void 0===n?void 0:n.toUpperCase())||"STANDARD"})]})}),(0,Bt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[(0,Bt.jsxs)("h4",{className:"font-medium text-gray-700 mb-4 flex items-center",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"License Details"]}),(0,Bt.jsxs)("div",{className:"space-y-3",children:[(0,Bt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,Bt.jsx)("span",{className:"text-gray-600",children:"License Key"}),(0,Bt.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:(null===f||void 0===f?void 0:f.license_key)||"N/A"})]}),(0,Bt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,Bt.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,Bt.jsx)("span",{className:"font-medium ".concat("active"===(null===f||void 0===f?void 0:f.status)?"text-green-600":"suspended"===(null===f||void 0===f?void 0:f.status)?"text-yellow-600":"text-red-600"),children:(null===f||void 0===f||null===(r=f.status)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===f||void 0===f||null===(o=f.status)||void 0===o?void 0:o.slice(1))||"Unknown"})]}),(0,Bt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,Bt.jsx)("span",{className:"text-gray-600",children:"Expires"}),(0,Bt.jsx)("span",{className:"font-medium",children:null!==f&&void 0!==f&&f.expires_at?new Date(f.expires_at).toLocaleDateString():"Never"})]}),(0,Bt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,Bt.jsx)("span",{className:"text-gray-600",children:"Days Remaining"}),(0,Bt.jsx)("span",{className:"font-bold text-lg ".concat((null===f||void 0===f?void 0:f.days_remaining)<=7?"text-red-600":(null===f||void 0===f?void 0:f.days_remaining)<=30?"text-yellow-600":"text-green-600"),children:void 0!==(null===f||void 0===f?void 0:f.days_remaining)?f.days_remaining<0?"Expired":0===f.days_remaining?"Expires Today":"".concat(f.days_remaining," days"):"Unlimited"})]})]})]}),(0,Bt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[(0,Bt.jsxs)("h4",{className:"font-medium text-gray-700 mb-4 flex items-center",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"License Limits"]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Bt.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,Bt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===f||void 0===f?void 0:f.max_olts)||0}),(0,Bt.jsx)("div",{className:"text-sm text-blue-700",children:"Max OLTs"})]}),(0,Bt.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,Bt.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===f||void 0===f?void 0:f.max_onus)||0}),(0,Bt.jsx)("div",{className:"text-sm text-purple-700",children:"Max ONUs"})]}),(0,Bt.jsxs)("div",{className:"text-center p-3 bg-teal-50 rounded-lg",children:[(0,Bt.jsx)("div",{className:"text-2xl font-bold text-teal-600",children:(null===f||void 0===f?void 0:f.max_users)||0}),(0,Bt.jsx)("div",{className:"text-sm text-teal-700",children:"Max Users"})]})]})]}),(null===f||void 0===f?void 0:f.features)&&f.features.length>0&&(0,Bt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[(0,Bt.jsxs)("h4",{className:"font-medium text-gray-700 mb-3 flex items-center",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Included Features"]}),(0,Bt.jsx)("div",{className:"flex flex-wrap gap-2",children:f.features.map((e,t)=>(0,Bt.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:e.charAt(0).toUpperCase()+e.slice(1)},t))})]}),(0,Bt.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:(0,Bt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Bt.jsx)("span",{className:"text-gray-600 text-sm",children:"Hardware ID"}),(0,Bt.jsx)("span",{className:"font-mono text-xs text-gray-500",children:(null===f||void 0===f?void 0:f.hardware_id)||"N/A"})]})})]})]})}function Xt(e){var t;let{isOpen:n,onClose:r,entityType:o,entityId:l,entityName:s,token:i}=e;const[c,u]=(0,a.useState)("1h"),[d,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null),[h,g]=(0,a.useState)(null),[x,b]=(0,a.useState)(null),v=(0,a.useRef)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(null),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e>=1e6?"".concat((e/1e6).toFixed(t)," Gbps"):e>=1e3?"".concat((e/1e3).toFixed(t)," Mbps"):"".concat(e.toFixed(0)," Kbps")},N=(0,a.useCallback)(async()=>{if(n&&l){f(!0),g(null);try{let e;if("onu"===o)e="/api/traffic/history/onu/".concat(l,"?range=").concat(c);else if("pon"===o){const[t,n]=l.split(":");e="/api/traffic/history/pon/".concat(t,"/").concat(n,"?range=").concat(c)}else"olt"===o&&(e="/api/traffic/history/olt/".concat(l,"?range=").concat(c));const t=await(e=>Rt.get(e))(e);m(t.data)}catch(r){var e,t;g((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to load traffic data")}finally{f(!1)}}},[n,l,o,c]);(0,a.useEffect)(()=>{N()},[N]),(0,a.useEffect)(()=>{if(!p||!p.data||0===p.data.length||!v.current)return;const e=v.current,t=e.getContext("2d");y.current&&(y.current=null);const n=e.parentElement,r=window.devicePixelRatio||1,a=n.clientWidth;e.width=a*r,e.height=320*r,e.style.width=a+"px",e.style.height="320px",t.scale(r,r);const o=a,l={top:50,right:30,bottom:50,left:70},s=o-l.left-l.right,i=320-l.top-l.bottom;t.fillStyle="#0f172a",t.fillRect(0,0,o,320);const u=p.data,d=u.map(e=>e.rx_kbps),f=u.map(e=>e.tx_kbps),m=[...d,...f],h=Math.max(...m,100),g=Math.pow(10,Math.floor(Math.log10(h))),x=Math.ceil(h/g)*g*1.1;t.strokeStyle="rgba(71, 85, 105, 0.3)",t.lineWidth=.5;for(let c=0;c<=10;c++){const e=l.top+i/10*c;t.beginPath(),t.moveTo(l.left,e),t.lineTo(o-l.right,e),t.stroke()}t.strokeStyle="rgba(100, 116, 139, 0.5)",t.lineWidth=1;for(let c=0;c<=5;c++){const e=l.top+i/5*c;t.beginPath(),t.moveTo(l.left,e),t.lineTo(o-l.right,e),t.stroke();const n=x-x/5*c;t.fillStyle="#94a3b8",t.font='bold 11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',t.textAlign="right",t.textBaseline="middle",t.fillText(j(n,0),l.left-10,e)}const b=Math.min(8,u.length);for(let c=0;c<=b;c++){const e=l.left+s/b*c;t.strokeStyle="rgba(71, 85, 105, 0.3)",t.lineWidth=.5,t.beginPath(),t.moveTo(e,l.top),t.lineTo(e,l.top+i),t.stroke()}const w=Math.min(6,u.length);if(t.fillStyle="#94a3b8",t.font='10px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',t.textAlign="center",t.textBaseline="top",w>0&&u.length>0)for(let p=0;p<w;p++){const e=1===w?0:Math.floor((u.length-1)*p/(w-1));if(e>=0&&e<u.length&&u[e]){const n=1===u.length?l.left+s/2:l.left+s*e/(u.length-1),r=new Date(u[e].timestamp);let a;a="1w"===c||"1M"===c?r.toLocaleDateString("en",{month:"short",day:"numeric"}):"24h"===c||"6h"===c?r.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}):r.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),t.fillText(a,n,320-l.bottom+10)}}t.strokeStyle="rgba(100, 116, 139, 0.5)",t.lineWidth=1,t.strokeRect(l.left,l.top,s,i);const N=(e,n,r)=>{if(0===e.length)return;const a=t=>l.left+s*t/Math.max(e.length-1,1),o=e=>l.top+i-e/x*i,c=t.createLinearGradient(0,l.top,0,l.top+i);if(c.addColorStop(0,r[0]),c.addColorStop(1,r[1]),1===e.length){const a=l.left+s/2,i=o(e[0]);return t.beginPath(),t.fillStyle=r[0],t.arc(a,i,8,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle=n,t.arc(a,i,4,0,2*Math.PI),void t.fill()}t.beginPath(),t.moveTo(a(0),o(e[0]));for(let l=1;l<e.length;l++){const n=a(l-1),r=o(e[l-1]),s=a(l),i=o(e[l]),c=(n+s)/2;t.bezierCurveTo(c,r,c,i,s,i)}t.lineTo(a(e.length-1),l.top+i),t.lineTo(a(0),l.top+i),t.closePath(),t.fillStyle=c,t.fill(),t.beginPath(),t.strokeStyle=n,t.lineWidth=2.5,t.lineCap="round",t.lineJoin="round",t.moveTo(a(0),o(e[0]));for(let l=1;l<e.length;l++){const n=a(l-1),r=o(e[l-1]),s=a(l),i=o(e[l]),c=(n+s)/2;t.bezierCurveTo(c,r,c,i,s,i)}t.stroke(),e.length<=30&&e.forEach((e,r)=>{t.beginPath(),t.fillStyle="#0f172a",t.arc(a(r),o(e),4,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle=n,t.arc(a(r),o(e),2.5,0,2*Math.PI),t.fill()})};N(f,"#22c55e",["rgba(34, 197, 94, 0.4)","rgba(34, 197, 94, 0.02)"]),N(d,"#06b6d4",["rgba(6, 182, 212, 0.35)","rgba(6, 182, 212, 0.02)"]);const k=l.left+10;t.fillStyle="rgba(15, 23, 42, 0.85)",t.strokeStyle="rgba(100, 116, 139, 0.3)",t.lineWidth=1,t.beginPath(),t.roundRect(k,12,200,28,6),t.fill(),t.stroke(),t.fillStyle="#22c55e",t.beginPath(),t.arc(k+15,26,5,0,2*Math.PI),t.fill(),t.fillStyle="#e2e8f0",t.font='bold 11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',t.textAlign="left",t.textBaseline="middle",t.fillText("Download",k+26,26),t.fillStyle="#06b6d4",t.beginPath(),t.arc(k+110,26,5,0,2*Math.PI),t.fill(),t.fillStyle="#e2e8f0",t.fillText("Upload",k+121,26),y.current={points:u,padding:l,chartWidth:s,chartHeight:i,niceMax:x,getX:e=>l.left+s*e/Math.max(u.length-1,1),getY:e=>l.top+i-e/x*i}},[p,c]);const k=(0,a.useCallback)(e=>{if(!y.current||!p||!p.data||0===p.data.length)return void b(null);const t=v.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,{points:a,padding:o,chartWidth:l,chartHeight:s}=y.current;if(n<o.left||n>o.left+l||r<o.top||r>o.top+s)return void b(null);const i=n-o.left,c=Math.round(i/l*(a.length-1));if(c>=0&&c<a.length){const e=a[c],t=y.current.getX(c);b({x:t,y:r,data:e,visible:!0})}},[p]),S=(0,a.useCallback)(()=>{b(null)},[]);if(!n)return null;const C=p&&p.data&&p.data.length>0?{maxDownload:Math.max(...p.data.map(e=>e.tx_kbps)),maxUpload:Math.max(...p.data.map(e=>e.rx_kbps)),avgDownload:p.data.reduce((e,t)=>e+t.tx_kbps,0)/p.data.length,avgUpload:p.data.reduce((e,t)=>e+t.rx_kbps,0)/p.data.length,totalDownload:60*p.data.reduce((e,t)=>e+t.tx_kbps,0)/8/1024,totalUpload:60*p.data.reduce((e,t)=>e+t.rx_kbps,0)/8/1024}:null;return(0,Bt.jsx)(Wt,{isOpen:n,onClose:r,title:"Traffic Monitor - ".concat(s),size:"xl",children:(0,Bt.jsxs)("div",{className:"space-y-4",children:[(0,Bt.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,Bt.jsx)("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-xl",children:[{key:"5m",label:"5 Min"},{key:"15m",label:"15 Min"},{key:"30m",label:"30 Min"},{key:"1h",label:"1 Hour"},{key:"6h",label:"6 Hours"},{key:"24h",label:"24 Hours"},{key:"1w",label:"1 Week"},{key:"1M",label:"1 Month"}].map(e=>(0,Bt.jsx)("button",{onClick:()=>u(e.key),className:"px-3 py-1.5 text-xs font-semibold rounded-lg transition-all duration-200 ".concat(c===e.key?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/25":"text-slate-400 hover:text-white hover:bg-slate-700"),children:e.label},e.key))}),(0,Bt.jsxs)("button",{onClick:N,disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors flex items-center gap-2",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4 ".concat(d?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),(0,Bt.jsxs)("div",{ref:w,className:"bg-slate-900 rounded-xl border border-slate-700 overflow-hidden relative",style:{minHeight:"360px"},children:[d&&(0,Bt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm z-10",children:(0,Bt.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Bt.jsx)("div",{className:"w-12 h-12 border-4 border-slate-600 border-t-cyan-500 rounded-full animate-spin"}),(0,Bt.jsx)("span",{className:"text-slate-400 text-sm font-medium",children:"Loading traffic data..."})]})}),h&&(0,Bt.jsx)("div",{className:"flex items-center justify-center h-[320px]",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)("div",{className:"w-14 h-14 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Bt.jsx)("svg",{className:"w-7 h-7 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Bt.jsx)("p",{className:"text-red-400 font-medium",children:h})]})}),!d&&!h&&p&&0===p.data.length&&(0,Bt.jsx)("div",{className:"flex items-center justify-center h-[320px]",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)("div",{className:"w-14 h-14 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Bt.jsx)("svg",{className:"w-7 h-7 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Bt.jsx)("p",{className:"text-slate-300 font-medium",children:"No data available for this period"}),(0,Bt.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Data will appear after traffic is collected"})]})}),!h&&p&&p.data.length>0&&(0,Bt.jsxs)("div",{className:"p-4",children:[(0,Bt.jsx)("canvas",{ref:v,className:"w-full cursor-crosshair",onMouseMove:k,onMouseLeave:S}),x&&x.visible&&(0,Bt.jsxs)("div",{className:"absolute pointer-events-none z-20 bg-slate-800 border border-slate-600 rounded-lg shadow-xl p-3 text-sm",style:{left:Math.min(x.x,(null===(t=w.current)||void 0===t?void 0:t.clientWidth)-180)+"px",top:"60px",transform:"translateX(-50%)"},children:[(0,Bt.jsx)("div",{className:"text-slate-400 text-xs mb-2 font-medium",children:new Date(x.data.timestamp).toLocaleString()}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Bt.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,Bt.jsx)("span",{className:"text-slate-300",children:"Download:"}),(0,Bt.jsx)("span",{className:"text-green-400 font-bold",children:j(x.data.tx_kbps)})]}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),(0,Bt.jsx)("span",{className:"text-slate-300",children:"Upload:"}),(0,Bt.jsx)("span",{className:"text-cyan-400 font-bold",children:j(x.data.rx_kbps)})]})]})]})]}),!d&&C&&(0,Bt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border border-green-500/20 rounded-xl p-3",children:[(0,Bt.jsxs)("p",{className:"text-xs text-green-400 font-medium flex items-center gap-1",children:[(0,Bt.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Bt.jsx)("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd",transform:"rotate(180 10 10)"})}),"Peak Download"]}),(0,Bt.jsx)("p",{className:"text-xl font-bold text-green-300 mt-1",children:j(C.maxDownload)})]}),(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-cyan-600/5 border border-cyan-500/20 rounded-xl p-3",children:[(0,Bt.jsxs)("p",{className:"text-xs text-cyan-400 font-medium flex items-center gap-1",children:[(0,Bt.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Bt.jsx)("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Peak Upload"]}),(0,Bt.jsx)("p",{className:"text-xl font-bold text-cyan-300 mt-1",children:j(C.maxUpload)})]}),(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-slate-500/10 to-slate-600/5 border border-slate-500/20 rounded-xl p-3",children:[(0,Bt.jsx)("p",{className:"text-xs text-slate-400 font-medium",children:"Avg Download"}),(0,Bt.jsx)("p",{className:"text-xl font-bold text-green-300 mt-1",children:j(C.avgDownload)})]}),(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-slate-500/10 to-slate-600/5 border border-slate-500/20 rounded-xl p-3",children:[(0,Bt.jsx)("p",{className:"text-xs text-slate-400 font-medium",children:"Avg Upload"}),(0,Bt.jsx)("p",{className:"text-xl font-bold text-cyan-300 mt-1",children:j(C.avgUpload)})]})]}),p&&(0,Bt.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-slate-500",children:[(0,Bt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Bt.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),p.data_points," samples"]}),(0,Bt.jsx)("span",{children:"\u2022"}),(0,Bt.jsx)("span",{children:p.start_time?new Date(p.start_time).toLocaleString():""}),(0,Bt.jsx)("span",{children:"\u2192"}),(0,Bt.jsx)("span",{children:p.end_time?new Date(p.end_time).toLocaleString():""})]})]})})}function Jt(e){let{olt:t,onSelect:n,onPoll:r,onDelete:o,isSelected:l,isAdmin:s,onGraph:i}=e;const[c,u]=(0,a.useState)(!1),d=t.onu_count>0?Math.round(t.online_onu_count/t.onu_count*100):0;return(0,Bt.jsxs)("div",{onClick:()=>n(t.id),className:"bg-white rounded-xl border cursor-pointer transition-all duration-200 hover:shadow-sm overflow-hidden ".concat(l?"ring-2 ring-[#2563eb] border-blue-200":"border-[#e8eaed]"),children:[(0,Bt.jsx)("div",{className:"p-4 border-b border-[#e8eaed]",children:(0,Bt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Bt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Bt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(t.is_online?"bg-blue-50":"bg-gray-100"),children:(0,Bt.jsx)("svg",{className:"w-5 h-5 ".concat(t.is_online?"text-[#2563eb]":"text-[#9ca3af]"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("h3",{className:"font-semibold text-[#111827]",children:t.name}),(0,Bt.jsx)("p",{className:"text-sm text-[#9ca3af] font-mono",children:t.ip_address})]})]}),(0,Bt.jsx)(Vt,{online:t.is_online})]})}),(0,Bt.jsxs)("div",{className:"p-4",children:[t.model&&(0,Bt.jsx)("p",{className:"text-xs text-[#9ca3af] mb-3",children:t.model}),(0,Bt.jsxs)("div",{className:"mb-3",children:[(0,Bt.jsxs)("div",{className:"flex justify-between text-sm mb-1.5",children:[(0,Bt.jsx)("span",{className:"text-[#4b5563]",children:"ONUs Online"}),(0,Bt.jsxs)("span",{className:"font-medium text-[#111827]",children:[t.online_onu_count," / ",t.onu_count]})]}),(0,Bt.jsx)("div",{className:"h-2 bg-[#f4f5f7] rounded-full overflow-hidden",children:(0,Bt.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(d>80?"bg-[#059669]":d>50?"bg-amber-500":"bg-[#dc2626]"),style:{width:"".concat(d,"%")}})})]}),t.last_poll&&(0,Bt.jsxs)("p",{className:"text-xs text-[#9ca3af] flex items-center gap-1.5 mb-2",children:[(0,Bt.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last poll: ",new Date(t.last_poll).toLocaleString()]}),t.last_error&&(0,Bt.jsxs)("p",{className:"text-xs text-[#dc2626] truncate flex items-center gap-1.5",title:t.last_error,children:[(0,Bt.jsx)("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),t.last_error]})]}),(0,Bt.jsxs)("div",{className:"px-4 py-3 bg-[#fafbfc] border-t border-[#e8eaed] flex justify-end gap-2",children:[(0,Bt.jsxs)("button",{onClick:e=>{e.stopPropagation(),i&&i("olt",t.id,t.name)},className:"px-3 py-1.5 text-sm text-purple-600 border border-[#e8eaed] bg-white rounded-lg hover:bg-purple-50 font-medium transition-all duration-150 flex items-center gap-1.5",title:"View traffic graph",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Graph"]}),(0,Bt.jsx)("button",{onClick:async e=>{e.stopPropagation(),u(!0);try{await r(t.id)}finally{u(!1)}},disabled:c,className:"px-3 py-1.5 text-sm bg-[#2563eb] text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-all duration-150 flex items-center gap-1.5",children:c?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Bt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Polling..."]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Poll"]})}),s&&(0,Bt.jsx)("button",{onClick:async e=>{e.stopPropagation(),window.confirm('Delete OLT "'.concat(t.name,'" and all its ONUs?'))&&await o(t.id)},className:"px-3 py-1.5 text-sm text-[#dc2626] border border-[#e8eaed] bg-white rounded-lg hover:bg-red-50 font-medium transition-all duration-150",children:"Delete"})]})]})}function Yt(e){let{onus:t,onEdit:n,onDelete:r,isAdmin:o,trafficData:l,onGraph:s}=e;const[i,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),f={};l&&l.traffic&&l.traffic.forEach(e=>{f[e.mac_address]=e});return 0===t.length?(0,Bt.jsxs)("div",{className:"bg-white rounded-xl border border-[#e8eaed] p-12 text-center",children:[(0,Bt.jsx)("div",{className:"w-14 h-14 bg-[#f4f5f7] rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,Bt.jsx)("svg",{className:"w-7 h-7 text-[#9ca3af]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,Bt.jsx)("p",{className:"text-[#111827] font-medium",children:"No ONUs found"}),(0,Bt.jsx)("p",{className:"text-[#9ca3af] text-sm mt-1",children:"Try adjusting your filters or search query"})]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(Ht,{isOpen:!!i,onClose:()=>c(null),images:i||[],title:u}),(0,Bt.jsx)("div",{className:"bg-white rounded-xl border border-[#e8eaed] overflow-hidden",children:(0,Bt.jsx)("div",{className:"overflow-x-auto",children:(0,Bt.jsxs)("table",{className:"min-w-full",children:[(0,Bt.jsx)("thead",{children:(0,Bt.jsxs)("tr",{className:"bg-[#f4f5f7] border-b border-[#e8eaed]",children:[(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"OLT"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"PON/ONU"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"MAC Address"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Customer"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Traffic"}),(0,Bt.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Photo"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Distance"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"RX Power"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Status"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Last Seen"}),(0,Bt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#4b5563] uppercase tracking-wider",children:"Actions"})]})}),(0,Bt.jsx)("tbody",{className:"divide-y divide-[#e8eaed]",children:t.map(e=>{const t=e.image_urls||(e.image_url?[e.image_url]:[]),a=t.length>0;return(0,Bt.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors duration-150 group",children:[(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:e.olt_name})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 bg-gray-100 text-gray-700 text-sm font-mono rounded-lg",children:["0/",e.pon_port,":",e.onu_id]})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsx)("span",{className:"text-sm font-mono text-gray-600 bg-gray-50 px-2 py-1 rounded",children:e.mac_address})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.description||(0,Bt.jsx)("span",{className:"text-gray-400 italic",children:"No name"})}),e.region_name&&(0,Bt.jsx)("p",{className:"text-xs font-medium",style:{color:e.region_color||"#6366F1"},children:e.region_name})]}),e.latitude&&e.longitude&&(0,Bt.jsx)("button",{onClick:()=>window.open("https://www.google.com/maps?q=".concat(e.latitude,",").concat(e.longitude),"_blank"),className:"p-1 text-emerald-500 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors",title:"View on map","aria-label":"View on map",children:(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})})]})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-center",children:(0,Bt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(()=>{const t=f[e.mac_address];if(!t)return(0,Bt.jsx)("span",{className:"text-gray-400 text-xs",children:"-"});const n=t.rx_kbps||0,r=t.tx_kbps||0;return(0,Bt.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,Bt.jsxs)("span",{className:"text-xs font-semibold flex items-center gap-1 ".concat(n>1e4?"text-green-600":n>1e3?"text-blue-600":"text-gray-600"),children:[(0,Bt.jsx)("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),n>1e3?"".concat((n/1e3).toFixed(1),"M"):"".concat(n.toFixed(0),"K")]}),(0,Bt.jsxs)("span",{className:"text-xs font-semibold flex items-center gap-1 ".concat(r>1e4?"text-blue-600":r>1e3?"text-indigo-600":"text-gray-600"),children:[(0,Bt.jsx)("svg",{className:"w-3 h-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),r>1e3?"".concat((r/1e3).toFixed(1),"M"):"".concat(r.toFixed(0),"K")]})]})})(),(0,Bt.jsx)("button",{onClick:()=>s&&s("onu",e.id,e.description||"ONU ".concat(e.pon_port,":").concat(e.onu_id)),className:"p-1.5 text-purple-500 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",title:"View traffic graph",children:(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),(0,Bt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-center",children:a?(0,Bt.jsxs)("button",{onClick:()=>(e=>{const t=e.image_urls||(e.image_url?[e.image_url]:[]);t.length>0&&(c(t),d(e.description||"ONU ".concat(e.pon_port,":").concat(e.onu_id)))})(e),className:"relative inline-block group",title:"View ".concat(t.length," photo").concat(t.length>1?"s":""),"aria-label":"View ".concat(t.length," photo").concat(t.length>1?"s":""),children:[(0,Bt.jsx)("img",{src:t[0],alt:"ONU",className:"w-10 h-10 rounded-lg object-cover border-2 border-gray-200 hover:border-blue-500 transition cursor-pointer"}),t.length>1&&(0,Bt.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.length})]}):(0,Bt.jsx)("span",{className:"text-gray-300",children:(0,Bt.jsx)("svg",{className:"w-6 h-6 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:e.distance?(0,Bt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 bg-blue-50 text-blue-700 text-sm font-medium rounded-lg",children:[e.distance,"m"]}):(0,Bt.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:e.rx_power?(0,Bt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 text-sm font-semibold rounded-lg ".concat(e.is_online?e.rx_power<-25?"bg-red-50 text-red-700":e.rx_power<-20?"bg-amber-50 text-amber-700":"bg-emerald-50 text-emerald-700":"bg-gray-100 text-gray-400 italic"),title:e.is_online?"":"Last known value (ONU offline)",children:[e.rx_power.toFixed(2)," dBm",!e.is_online&&" *"]}):(0,Bt.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsx)(Vt,{online:e.is_online})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.last_seen).toLocaleString()})}),(0,Bt.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,Bt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Bt.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",children:"Edit"}),o&&(0,Bt.jsx)("button",{onClick:()=>{window.confirm("Delete this ONU record?")&&r(e.id)},className:"px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",children:"Delete"})]})})]},e.id)})})]})})})]})}function Zt(e){let{onu:t,onEdit:n,onDelete:r,isAdmin:a,onImagePreview:o}=e;const l=t.image_urls||(t.image_url?[t.image_url]:[]),s=l.length>0;return(0,Bt.jsxs)("div",{className:"bg-white rounded-2xl shadow-material-1 p-4 mb-4 border border-gray-100 relative overflow-hidden",children:[(0,Bt.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 ".concat(t.is_online?"bg-gradient-to-r from-emerald-400 to-emerald-500":"bg-gradient-to-r from-red-400 to-red-500")}),(0,Bt.jsxs)("div",{className:"flex justify-between items-start mb-3 pt-1",children:[(0,Bt.jsxs)("div",{className:"flex items-start gap-3",children:[s?(0,Bt.jsxs)("button",{onClick:()=>o(t),className:"relative flex-shrink-0",title:"View ".concat(l.length," photo").concat(l.length>1?"s":""),"aria-label":"View ".concat(l.length," photo").concat(l.length>1?"s":""),children:[(0,Bt.jsx)("img",{src:l[0],alt:"ONU",className:"w-14 h-14 rounded-xl object-cover border-2 border-gray-200 shadow-sm"}),l.length>1&&(0,Bt.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center shadow-sm",children:l.length})]}):(0,Bt.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 flex items-center justify-center flex-shrink-0 shadow-sm",children:(0,Bt.jsx)("svg",{className:"w-6 h-6 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("p",{className:"font-bold text-gray-800",children:t.description||"No Name"}),t.region_name&&(0,Bt.jsx)("p",{className:"text-xs font-semibold",style:{color:t.region_color||"#6366F1"},children:t.region_name}),(0,Bt.jsx)("p",{className:"text-xs text-gray-500 font-mono bg-gray-50 px-1.5 py-0.5 rounded mt-1 inline-block",children:t.mac_address})]})]}),(0,Bt.jsx)(Vt,{online:t.is_online})]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-2.5 border border-slate-200/50",children:[(0,Bt.jsx)("span",{className:"text-slate-500 text-xs",children:"OLT"}),(0,Bt.jsx)("p",{className:"font-semibold text-slate-700",children:t.olt_name})]}),(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-2.5 border border-indigo-200/50",children:[(0,Bt.jsx)("span",{className:"text-indigo-500 text-xs",children:"Port"}),(0,Bt.jsxs)("p",{className:"font-semibold font-mono text-indigo-700",children:["0/",t.pon_port,":",t.onu_id]})]}),(0,Bt.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-xl p-2.5 border border-cyan-200/50",children:[(0,Bt.jsx)("span",{className:"text-cyan-500 text-xs",children:"Distance"}),(0,Bt.jsx)("p",{className:"font-semibold text-cyan-700",children:t.distance?"".concat(t.distance,"m"):"-"})]}),(0,Bt.jsxs)("div",{className:"rounded-xl p-2.5 border ".concat(t.rx_power&&t.is_online?t.rx_power<-25?"bg-gradient-to-br from-red-50 to-red-100 border-red-200/50":t.rx_power<-20?"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/50":"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200/50":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200/50"),children:[(0,Bt.jsx)("span",{className:"text-xs ".concat(t.rx_power&&t.is_online?t.rx_power<-25?"text-red-500":t.rx_power<-20?"text-amber-500":"text-emerald-500":"text-gray-400"),children:"RX Power"}),(0,Bt.jsx)("p",{className:"font-semibold ".concat(t.rx_power?t.is_online?t.rx_power<-25?"text-red-700":t.rx_power<-20?"text-amber-700":"text-emerald-700":"text-gray-400 italic":"text-gray-400"),title:t.rx_power&&!t.is_online?"Last known value (ONU offline)":"",children:t.rx_power?"".concat(t.rx_power.toFixed(2)," dBm").concat(t.is_online?"":" *"):"-"})]})]}),(0,Bt.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[(0,Bt.jsxs)("p",{className:"text-xs text-gray-400",children:["Last seen: ",new Date(t.last_seen).toLocaleString()]}),(0,Bt.jsxs)("div",{className:"flex gap-2",children:[t.latitude&&t.longitude&&(0,Bt.jsx)("button",{onClick:()=>window.open("https://www.google.com/maps?q=".concat(t.latitude,",").concat(t.longitude),"_blank"),className:"px-3 py-1.5 text-sm bg-emerald-500 text-white rounded-lg font-medium shadow-sm hover:bg-emerald-600 transition-colors",children:"Map"}),(0,Bt.jsx)("button",{onClick:()=>n(t),className:"px-3 py-1.5 text-sm bg-primary-500 text-white rounded-lg font-medium shadow-sm hover:bg-primary-600 transition-colors",children:"Edit"}),a&&(0,Bt.jsx)("button",{onClick:()=>{window.confirm("Delete this ONU?")&&r(t.id)},className:"px-3 py-1.5 text-sm bg-red-500 text-white rounded-lg font-medium shadow-sm hover:bg-red-600 transition-colors",children:"Delete"})]})]})]})}function en(e){var t,n,r;let{olts:o=[],onus:l=[]}=e;const s={"1:2":{ports:2,loss:3.8,category:"PLC"},"1:4":{ports:4,loss:7.2,category:"PLC"},"1:8":{ports:8,loss:10.5,category:"PLC"},"1:16":{ports:16,loss:14,category:"PLC"},"1:32":{ports:32,loss:17.5,category:"PLC"},"50/50":{ports:2,loss:3.5,category:"FBT",portLosses:[3.5,3.5]},"30/70":{ports:2,loss:null,category:"FBT",portLosses:[5.2,1.5]},"20/80":{ports:2,loss:null,category:"FBT",portLosses:[7,1]},"10/90":{ports:2,loss:null,category:"FBT",portLosses:[10,.5]}},i=(0,a.useRef)(null),[c,d]=(0,a.useState)({width:1200,height:700}),[f,p]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[g,x]=(0,a.useState)([]),[b,v]=(0,a.useState)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(!1);(0,a.useEffect)(()=>{(async()=>{try{p(!0),h(null);const e=(await Rt.get("/api/diagrams")).data.diagrams||[];if(0===e.length){const e=(await Ft({name:"Diagram 1",nodes:"[]",connections:"[]",settings:JSON.stringify({oltPower:5,onuSensitivity:-28}),is_shared:!1})).data;x([{id:e.id,name:e.name,nodes:JSON.parse(e.nodes||"[]"),connections:JSON.parse(e.connections||"[]"),settings:JSON.parse(e.settings||"{}"),is_shared:e.is_shared,owner_id:e.owner_id,owner_name:e.owner_name}]),v(e.id)}else{const t=e.map(e=>({id:e.id,name:e.name,nodes:JSON.parse(e.nodes||"[]"),connections:JSON.parse(e.connections||"[]"),settings:JSON.parse(e.settings||"{}"),is_shared:e.is_shared,owner_id:e.owner_id,owner_name:e.owner_name}));x(t),v(t[0].id)}}catch(t){console.error("Failed to load diagrams:",t),h("Failed to load diagrams. Please refresh the page.");try{const t=localStorage.getItem("splitterDiagrams");if(t){var e;const n=JSON.parse(t);x(n),v((null===(e=n[0])||void 0===e?void 0:e.id)||"default")}}catch(n){}}finally{p(!1)}})()},[]);const[j,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[C,_]=(0,a.useState)(""),L=g.find(e=>e.id===b)||g[0]||null,[E,O]=(0,a.useState)([]),[P,M]=(0,a.useState)([]);(0,a.useEffect)(()=>{const e=g.find(e=>e.id===b);var t,n;e&&(O(e.nodes||[]),M(e.connections||[]),H((null===(t=e.settings)||void 0===t?void 0:t.oltPower)||5),X((null===(n=e.settings)||void 0===n?void 0:n.onuSensitivity)||-28))},[b,g]);const[T,R]=(0,a.useState)(null),[D,F]=(0,a.useState)(null),[z,B]=(0,a.useState)({x:0,y:0}),[A,U]=(0,a.useState)(null),[I,V]=(0,a.useState)({x:0,y:0}),[W,H]=(0,a.useState)((null===L||void 0===L||null===(t=L.settings)||void 0===t?void 0:t.oltPower)||5),[G,q]=(0,a.useState)(.35),[$,Q]=(0,a.useState)(.5),[K,X]=(0,a.useState)((null===L||void 0===L||null===(n=L.settings)||void 0===n?void 0:n.onuSensitivity)||-28),[J,Y]=(0,a.useState)(null),[Z,ee]=(0,a.useState)("idle"),te=async(e,t)=>{try{await zt(e,{name:t}),x(g.map(n=>n.id===e?u(u({},n),{},{name:t}):n)),S(null)}catch(n){console.error("Failed to rename diagram:",n),alert("Failed to rename diagram")}},ne=async e=>{if(g.length<=1)alert("Cannot delete the last diagram");else if(window.confirm("Delete this diagram?"))try{await(e=>Rt.delete("/api/diagrams/".concat(e)))(e);const t=g.filter(t=>t.id!==e);x(t),b===e&&v(t[0].id)}catch(t){console.error("Failed to delete diagram:",t),alert("Failed to delete diagram")}};(0,a.useEffect)(()=>{if(!f&&b)return y.current&&clearTimeout(y.current),w.current=!0,ee("saving"),y.current=setTimeout(async()=>{if(w.current)try{await zt(b,{nodes:JSON.stringify(E),connections:JSON.stringify(P),settings:JSON.stringify({oltPower:W,onuSensitivity:K})});const e=g.map(e=>e.id===b?u(u({},e),{},{nodes:E,connections:P,settings:{oltPower:W,onuSensitivity:K}}):e);x(e),localStorage.setItem("splitterDiagrams",JSON.stringify(e)),Y(new Date),ee("saved"),w.current=!1,setTimeout(()=>ee("idle"),2e3)}catch(e){console.error("Failed to auto-save diagram:",e),ee("error");const t=g.map(e=>e.id===b?u(u({},e),{},{nodes:E,connections:P,settings:{oltPower:W,onuSensitivity:K}}):e);localStorage.setItem("splitterDiagrams",JSON.stringify(t))}},500),()=>{y.current&&clearTimeout(y.current)}},[E,P,W,K,b,f]);const[re,ae]=(0,a.useState)(null),[oe,le]=(0,a.useState)(1),[se,ie]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o.length>0&&!re&&ae(o[0].id)},[o,re]);const ce=o.find(e=>e.id===re),ue=l.filter(e=>e.olt_id===re&&e.pon_port===oe),de=e=>{const t=E.filter(e=>"switch"===e.type).length,n={id:"switch-".concat(Date.now()),type:"switch",name:"Switch ".concat(t+1),x:600+t%3*150,y:100+250*Math.floor(t/3),width:120,height:30+22*e,ports:e,uplinkPort:1};O([...E,n])},fe=(e,t,n)=>{if("olt"===e.type){const t=(e.height-40)/e.ponPorts;return{x:e.x+e.width,y:e.y+30+n*t+t/2}}if("splitter"===e.type){if("input"===t)return{x:e.x,y:e.y+e.height/2};{const t=(e.height-20)/e.outputPorts;return{x:e.x+e.width,y:e.y+15+n*t+t/2}}}if("onu"===e.type)return"input"===t?{x:e.x,y:e.y+e.height/2}:{x:e.x+e.width,y:e.y+e.height/2};if("switch"===e.type){if("input"===t)return{x:e.x,y:e.y+20};{const t=22;return{x:e.x+e.width,y:e.y+30+n*t+t/2}}}if("building"===e.type){const t=e.totalFloors||12,r=(e.height-50)/t,a=t-n;return{x:e.x,y:e.y+30+a*r+r/2}}return{x:e.x,y:e.y}},pe=(e,t,n,r)=>{e.stopPropagation(),U({nodeId:t.id,portType:n,portIndex:r})},me=(e,t,n,r)=>{if(e.stopPropagation(),A&&A.nodeId!==t.id){const e=E.find(e=>e.id===A.nodeId),a=t;let o=!1;if("olt"===e.type&&"splitter"===a.type&&"input"===n?o=!0:"splitter"===e.type&&"output"===A.portType?("splitter"===a.type&&"input"===n&&(o=!0),"onu"===a.type&&"input"===n&&(o=!0)):"onu"===e.type&&"output"===A.portType?"switch"===a.type&&"input"===n&&(o=!0):"switch"===e.type&&"output"===A.portType&&"building"===a.type&&"input"===n&&(o=!0),o){const e=P.find(e=>e.from.nodeId===A.nodeId&&e.from.portIndex===A.portIndex&&e.from.portType===A.portType&&e.to.nodeId===t.id&&e.to.portIndex===r&&e.to.portType===n),a=P.find(e=>e.to.nodeId===t.id&&e.to.portIndex===r&&e.to.portType===n);e||a||M([...P,{id:"conn-".concat(Date.now()),from:{nodeId:A.nodeId,portType:A.portType,portIndex:A.portIndex},to:{nodeId:t.id,portType:n,portIndex:r},cableLength:500,connectors:2}])}}U(null)},he=()=>{F(null),U(null)},ge=e=>{M(P.filter(t=>t.id!==e))},xe=(()=>{const e={},t=E.find(e=>"olt"===e.type);if(!t)return e;const n=[];for(let r=0;r<t.ponPorts;r++){e["".concat(t.id,"-output-").concat(r)]=W;P.filter(e=>e.from.nodeId===t.id&&e.from.portIndex===r).forEach(e=>{n.push({conn:e,power:W})})}for(;n.length>0;){const{conn:t,power:r}=n.shift();let a=r-(t.cableLength||500)/1e3*G-(t.connectors||2)*$;const o=E.find(e=>e.id===t.to.nodeId);if(o)if(e["".concat(o.id,"-input")]=a,"splitter"===o.type){const t=s[o.splitterType];for(let r=0;r<o.outputPorts;r++){let l=t.loss;t.portLosses&&(l=t.portLosses[r]||t.portLosses[0]);const s=a-l;e["".concat(o.id,"-output-").concat(r)]=s;P.filter(e=>e.from.nodeId===o.id&&e.from.portIndex===r).forEach(e=>{n.push({conn:e,power:s})})}}else"onu"===o.type&&(e["".concat(o.id,"-rx")]=a)}return e})(),be=e=>{if(void 0===e)return{color:"#9CA3AF",status:"N/A"};const t=e-K;return t>=3?{color:"#10B981",status:"GOOD"}:t>=0?{color:"#F59E0B",status:"MARGINAL"}:{color:"#EF4444",status:"FAIL"}},ve=(e,t,n)=>{M(P.map(r=>r.id===e?u(u({},r),{},{[t]:n}):r))},ye=(e,t,n)=>{O(E.map(r=>r.id===e?u(u({},r),{},{[t]:n}):r))};return f?(0,Bt.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Bt.jsx)("p",{className:"text-gray-600",children:"Loading diagrams..."})]})}):m&&0===g.length?(0,Bt.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)("div",{className:"text-red-500 text-4xl mb-4",children:"!"}),(0,Bt.jsx)("p",{className:"text-red-600",children:m}),(0,Bt.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):(0,Bt.jsxs)("div",{className:"space-y-2",children:[j&&(0,Bt.jsx)("div",{className:"fixed inset-0 z-[99]",onClick:()=>N(!1)}),(0,Bt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md px-3 py-2",children:(0,Bt.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,Bt.jsxs)("div",{className:"relative",children:[(0,Bt.jsxs)("button",{onClick:()=>N(!j),className:"flex items-center gap-2 px-3 py-1.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm font-medium backdrop-blur hover:bg-white/30",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),(null===L||void 0===L?void 0:L.name)||"Diagram",(0,Bt.jsx)("svg",{className:"w-3 h-3 transition-transform ".concat(j?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&(0,Bt.jsxs)("div",{className:"absolute left-0 mt-2 w-72 bg-white rounded-xl shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[(0,Bt.jsx)("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:(0,Bt.jsx)("h4",{className:"font-semibold text-gray-700 text-sm",children:"Your Diagrams"})}),(0,Bt.jsx)("div",{className:"max-h-64 overflow-y-auto",children:g.map(e=>{var t,n;return(0,Bt.jsx)("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 ".concat(e.id===b?"bg-purple-50":""),children:k===e.id?(0,Bt.jsx)("input",{type:"text",defaultValue:e.name,autoFocus:!0,className:"flex-1 px-2 py-1 border border-purple-300 rounded text-sm",onBlur:t=>te(e.id,t.target.value),onKeyDown:t=>{"Enter"===t.key&&te(e.id,t.target.value),"Escape"===t.key&&S(null)},onClick:e=>e.stopPropagation()}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("div",{className:"flex-1",onClick:()=>(async e=>{if(b&&L)try{await zt(b,{nodes:JSON.stringify(E),connections:JSON.stringify(P),settings:JSON.stringify({oltPower:W,onuSensitivity:K})})}catch(n){console.error("Failed to save current diagram:",n)}const t=g.map(e=>e.id===b?u(u({},e),{},{nodes:E,connections:P,settings:{oltPower:W,onuSensitivity:K}}):e);x(t),v(e),N(!1)})(e.id),children:[(0,Bt.jsx)("p",{className:"font-medium ".concat(e.id===b?"text-purple-700":"text-gray-700"),children:e.name}),(0,Bt.jsxs)("p",{className:"text-xs text-gray-400",children:[(null===(t=e.nodes)||void 0===t?void 0:t.length)||0," items, ",(null===(n=e.connections)||void 0===n?void 0:n.length)||0," cables"]})]}),(0,Bt.jsx)("button",{onClick:t=>{t.stopPropagation(),S(e.id)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Rename",children:(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,Bt.jsx)("button",{onClick:t=>{t.stopPropagation(),ne(e.id)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},e.id)})}),(0,Bt.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,Bt.jsxs)("button",{onClick:async()=>{try{ee("saving");const e=(await Ft({name:"Diagram ".concat(g.length+1),nodes:"[]",connections:"[]",settings:JSON.stringify({oltPower:5,onuSensitivity:-28}),is_shared:!1})).data,t={id:e.id,name:e.name,nodes:JSON.parse(e.nodes||"[]"),connections:JSON.parse(e.connections||"[]"),settings:JSON.parse(e.settings||"{}"),is_shared:e.is_shared,owner_id:e.owner_id,owner_name:e.owner_name};x([...g,t]),v(e.id),O([]),M([]),N(!1),ee("saved"),setTimeout(()=>ee("idle"),2e3)}catch(e){console.error("Failed to create diagram:",e),ee("error"),alert("Failed to create diagram")}},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Diagram"]})})]})]}),(0,Bt.jsx)("div",{className:"border-l border-white/30 h-6"}),(0,Bt.jsxs)("select",{value:re||"",onChange:e=>{ae(parseInt(e.target.value)||null),le(1)},className:"px-3 py-1.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm font-medium backdrop-blur focus:outline-none",children:[(0,Bt.jsx)("option",{value:"",className:"text-gray-800",children:"Select OLT"}),o.map(e=>(0,Bt.jsxs)("option",{value:e.id,className:"text-gray-800",children:[e.name," (",e.ip_address,")"]},e.id))]}),ce&&(0,Bt.jsx)("select",{value:oe,onChange:e=>le(parseInt(e.target.value)),className:"px-3 py-1.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm font-medium backdrop-blur focus:outline-none",children:Array.from({length:ce.pon_ports||8},(e,t)=>t+1).map(e=>{const t=l.filter(t=>t.olt_id===re&&t.pon_port===e).length;return(0,Bt.jsxs)("option",{value:e,className:"text-gray-800",children:["PON ",e," (",t,")"]},e)})}),ce&&(0,Bt.jsxs)("span",{className:"px-2 py-1 bg-white/20 rounded text-white text-xs ml-auto",children:[ue.length," ONUs"]})]})}),(0,Bt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-2 space-y-2",children:[(0,Bt.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,Bt.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Add:"}),(0,Bt.jsxs)("button",{onClick:()=>{if(!ce)return;const e={id:"olt-".concat(Date.now()),type:"olt",name:ce.name,x:50,y:200,width:130,height:50+12*ce.pon_ports,ponPorts:ce.pon_ports||8,power:W,oltId:ce.id,ipAddress:ce.ip_address};O([...E,e])},disabled:!ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),(null===ce||void 0===ce?void 0:ce.name)||"OLT"]}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsxs)("select",{id:"splitterType",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",defaultValue:"1:8",children:[(0,Bt.jsxs)("optgroup",{label:"PLC Splitters",children:[(0,Bt.jsx)("option",{value:"1:2",children:"1:2 (3.8 dB)"}),(0,Bt.jsx)("option",{value:"1:4",children:"1:4 (7.2 dB)"}),(0,Bt.jsx)("option",{value:"1:8",children:"1:8 (10.5 dB)"}),(0,Bt.jsx)("option",{value:"1:16",children:"1:16 (14.0 dB)"}),(0,Bt.jsx)("option",{value:"1:32",children:"1:32 (17.5 dB)"})]}),(0,Bt.jsxs)("optgroup",{label:"FBT Splitters",children:[(0,Bt.jsx)("option",{value:"50/50",children:"50/50 (3.5 dB)"}),(0,Bt.jsx)("option",{value:"30/70",children:"30/70 (5.2/1.5 dB)"}),(0,Bt.jsx)("option",{value:"20/80",children:"20/80 (7.0/1.0 dB)"}),(0,Bt.jsx)("option",{value:"10/90",children:"10/90 (10.0/0.5 dB)"})]})]}),(0,Bt.jsxs)("button",{onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1:8";const t=s[e],n={id:"splitter-".concat(Date.now()),type:"splitter",name:e,splitterType:e,x:220+100*E.filter(e=>"splitter"===e.type).length,y:200,width:65,height:35+10*t.ports,inputPorts:1,outputPorts:t.ports,category:t.category,loss:t.loss,portLosses:t.portLosses,brand:"Generic",fiberLength:.5};O([...E,n])}(document.getElementById("splitterType").value),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 transition-colors",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Splitter"]})]}),(0,Bt.jsxs)("button",{onClick:()=>ie(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"ONU"]}),(0,Bt.jsx)("div",{className:"border-l border-gray-300 h-8 mx-2"}),(0,Bt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Bt.jsxs)("button",{onClick:()=>de(8),className:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-1 transition-colors text-sm",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"SW-8"]}),(0,Bt.jsxs)("button",{onClick:()=>de(16),className:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-1 transition-colors text-sm",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"SW-16"]})]}),(0,Bt.jsxs)("button",{onClick:()=>{const e=E.filter(e=>"building"===e.type).length,t={};for(let r=1;r<=12;r++)t[r]={home1:{customer:"",unit:"".concat(r,"A")},home2:{customer:"",unit:"".concat(r,"B")}};const n={id:"building-".concat(Date.now()),type:"building",name:"Building ".concat(e+1),floors:t,totalFloors:12,x:800+e%3*180,y:100+350*Math.floor(e/3),width:160,height:320};O([...E,n])},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-1 transition-colors text-sm",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Building"]}),(0,Bt.jsx)("div",{className:"border-l border-gray-300 h-8 mx-2"}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsx)("label",{className:"text-sm text-gray-600",children:"OLT Power:"}),(0,Bt.jsx)("input",{type:"number",value:W,onChange:e=>H(parseFloat(e.target.value)||5),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm",step:"0.5"}),(0,Bt.jsx)("span",{className:"text-sm text-gray-500",children:"dBm"})]}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsx)("label",{className:"text-sm text-gray-600",children:"ONU Sens:"}),(0,Bt.jsx)("input",{type:"number",value:K,onChange:e=>X(parseFloat(e.target.value)||-28),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm",step:"0.5"}),(0,Bt.jsx)("span",{className:"text-sm text-gray-500",children:"dBm"})]}),T&&"connection"!==T.type&&(0,Bt.jsxs)("button",{onClick:()=>{return e=T.id,O(E.filter(t=>t.id!==e)),M(P.filter(t=>t.from.nodeId!==e&&t.to.nodeId!==e)),void R(null);var e},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition-colors text-sm",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}),(0,Bt.jsxs)("div",{className:"flex flex-wrap gap-3 items-center pt-2 border-t border-gray-200",children:[(0,Bt.jsx)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ".concat("saving"===Z?"bg-yellow-100 border border-yellow-300":"saved"===Z?"bg-green-100 border border-green-300":"error"===Z?"bg-red-100 border border-red-300":"bg-gray-100 border border-gray-200"),children:"saving"===Z?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("svg",{className:"w-5 h-5 text-yellow-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Bt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Bt.jsx)("span",{className:"text-sm font-medium text-yellow-700",children:"Saving to server..."})]}):"saved"===Z?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Bt.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Saved to server!"})]}):"error"===Z?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Bt.jsx)("span",{className:"text-sm font-medium text-red-700",children:"Save failed (local backup)"})]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),(0,Bt.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Cloud sync enabled"})]})}),(0,Bt.jsx)("div",{className:"bg-blue-50 border border-blue-200 px-3 py-2 rounded-lg",children:(0,Bt.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["\ud83d\udcca ",E.length," items, ",P.length," cables"]})}),(0,Bt.jsxs)("button",{onClick:()=>{window.confirm("Clear the current diagram? This cannot be undone.")&&(O([]),M([]),R(null))},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm font-medium flex items-center gap-2 transition-colors ml-auto",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]})]}),se&&(0,Bt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>ie(!1),children:(0,Bt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Bt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-4",children:[(0,Bt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Bt.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,Bt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"Select ONU"]}),(0,Bt.jsx)("button",{onClick:()=>ie(!1),className:"text-white/80 hover:text-white",children:(0,Bt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Bt.jsxs)("p",{className:"text-green-100 text-sm mt-1",children:[null===ce||void 0===ce?void 0:ce.name," \u2192 PON ",oe," (",ue.length," ONUs)"]})]}),(0,Bt.jsxs)("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:[(0,Bt.jsxs)("div",{className:"mb-4 p-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Bt.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Bt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,Bt.jsxs)("div",{className:"text-left flex-1",children:[(0,Bt.jsx)("p",{className:"font-bold text-gray-800",children:"Add Generic ONU"}),(0,Bt.jsx)("p",{className:"text-sm text-gray-500",children:"Set distance to calculate expected power"})]})]}),(0,Bt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Bt.jsxs)("div",{className:"flex-1",children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Distance (meters)"}),(0,Bt.jsx)("input",{type:"number",id:"genericOnuDistance",defaultValue:500,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-bold",placeholder:"e.g. 500",step:"50",min:"0"})]}),(0,Bt.jsxs)("div",{className:"flex-1",children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Expected Loss"}),(0,Bt.jsxs)("p",{className:"px-3 py-2 bg-orange-100 rounded-lg text-sm font-bold text-orange-700",children:["~",(parseInt((null===(r=document.getElementById("genericOnuDistance"))||void 0===r?void 0:r.value)||500)/1e3*.35).toFixed(2)," dB"]})]}),(0,Bt.jsxs)("button",{onClick:()=>{const e=document.getElementById("genericOnuDistance"),t=e&&parseInt(e.value)||500,n=E.filter(e=>"onu"===e.type).length,r={id:"onu-".concat(Date.now()),type:"onu",name:"ONU ".concat(n+1),x:450+n%4*100,y:80+70*Math.floor(n/4),width:85,height:55,onuId:null,mac:"",distance:t,rxPower:null,sensitivity:K};O([...E,r]),ie(!1)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),0===ue.length?(0,Bt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Bt.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Bt.jsx)("p",{children:"No ONUs found on this PON port"}),(0,Bt.jsx)("p",{className:"text-sm mt-1",children:"Select a different PON port or add a generic ONU"})]}):(0,Bt.jsx)("div",{className:"space-y-2",children:ue.map(e=>{const t=E.some(t=>t.onuId===e.id);return(0,Bt.jsxs)("button",{onClick:()=>(e=>{if(!e)return;if(E.some(t=>t.onuId===e.id))return void alert("This ONU is already on the diagram");const t=E.filter(e=>"onu"===e.type).length,n={id:"onu-".concat(Date.now()),type:"onu",name:e.description||e.mac_address,x:450+t%4*100,y:80+70*Math.floor(t/4),width:85,height:55,onuId:e.id,mac:e.mac_address,distance:e.distance||0,rxPower:e.rx_power,sensitivity:K,ponPort:e.pon_port,onuNumber:e.onu_id,isOnline:e.is_online};O([...E,n]),ie(!1)})(e),disabled:t,className:"w-full p-3 rounded-xl border-2 transition-all flex items-center gap-3 ".concat(t?"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60":"border-gray-200 hover:border-green-500 hover:bg-green-50"),children:[(0,Bt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.is_online?"bg-green-500":"bg-red-500"),children:(0,Bt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,Bt.jsxs)("div",{className:"flex-1 text-left",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsx)("p",{className:"font-medium text-gray-800",children:e.description||"No Name"}),t&&(0,Bt.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs",children:"Added"})]}),(0,Bt.jsx)("p",{className:"text-sm text-gray-500 font-mono",children:e.mac_address})]}),(0,Bt.jsxs)("div",{className:"text-right text-sm",children:[e.distance&&(0,Bt.jsxs)("p",{className:"text-gray-600",children:[e.distance,"m"]}),e.rx_power&&(0,Bt.jsxs)("p",{className:"font-medium ".concat(e.rx_power>-25?"text-green-600":e.rx_power>-28?"text-yellow-600":"text-red-600"),children:[e.rx_power," dBm"]})]})]},e.id)})})]})]})}),(0,Bt.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,Bt.jsxs)("div",{ref:i,className:"relative bg-gray-50 overflow-auto",style:{height:"calc(100vh - 280px)",minHeight:"500px",cursor:A?"crosshair":"default"},onMouseMove:e=>{var t;const n=null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect();if(n&&V({x:e.clientX-n.left,y:e.clientY-n.top}),D){var r;const t=null===(r=i.current)||void 0===r?void 0:r.getBoundingClientRect();if(t){const n=e.clientX-t.left-z.x,r=e.clientY-t.top-z.y;O(E.map(e=>e.id===D.id?u(u({},e),{},{x:Math.max(0,n),y:Math.max(0,r)}):e))}}},onMouseUp:he,onMouseLeave:he,children:[(0,Bt.jsxs)("svg",{className:"absolute inset-0 w-full h-full",style:{minWidth:c.width,minHeight:c.height},children:[(0,Bt.jsx)("defs",{children:(0,Bt.jsx)("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,Bt.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#E5E7EB",strokeWidth:"0.5"})})}),(0,Bt.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)",style:{pointerEvents:"none"}}),P.map(e=>{const t=E.find(t=>t.id===e.from.nodeId),n=E.find(t=>t.id===e.to.nodeId);if(!t||!n)return null;const r=fe(t,e.from.portType,e.from.portIndex),a=fe(n,e.to.portType,e.to.portIndex),o="onu"===t.type&&"switch"===n.type||"switch"===t.type&&"building"===n.type,l=o?void 0:xe["".concat(n.id,"-").concat("onu"===n.type?"rx":"input")],s=o?{color:"#F59E0B"}:be(l),i=(r.x+a.x)/2,c=(r.y+a.y)/2,d=i+2*(e.labelOffsetX||0),f=c+2*(e.labelOffsetY||0),p=.25*r.x+.5*d+.25*a.x,m=.25*r.y+.5*f+.25*a.y,h="M ".concat(r.x," ").concat(r.y," Q ").concat(d," ").concat(f,", ").concat(a.x," ").concat(a.y),g="connection"===(null===T||void 0===T?void 0:T.type)&&(null===T||void 0===T?void 0:T.id)===e.id,x=e.cableLength||(o?50:500),b=x/1e3*G;return(0,Bt.jsxs)("g",{children:[(0,Bt.jsx)("path",{d:h,fill:"none",stroke:"transparent",strokeWidth:"15",className:"cursor-pointer",onClick:()=>R(u({type:"connection"},e))}),(0,Bt.jsx)("path",{d:h,fill:"none",stroke:g?"#3B82F6":s.color,strokeWidth:g?4:3,strokeDasharray:o?"8,4":"none",className:"pointer-events-none"}),(0,Bt.jsx)("foreignObject",{x:p-45,y:m-(o?18:28),width:"90",height:o?36:56,style:{overflow:"visible"},children:(0,Bt.jsxs)("div",{className:"flex flex-col items-center justify-center p-1 rounded-lg border-2 shadow-md ".concat(g?"bg-blue-500 border-blue-600":o?"bg-yellow-50 border-yellow-400":"bg-white border-gray-300"),style:{height:o?"32px":"52px",cursor:"grab"},draggable:!1,onMouseDown:t=>{if("INPUT"===t.target.tagName)return;t.preventDefault(),t.stopPropagation();const n=t.clientX,r=t.clientY,a=e.labelOffsetX||0,o=e.labelOffsetY||0;t.target.style.cursor="grabbing";const l=t=>{t.preventDefault();const l=t.clientX-n,s=t.clientY-r;ve(e.id,"labelOffsetX",a+l),ve(e.id,"labelOffsetY",o+s)},s=e=>{e.target.style.cursor="grab",document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",s)},title:"Drag to move",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,Bt.jsx)("input",{type:"number",value:x,onChange:t=>{t.stopPropagation(),ve(e.id,"cableLength",parseInt(t.target.value)||0)},onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),className:"w-14 px-1 py-0.5 text-center text-xs font-bold rounded border ".concat(g?"bg-blue-400 border-blue-300 text-white placeholder-blue-200":"bg-gray-50 border-gray-300 text-gray-800"),style:{fontSize:"11px"},step:o?10:50,min:"0"}),(0,Bt.jsx)("span",{className:"text-xs font-medium ".concat(g?"text-white":"text-gray-600"),children:"m"})]}),!o&&(0,Bt.jsxs)("div",{className:"text-xs mt-0.5 font-medium ".concat(g?"text-blue-100":"text-orange-600"),children:["-",b.toFixed(2)," dB"]})]})}),(0,Bt.jsx)("foreignObject",{x:p+40,y:m-15,width:"28",height:"28",children:(0,Bt.jsx)("button",{onClick:t=>{t.stopPropagation(),t.preventDefault(),ge(e.id),R(null)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-md border border-white",title:"Delete cable",children:"\xd7"})})]},e.id)}),A&&(()=>{const e=E.find(e=>e.id===A.nodeId);if(!e)return null;const t=fe(e,A.portType,A.portIndex),n=(t.x+I.x)/2,r="M ".concat(t.x," ").concat(t.y," C ").concat(n," ").concat(t.y,", ").concat(n," ").concat(I.y,", ").concat(I.x," ").concat(I.y);return(0,Bt.jsx)("path",{d:r,fill:"none",stroke:"#9CA3AF",strokeWidth:"2",strokeDasharray:"5,5"})})()]}),E.map(e=>{var t;return(0,Bt.jsxs)("div",{className:"absolute cursor-move select-none transition-all ".concat((null===T||void 0===T?void 0:T.id)===e.id?"z-10":""),style:{left:e.x,top:e.y,width:e.width,height:e.height},onMouseDown:t=>((e,t)=>{var n;if(e.target.classList.contains("port"))return;const r=null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect();r&&(F(t),B({x:e.clientX-r.left-t.x,y:e.clientY-r.top-t.y})),R(t)})(t,e),children:["olt"===e.type&&(0,Bt.jsx)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-cyan-400 ring-offset-1":""),children:(0,Bt.jsxs)("div",{className:"absolute inset-0 bg-[#1a1a1a] rounded-sm shadow-xl",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[(0,Bt.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-gradient-to-b from-[#3a3a3a] to-[#1a1a1a]"}),(0,Bt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-t from-[#0a0a0a] to-[#1a1a1a]"}),(0,Bt.jsxs)("div",{className:"absolute left-1 top-0 bottom-0 w-20 flex flex-col justify-center",children:[(0,Bt.jsxs)("div",{className:"bg-[#2a2a2a] rounded-sm px-1.5 py-1 mx-0.5",children:[(0,Bt.jsx)("div",{className:"text-[8px] font-bold text-cyan-400 tracking-wide",children:"VSOL"}),(0,Bt.jsx)("div",{className:"text-[9px] font-bold text-white truncate",children:e.name})]}),(0,Bt.jsxs)("div",{className:"flex gap-1 mt-1 px-1",children:[(0,Bt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-lg",style:{boxShadow:"0 0 4px #22c55e"}}),(0,Bt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500 shadow-lg",style:{boxShadow:"0 0 4px #06b6d4"}}),(0,Bt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 shadow-lg",style:{boxShadow:"0 0 4px #f97316"}})]})]}),(0,Bt.jsxs)("div",{className:"absolute right-1 top-1 bottom-1 flex flex-col justify-around",style:{width:"24px"},children:[(0,Bt.jsx)("div",{className:"text-[5px] text-gray-500 text-center mb-0.5",children:"PON"}),Array.from({length:e.ponPorts},(t,n)=>{const r=xe["".concat(e.id,"-output-").concat(n)];return(0,Bt.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[(0,Bt.jsx)("span",{className:"text-[5px] text-gray-500",children:n+1}),(0,Bt.jsx)("div",{className:"port w-3 h-2.5 bg-[#0d0d0d] border border-[#3a3a3a] cursor-crosshair hover:border-cyan-400 transition-all flex items-center justify-center",style:{marginRight:-6,borderRadius:"1px"},onMouseDown:t=>pe(t,e,"output",n),onMouseUp:t=>me(t,e,"output",n),title:"PON ".concat(n+1,": ").concat((null===r||void 0===r?void 0:r.toFixed(1))||W," dBm"),children:(0,Bt.jsx)("div",{className:"w-1.5 h-1 bg-green-500 rounded-sm",style:{boxShadow:"0 0 3px #22c55e"}})})]},n)})]})]})}),"splitter"===e.type&&(0,Bt.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-purple-400 ring-offset-1":""),children:[(0,Bt.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#f8f8f8] to-[#e8e8e8] rounded shadow-md border border-[#ccc]",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[(0,Bt.jsx)("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-[#4a5568] to-[#2d3748] flex items-center justify-center rounded-t",children:(0,Bt.jsx)("span",{className:"text-[6px] font-bold text-white tracking-wide",children:e.splitterType||e.name})}),(0,Bt.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:(0,Bt.jsx)("div",{className:"w-2 h-4 bg-blue-600 rounded-r-sm border-r border-t border-b border-blue-700",style:{marginLeft:"-2px"}})}),(0,Bt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pt-3",children:(0,Bt.jsx)("div",{className:"text-[5px] text-gray-500 font-medium",children:e.category})}),(0,Bt.jsx)("div",{className:"absolute right-0 top-3 bottom-1 flex flex-col justify-around",children:Array.from({length:e.outputPorts},(t,n)=>{const r=xe["".concat(e.id,"-output-").concat(n)],a=e.portLosses?e.portLosses[n]:e.loss;return(0,Bt.jsx)("div",{className:"flex items-center",children:(0,Bt.jsx)("div",{className:"port w-2 h-2.5 bg-orange-500 rounded-l-sm border-l border-t border-b border-orange-600 cursor-crosshair hover:bg-orange-400 transition-all",style:{marginRight:-4},onMouseDown:t=>pe(t,e,"output",n),onMouseUp:t=>me(t,e,"output",n),title:"Port ".concat(n+1,": ").concat((null===r||void 0===r?void 0:r.toFixed(1))||"?"," dBm (").concat(a," dB loss)")})},n)})})]}),(0,Bt.jsx)("div",{className:"port absolute left-0 top-1/2 -translate-y-1/2 w-3 h-5 cursor-crosshair opacity-0",style:{marginLeft:-6},onMouseDown:t=>pe(t,e,"input",0),onMouseUp:t=>me(t,e,"input",0),title:"Input: ".concat((null===(t=xe["".concat(e.id,"-input")])||void 0===t?void 0:t.toFixed(1))||"?"," dBm")})]}),"onu"===e.type&&(t=>{const n=e.onuId?l.find(t=>t.id===e.onuId):null,r=n?n.is_online:!1!==e.isOnline;return(0,Bt.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-green-400 ring-offset-1":""),children:[(0,Bt.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#fefefe] to-[#f0f0f0] rounded shadow-md border ".concat(r?"border-[#ddd]":"border-red-400"),style:{boxShadow:r?"0 2px 6px rgba(0,0,0,0.1)":"0 2px 8px rgba(239,68,68,0.3)"},children:[(0,Bt.jsxs)("div",{className:"absolute top-0 left-0 right-0 h-3 rounded-t flex items-center px-1.5 ".concat(r?"bg-gradient-to-r from-[#1e3a5f] via-[#2563eb] to-[#1e3a5f]":"bg-gradient-to-r from-red-700 via-red-500 to-red-700"),children:[(0,Bt.jsx)("span",{className:"text-[7px] font-bold text-white",children:"ONU"}),!r&&(0,Bt.jsx)("span",{className:"text-[6px] text-red-200 ml-auto",children:"OFFLINE"})]}),(0,Bt.jsxs)("div",{className:"absolute top-4 right-1.5 flex gap-1",children:[(0,Bt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(r?void 0!==xe["".concat(e.id,"-rx")]?"bg-green-500":"bg-gray-300":"bg-red-500"),style:r?void 0!==xe["".concat(e.id,"-rx")]?{boxShadow:"0 0 4px #22c55e"}:{}:{boxShadow:"0 0 4px #ef4444"}}),(0,Bt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(r?"bg-blue-500":"bg-gray-400"),style:r?{boxShadow:"0 0 4px #3b82f6"}:{}})]}),(0,Bt.jsx)("div",{className:"absolute top-4 left-1.5 right-6",children:(0,Bt.jsx)("div",{className:"text-[8px] font-medium text-gray-700 truncate",children:e.name})}),void 0!==xe["".concat(e.id,"-rx")]&&(0,Bt.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,Bt.jsxs)("div",{className:"text-[10px] text-center font-bold py-1 rounded ".concat("GOOD"===be(xe["".concat(e.id,"-rx")]).status?"bg-green-500 text-white":"MARGINAL"===be(xe["".concat(e.id,"-rx")]).status?"bg-yellow-500 text-white":"bg-red-500 text-white"),style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:[xe["".concat(e.id,"-rx")].toFixed(1)," dBm"]})})]}),(0,Bt.jsx)("div",{className:"port absolute left-0 top-1/2 -translate-y-1/2 w-3 h-5 bg-green-600 rounded-r-sm border-r border-t border-b border-green-700 cursor-crosshair hover:bg-green-500 hover:scale-110 transition-all",style:{marginLeft:-6},onMouseDown:t=>pe(t,e,"input",0),onMouseUp:t=>me(t,e,"input",0),title:"RX: ".concat((null===(t=xe["".concat(e.id,"-rx")])||void 0===t?void 0:t.toFixed(1))||"?"," dBm")}),(0,Bt.jsx)("div",{className:"port absolute right-0 top-1/2 -translate-y-1/2 w-3 h-4 bg-yellow-500 rounded-l-sm border-l border-t border-b border-yellow-600 cursor-crosshair hover:bg-yellow-400 hover:scale-110 transition-all",style:{marginRight:-6},onMouseDown:t=>pe(t,e,"output",0),onMouseUp:t=>me(t,e,"output",0),title:"Ethernet output (to Switch)"})]})})(),"switch"===e.type&&(0,Bt.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-orange-400 ring-offset-1":""),children:[(0,Bt.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2a2a2a] to-[#1a1a1a] rounded-lg shadow-lg border border-[#3a3a3a]",style:{boxShadow:"0 3px 10px rgba(0,0,0,0.4)"},children:[(0,Bt.jsxs)("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-r from-orange-600 via-orange-500 to-orange-600 rounded-t-lg flex items-center justify-between px-2",children:[(0,Bt.jsx)("span",{className:"text-[8px] font-bold text-white",children:"L2 SWITCH"}),(0,Bt.jsxs)("span",{className:"text-[8px] font-bold text-orange-200",children:[e.ports," PORT"]})]}),(0,Bt.jsx)("div",{className:"absolute top-7 left-1 right-1 cursor-pointer",onClick:t=>{t.stopPropagation();const n=prompt("Switch name:",e.name||"");null!==n&&n.trim()&&ye(e.id,"name",n.trim())},title:"Click to rename switch",children:(0,Bt.jsx)("div",{className:"text-[9px] font-bold text-white truncate text-center bg-gray-700/50 rounded px-1 py-0.5",children:e.name})}),(0,Bt.jsx)("div",{className:"absolute top-14 left-1 right-1 bottom-1",children:Array.from({length:e.ports},(e,t)=>(0,Bt.jsxs)("div",{className:"flex items-center h-[22px] border-b border-gray-700 last:border-b-0",children:[(0,Bt.jsx)("div",{className:"w-6 text-[9px] font-bold text-orange-400 text-center",children:t+1}),(0,Bt.jsx)("div",{className:"flex-1 h-3 bg-gray-700 rounded mx-1",children:(0,Bt.jsx)("div",{className:"h-full w-1/3 bg-green-500 rounded",style:{boxShadow:"0 0 3px #22c55e"}})})]},t))})]}),(0,Bt.jsx)("div",{className:"port absolute left-0 w-4 h-5 bg-yellow-500 rounded-r-sm border-r border-t border-b border-yellow-600 cursor-crosshair hover:bg-yellow-400 hover:scale-110 transition-all",style:{marginLeft:-8,top:12},onMouseDown:t=>pe(t,e,"input",0),onMouseUp:t=>me(t,e,"input",0),title:"Uplink (from ONU)"}),Array.from({length:e.ports},(t,n)=>(0,Bt.jsx)("div",{className:"port absolute right-0 w-4 h-4 bg-blue-500 rounded-l-sm border-l border-t border-b border-blue-600 cursor-crosshair hover:bg-blue-400 hover:scale-110 transition-all flex items-center justify-center",style:{marginRight:-8,top:30+22*n+5},onMouseDown:t=>pe(t,e,"output",n),onMouseUp:t=>me(t,e,"output",n),title:"Port ".concat(n+1," \u2192 Floor"),children:(0,Bt.jsx)("span",{className:"text-[6px] font-bold text-white",children:n+1})},n))]}),"building"===e.type&&(0,Bt.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-indigo-400 ring-offset-1":""),children:[(0,Bt.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4a5568] to-[#2d3748] rounded-lg shadow-lg border-2 border-gray-600",style:{boxShadow:"0 4px 15px rgba(0,0,0,0.4)"},children:[(0,Bt.jsx)("div",{className:"absolute -top-2 left-2 right-2 h-3 bg-gradient-to-b from-[#718096] to-[#4a5568] rounded-t-lg border-t-2 border-l-2 border-r-2 border-gray-500"}),(0,Bt.jsx)("div",{className:"absolute top-1 left-0 right-0 flex items-center justify-center",children:(0,Bt.jsx)("div",{className:"px-2 py-0.5 bg-indigo-600 rounded text-[10px] font-bold text-white shadow cursor-pointer hover:bg-indigo-500 transition-colors",onClick:t=>{t.stopPropagation();const n=prompt("Building name:",e.name||"");null!==n&&n.trim()&&ye(e.id,"name",n.trim())},title:"Click to change building name",children:e.name})}),(0,Bt.jsx)("div",{className:"absolute top-7 left-1 right-1 bottom-6 overflow-hidden rounded",children:Array.from({length:e.totalFloors||12},(t,n)=>(e.totalFloors||12)-n).map(t=>{var n;const r={home1:{customer:"",unit:"".concat(t,"A")},home2:{customer:"",unit:"".concat(t,"B")}},a=(null===(n=e.floors)||void 0===n?void 0:n[t])||r,o=a.home1||{customer:"",unit:"".concat(t,"A")},l=a.home2||{customer:"",unit:"".concat(t,"B")};return(0,Bt.jsxs)("div",{className:"flex h-[24px] border-b border-gray-600 last:border-b-0",children:[(0,Bt.jsx)("div",{className:"w-7 bg-gray-700 flex items-center justify-center border-r border-gray-600",children:(0,Bt.jsx)("span",{className:"text-[10px] font-bold text-yellow-300",children:t})}),(0,Bt.jsxs)("div",{className:"flex-1 bg-gradient-to-b from-amber-100 to-amber-200 border-r border-gray-500 flex flex-col items-center justify-center cursor-pointer hover:from-amber-200 hover:to-amber-300 transition-colors",onClick:n=>{n.stopPropagation();const r=prompt("Customer name for ".concat(o.unit||"".concat(t,"A"),":"),o.customer||"");if(null!==r){const n=u({},e.floors||{});n[t]={home1:{customer:r,unit:o.unit||"".concat(t,"A")},home2:l},ye(e.id,"floors",n)}},title:"".concat(o.unit||"".concat(t,"A"),": ").concat(o.customer||"Click to add customer"),children:[(0,Bt.jsx)("div",{className:"text-[7px] font-bold text-gray-700",children:o.unit||"".concat(t,"A")}),(0,Bt.jsx)("div",{className:"text-[6px] text-gray-600 truncate w-full px-0.5 text-center",children:o.customer||"---"})]}),(0,Bt.jsxs)("div",{className:"flex-1 bg-gradient-to-b from-blue-100 to-blue-200 flex flex-col items-center justify-center cursor-pointer hover:from-blue-200 hover:to-blue-300 transition-colors",onClick:n=>{n.stopPropagation();const r=prompt("Customer name for ".concat(l.unit||"".concat(t,"B"),":"),l.customer||"");if(null!==r){const n=u({},e.floors||{});n[t]={home1:o,home2:{customer:r,unit:l.unit||"".concat(t,"B")}},ye(e.id,"floors",n)}},title:"".concat(l.unit||"".concat(t,"B"),": ").concat(l.customer||"Click to add customer"),children:[(0,Bt.jsx)("div",{className:"text-[7px] font-bold text-gray-700",children:l.unit||"".concat(t,"B")}),(0,Bt.jsx)("div",{className:"text-[6px] text-gray-600 truncate w-full px-0.5 text-center",children:l.customer||"---"})]})]},t)})}),(0,Bt.jsxs)("div",{className:"absolute bottom-1 left-1 right-1 flex justify-center gap-1",children:[(0,Bt.jsx)("button",{className:"px-2 py-0.5 bg-red-500 hover:bg-red-600 text-white text-[9px] font-bold rounded shadow transition-colors",onClick:t=>{t.stopPropagation();const n=e.totalFloors||12;if(n>1){const t=n-1,r=u({},e.floors||{});delete r[n],ye(e.id,"totalFloors",t),ye(e.id,"floors",r),ye(e.id,"height",50+24*t)}},title:"Remove top floor",children:"\u2212 Floor"}),(0,Bt.jsx)("button",{className:"px-2 py-0.5 bg-green-500 hover:bg-green-600 text-white text-[9px] font-bold rounded shadow transition-colors",onClick:t=>{t.stopPropagation();const n=(e.totalFloors||12)+1,r=u({},e.floors||{});r[n]={home1:{customer:"",unit:"".concat(n,"A")},home2:{customer:"",unit:"".concat(n,"B")}},ye(e.id,"totalFloors",n),ye(e.id,"floors",r),ye(e.id,"height",50+24*n)},title:"Add new floor",children:"+ Floor"})]})]}),Array.from({length:e.totalFloors||12},(t,n)=>{const r=(e.totalFloors||12)-n;return(0,Bt.jsx)("div",{className:"port absolute left-0 w-4 h-4 bg-blue-500 rounded-r-sm border-r border-t border-b border-blue-600 cursor-crosshair hover:bg-blue-400 hover:scale-110 transition-all flex items-center justify-center",style:{marginLeft:-8,top:30+24*n+4},onMouseDown:t=>pe(t,e,"input",r),onMouseUp:t=>me(t,e,"input",r),title:"Floor ".concat(r," input"),children:(0,Bt.jsx)("span",{className:"text-[5px] font-bold text-white",children:r})},r)})]})]},e.id)}),0===E.length&&(0,Bt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Bt.jsxs)("div",{className:"text-center text-gray-400",children:[(0,Bt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Bt.jsx)("p",{className:"text-lg",children:"Click buttons above to add components"}),(0,Bt.jsx)("p",{className:"text-sm mt-2",children:"Drag ports to connect them with fiber cables"})]})})]})}),T&&"connection"!==T.type&&(0,Bt.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,Bt.jsxs)("h3",{className:"font-bold text-gray-800 mb-3",children:["Properties: ",T.name]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Name"}),(0,Bt.jsx)("input",{type:"text",value:T.name,onChange:e=>ye(T.id,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),"splitter"===T.type&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Type"}),(0,Bt.jsx)("select",{value:T.splitterType,onChange:e=>{const t=e.target.value,n=s[t];ye(T.id,"splitterType",t),ye(T.id,"name",t),ye(T.id,"outputPorts",n.ports),ye(T.id,"loss",n.loss),ye(T.id,"portLosses",n.portLosses),ye(T.id,"height",35+10*n.ports)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:Object.keys(s).map(e=>(0,Bt.jsx)("option",{value:e,children:e},e))})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Brand"}),(0,Bt.jsx)("input",{type:"text",value:T.brand||"Generic",onChange:e=>ye(T.id,"brand",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),"onu"===T.type&&(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Distance (m)"}),(0,Bt.jsx)("input",{type:"number",value:T.distance||500,onChange:e=>ye(T.id,"distance",parseInt(e.target.value)||500),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),"switch"===T.type&&(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Ports"}),(0,Bt.jsxs)("select",{value:T.ports,onChange:e=>ye(T.id,"ports",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Bt.jsx)("option",{value:8,children:"8 Ports"}),(0,Bt.jsx)("option",{value:16,children:"16 Ports"}),(0,Bt.jsx)("option",{value:24,children:"24 Ports"}),(0,Bt.jsx)("option",{value:48,children:"48 Ports"})]})]}),"building"===T.type&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Total Floors"}),(0,Bt.jsx)("select",{value:T.totalFloors||12,onChange:e=>{const t=parseInt(e.target.value),n={};for(let a=1;a<=t;a++){var r;n[a]=(null===(r=T.floors)||void 0===r?void 0:r[a])||{home1:{customer:"",unit:"".concat(a,"A")},home2:{customer:"",unit:"".concat(a,"B")}}}ye(T.id,"totalFloors",t),ye(T.id,"floors",n),ye(T.id,"height",30+24*t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[4,6,8,10,12,14,16,18,20].map(e=>(0,Bt.jsxs)("option",{value:e,children:[e," Floors"]},e))})]}),(0,Bt.jsxs)("div",{className:"col-span-2",children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Click on any home in the building to set customer name"}),(0,Bt.jsxs)("div",{className:"text-xs text-indigo-600 font-medium",children:[Object.values(T.floors||{}).reduce((e,t)=>{var n,r;return e+(null!==(n=t.home1)&&void 0!==n&&n.customer?1:0)+(null!==(r=t.home2)&&void 0!==r&&r.customer?1:0)},0)," / ",2*(T.totalFloors||12)," homes assigned"]})]})]})]})]}),T&&"connection"===T.type&&(0,Bt.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 border-2 border-blue-500",children:[(0,Bt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Bt.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,Bt.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"})}),"Cable Properties"]}),(0,Bt.jsxs)("button",{onClick:()=>{ge(T.id),R(null)},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm flex items-center gap-1",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Cable"]})]}),(0,Bt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Bt.jsxs)("div",{className:"col-span-2",children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1 font-medium",children:"Cable Length (meters)"}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsx)("input",{type:"number",value:T.cableLength||500,onChange:e=>ve(T.id,"cableLength",parseInt(e.target.value)||100),className:"w-full px-3 py-2 border-2 border-blue-300 rounded-lg text-sm font-bold focus:border-blue-500 focus:ring-2 focus:ring-blue-200",step:"50",min:"0"}),(0,Bt.jsx)("span",{className:"text-gray-500 text-sm",children:"m"})]}),(0,Bt.jsx)("div",{className:"flex gap-1 mt-2",children:[50,100,200,500,1e3,2e3].map(e=>(0,Bt.jsxs)("button",{onClick:()=>ve(T.id,"cableLength",e),className:"px-2 py-1 text-xs rounded ".concat(T.cableLength===e?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"),children:[e,"m"]},e))})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Connectors"}),(0,Bt.jsx)("input",{type:"number",value:T.connectors||2,onChange:e=>ve(T.id,"connectors",parseInt(e.target.value)||2),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Fiber Loss"}),(0,Bt.jsxs)("p",{className:"text-lg font-bold text-orange-600",children:[((T.cableLength||500)/1e3*G).toFixed(2)," dB"]}),(0,Bt.jsxs)("p",{className:"text-xs text-gray-400",children:[((T.cableLength||500)/1e3).toFixed(2)," km \xd7 0.35"]})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Total Loss"}),(0,Bt.jsxs)("p",{className:"text-lg font-bold text-red-600",children:[((T.cableLength||500)/1e3*G+(T.connectors||2)*$).toFixed(2)," dB"]}),(0,Bt.jsxs)("p",{className:"text-xs text-gray-400",children:["fiber + ",T.connectors||2," conn"]})]})]})]})]})}function tn(e){var t,n;let{currentPage:r,onNavigate:a,user:o,onLogout:l,isOpen:s,onClose:i,pageName:c}=e;const u=[{id:"dashboard",label:"Dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"onus",label:"ONUs",icon:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"},{id:"regions",label:"Regions",icon:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",adminOnly:!1},{id:"splitter",label:"Splitter Simulator",icon:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}];return"admin"===(null===o||void 0===o?void 0:o.role)&&u.push({id:"users",label:"Users",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}),(0,Bt.jsxs)(Bt.Fragment,{children:[s&&(0,Bt.jsx)("div",{className:"fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity",onClick:i}),(0,Bt.jsx)("aside",{className:"fixed inset-y-0 left-0 z-50 w-[280px] bg-white border-r border-[#e8eaed] transform transition-all duration-300 ease-material lg:translate-x-0 lg:static lg:inset-0 ".concat(s?"translate-x-0":"-translate-x-full"),children:(0,Bt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Bt.jsx)("div",{className:"p-6 border-b border-[#e8eaed]",children:(0,Bt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Bt.jsx)("div",{className:"w-10 h-10 bg-[#2563eb] rounded-lg flex items-center justify-center",children:(0,Bt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("h1",{className:"text-base font-semibold text-[#111827]",children:c||"OLT Manager"}),(0,Bt.jsx)("p",{className:"text-xs text-[#9ca3af]",children:"GPON Network"})]})]}),(0,Bt.jsx)("button",{onClick:i,"aria-label":"Close menu",title:"Close menu",className:"lg:hidden p-2 text-[#9ca3af] hover:text-[#111827] hover:bg-[#f4f5f7] rounded-lg transition-colors",children:(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Bt.jsxs)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[(0,Bt.jsx)("p",{className:"px-3 py-2 text-xs font-medium text-[#9ca3af] uppercase tracking-wider",children:"Menu"}),u.map(e=>(0,Bt.jsxs)("button",{onClick:()=>{a(e.id),i()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-150 ".concat(r===e.id?"bg-blue-50 text-[#2563eb]":"text-[#4b5563] hover:bg-[#f4f5f7] hover:text-[#111827]"),children:[(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:e.icon})}),(0,Bt.jsx)("span",{className:"font-medium text-sm",children:e.label})]},e.id))]}),(0,Bt.jsxs)("div",{className:"p-4 border-t border-[#e8eaed]",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Bt.jsxs)("div",{className:"relative",children:[(0,Bt.jsx)("div",{className:"w-10 h-10 bg-[#2563eb] rounded-lg flex items-center justify-center text-white font-semibold text-sm",children:(null===o||void 0===o||null===(t=o.username)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"U"}),(0,Bt.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-[#059669] rounded-full border-2 border-white"})]}),(0,Bt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Bt.jsx)("p",{className:"text-sm font-medium text-[#111827] truncate",children:(null===o||void 0===o?void 0:o.full_name)||(null===o||void 0===o?void 0:o.username)}),(0,Bt.jsx)("p",{className:"text-xs text-[#9ca3af] capitalize",children:null===o||void 0===o?void 0:o.role})]})]}),(0,Bt.jsxs)("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-[#4b5563] hover:text-[#dc2626] hover:bg-red-50 rounded-lg transition-all duration-150 border border-[#e8eaed]",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,Bt.jsx)("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]})})]})}function nn(e){let{status:t,message:n}=e;return(0,Bt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:[(0,Bt.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto"}),(0,Bt.jsxs)("div",{className:"relative bg-gradient-to-br ".concat((()=>{switch(t){case"suspended":return"from-yellow-600 to-orange-600";case"expired":default:return"from-red-600 to-red-800";case"revoked":return"from-gray-700 to-gray-900"}})()," p-8 rounded-2xl shadow-2xl max-w-md mx-4 text-center pointer-events-auto"),children:[(0,Bt.jsx)("div",{className:"text-6xl mb-4",children:(()=>{switch(t){case"suspended":return"\u26a0\ufe0f";case"expired":return"\u23f0";case"revoked":return"\ud83d\udeab";default:return"\u274c"}})()}),(0,Bt.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:(()=>{switch(t){case"suspended":return"License Suspended";case"expired":return"License Expired";case"revoked":return"License Revoked";default:return"License Invalid"}})()}),(0,Bt.jsx)("p",{className:"text-white/90 text-lg mb-6",children:n}),(0,Bt.jsx)("div",{className:"bg-white/20 rounded-lg p-4",children:(0,Bt.jsx)("p",{className:"text-white/80 text-sm",children:"Please contact your system administrator or support to resolve this issue."})}),(0,Bt.jsx)("div",{className:"mt-6 text-white/60 text-xs",children:"You can view the dashboard but all actions are disabled."})]})]})}function rn(e){var t,n,r;let{user:o,onLogout:l,pageName:s}=e;const[i,c]=(0,a.useState)(()=>localStorage.getItem("currentPage")||"dashboard"),[d,f]=(0,a.useState)({status:"active",message:null}),[p,m]=(0,a.useState)(null),h=(0,a.useRef)(null),g=(0,a.useCallback)(async()=>{try{const e=(await Rt.get("/api/license")).data;f({status:e.status||"active",message:e.status_message}),m(e)}catch(e){console.error("Failed to fetch license status:",e)}},[]);(0,a.useEffect)(()=>(g(),h.current=setInterval(g,6e4),()=>{h.current&&clearInterval(h.current)}),[g]);const x="active"===d.status;(0,a.useEffect)(()=>{localStorage.setItem("currentPage",i)},[i]);const[b,v]=(0,a.useState)(null),[y,w]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[k,S]=(0,a.useState)([]),[C,_]=(0,a.useState)([]),[L,E]=(0,a.useState)(null),[O,P]=(0,a.useState)(null),[M,T]=(0,a.useState)(null),[R,D]=(0,a.useState)(null),[F,z]=(0,a.useState)(""),[B,A]=(0,a.useState)(!0),[U,I]=(0,a.useState)(!1),[V,W]=(0,a.useState)(!1),[H,G]=(0,a.useState)(!1),[q,$]=(0,a.useState)(!1),[Q,K]=(0,a.useState)(!1),[X,J]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)({type:null,id:null,name:""}),[ee,te]=(0,a.useState)(null),[ne,re]=(0,a.useState)(null),[ae,oe]=(0,a.useState)(null),[le,se]=(0,a.useState)(!1),[ie,ce]=(0,a.useState)(window.innerWidth<768),[ue,de]=(0,a.useState)(null),[fe,pe]=(0,a.useState)(""),[me,he]=(0,a.useState)(null),[ge,xe]=(0,a.useState)(!1),[be,ve]=(0,a.useState)(!1),ye=(0,a.useRef)(null),we=(0,a.useRef)({}),je="admin"===(null===o||void 0===o?void 0:o.role),Ne=e=>{const t=e.image_urls||(e.image_url?[e.image_url]:[]);t.length>0&&(de(t),pe(e.description||"ONU ".concat(e.pon_port,":").concat(e.onu_id)))};(0,a.useEffect)(()=>{const e=()=>ce(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const ke=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/dashboard");v(e.data)}catch(e){console.error("Failed to fetch stats:",e)}},[]),Se=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/olts");w(e.data.olts)}catch(e){console.error("Failed to fetch OLTs:",e)}},[]),Ce=(0,a.useCallback)(async()=>{try{let t;const n={};F?t=await(e=F,Rt.get("/api/onus/search",{params:{q:e}})):(O&&(n.olt_id=O),M&&(n.region_id=M),t=await(e=>Rt.get("/api/onus",{params:e}))(n)),N(t.data.onus)}catch(t){console.error("Failed to fetch ONUs:",t)}var e},[O,M,F]),_e=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/regions");S(e.data.regions||e.data)}catch(e){console.error("Failed to fetch regions:",e)}},[]),Le=(0,a.useCallback)(async()=>{if(je)try{const e=await Rt.get("/api/users");_(e.data.users||e.data)}catch(e){console.error("Failed to fetch users:",e)}},[je]),Ee=(0,a.useCallback)(async()=>{try{const e=await Dt();E(e.data)}catch(e){console.error("Failed to fetch settings:",e)}},[]),Oe=(0,a.useCallback)(e=>{ye.current&&ye.current.close();const t="https:"===window.location.protocol?"wss:":"ws:",n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"";let r=window.location.host;if(n)try{r=new URL(n).host}catch(l){console.error("Invalid API URL:",n)}const a="".concat(t,"//").concat(r,"/ws/traffic/").concat(e);console.log("Connecting to WebSocket:",a),we.current={},xe(!0);const o=new WebSocket(a);o.onopen=()=>{console.log("WebSocket connected for OLT",e),ve(!0),xe(!1)},o.onmessage=e=>{try{const t=JSON.parse(e.data);if(t.traffic&&t.traffic.length>0){t.traffic.forEach(e=>{we.current[e.mac_address]=u(u({},e),{},{lastUpdate:Date.now()})});const e=Object.values(we.current).filter(e=>Date.now()-e.lastUpdate<3e4).sort((e,t)=>t.rx_kbps+t.tx_kbps-(e.rx_kbps+e.tx_kbps));he(u(u({},t),{},{traffic:e}))}else{const e=Object.values(we.current).filter(e=>Date.now()-e.lastUpdate<3e4).sort((e,t)=>t.rx_kbps+t.tx_kbps-(e.rx_kbps+e.tx_kbps));he(u(u({},t),{},{traffic:e}))}}catch(l){console.error("Failed to parse WebSocket message:",l)}},o.onerror=e=>{console.error("WebSocket error:",e),ve(!1),xe(!1)},o.onclose=()=>{console.log("WebSocket disconnected"),ve(!1)},ye.current=o},[]);(0,a.useEffect)(()=>"onus"===i&&O?(Oe(O),()=>{ye.current&&(ye.current.close(),ye.current=null)}):(ye.current&&(ye.current.close(),ye.current=null),he(null),ve(!1),void(we.current={})),[i,O,Oe]),(0,a.useEffect)(()=>{(async()=>{A(!0),await Promise.all([ke(),Se(),Ce(),_e(),Le(),Ee()]),A(!1)})()},[ke,Se,Ce,_e,Le,Ee]),(0,a.useEffect)(()=>{const e=setInterval(()=>{ke(),Se()},3e4);return()=>clearInterval(e)},[ke,Se]),(0,a.useEffect)(()=>{Ce()},[Ce]);const Pe=e=>{P(O===e?null:e),T(null),D(null),z("")},Me=e=>{T(e),P(null),z(""),e&&c("onus")},Te=async e=>{await(e=>Rt.post("/api/olts/".concat(e,"/poll")))(e),await Se(),await Ce(),await ke()},Re=async e=>{await(e=>Rt.delete("/api/olts/".concat(e)))(e),O===e&&P(null),await Se(),await Ce(),await ke()},De=e=>{te(e),W(!0)},Fe=async e=>{await(e=>Rt.delete("/api/onus/".concat(e)))(e),await Ce(),await ke()},ze=(e,t,n)=>{Z({type:e,id:t,name:n}),J(!0)},Be=async e=>{window.confirm("Delete this region?")&&(await(e=>Rt.delete("/api/regions/".concat(e)))(e),await _e())},Ae=async e=>{window.confirm("Delete this user?")&&(await(e=>Rt.delete("/api/users/".concat(e)))(e),await Le())};return B?(0,Bt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Bt.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,Bt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50 flex",children:[!x&&(0,Bt.jsx)(nn,{status:d.status,message:d.message}),(0,Bt.jsx)(tn,{currentPage:i,onNavigate:c,user:o,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),l()},isOpen:le,onClose:()=>se(!1),pageName:s}),(0,Bt.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen bg-[#fafbfc]",children:[(0,Bt.jsx)("header",{className:"bg-white sticky top-0 z-30 border-b border-[#e8eaed]",children:(0,Bt.jsxs)("div",{className:"flex items-center justify-between px-3 lg:px-4 py-1.5",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Bt.jsx)("button",{onClick:()=>se(!0),className:"lg:hidden p-1.5 text-[#4b5563] hover:text-[#2563eb] hover:bg-blue-50 rounded-lg transition-all duration-150",children:(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Bt.jsx)("h1",{className:"text-sm lg:text-base font-semibold text-[#111827]",children:s||"OLT Manager"})]}),(0,Bt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Bt.jsxs)("div",{className:"hidden sm:flex items-center gap-1 px-2 py-0.5 bg-[#d1fae5] rounded-full",children:[(0,Bt.jsx)("span",{className:"w-1.5 h-1.5 bg-[#059669] rounded-full animate-pulse"}),(0,Bt.jsx)("span",{className:"text-xs font-medium text-[#059669]",children:"Live"})]}),(0,Bt.jsx)("button",{onClick:()=>K(!0),className:"p-1.5 text-[#4b5563] hover:text-[#2563eb] hover:bg-blue-50 rounded-lg transition-all duration-150",children:(0,Bt.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})}),(0,Bt.jsxs)("main",{className:"flex-1 p-2 lg:p-4",children:["dashboard"===i&&(0,Bt.jsxs)(Bt.Fragment,{children:[b&&(0,Bt.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-6",children:[(0,Bt.jsx)(It,{title:"Total OLTs",value:b.total_olts,subValue:"".concat(b.online_olts," online"),color:"blue",icon:"olt"}),(0,Bt.jsx)(It,{title:"Online OLTs",value:b.online_olts,color:"green",icon:"online"}),(0,Bt.jsx)(It,{title:"Total ONUs",value:b.total_onus,subValue:"".concat(b.online_onus," online"),color:"purple",icon:"onu"}),(0,Bt.jsx)(It,{title:"Offline ONUs",value:b.offline_onus,color:"red",icon:"offline"})]}),k.length>0&&(0,Bt.jsxs)("div",{className:"mb-6",children:[(0,Bt.jsx)("h2",{className:"text-base font-semibold text-[#111827] mb-4",children:"Regions"}),(0,Bt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:k.map(e=>(0,Bt.jsx)("button",{onClick:()=>Me(e.id),className:"bg-white rounded-xl p-4 text-left hover:shadow-sm transition-all duration-200 border border-[#e8eaed]",children:(0,Bt.jsxs)("div",{className:"flex items-center",children:[(0,Bt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:e.color?"".concat(e.color,"15"):"#6366F115"},children:(0,Bt.jsxs)("svg",{className:"w-5 h-5",style:{color:e.color||"#6366F1"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("p",{className:"font-medium text-[#111827]",children:e.name}),(0,Bt.jsxs)("p",{className:"text-sm",style:{color:e.color||"#6366F1"},children:[e.onu_count||0," ONUs"]})]})]})},e.id))})]}),(0,Bt.jsxs)("div",{className:"mb-6",children:[(0,Bt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Bt.jsx)("h2",{className:"text-base font-semibold text-[#111827]",children:"OLTs"}),je&&(0,Bt.jsx)("button",{onClick:()=>I(!0),className:"px-3 py-1.5 bg-[#2563eb] text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ Add OLT"})]}),0===y.length?(0,Bt.jsxs)("div",{className:"bg-white rounded-xl border border-[#e8eaed] p-8 text-center text-[#9ca3af]",children:["No OLTs configured. ",je&&"Add your first OLT to get started."]}):(0,Bt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>(0,Bt.jsx)(Jt,{olt:e,onSelect:Pe,onPoll:Te,onDelete:Re,isSelected:O===e.id,isAdmin:je,onGraph:ze},e.id))})]}),O&&(0,Bt.jsxs)("div",{children:[(0,Bt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Bt.jsxs)("h2",{className:"text-lg font-bold text-gray-800",children:["ONUs - ",null===(t=y.find(e=>e.id===O))||void 0===t?void 0:t.name]}),(0,Bt.jsx)("button",{onClick:()=>c("onus"),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View All \u2192"})]}),(0,Bt.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[j.length," ONUs"]})]})]}),"onus"===i&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsxs)("h2",{className:"text-lg font-bold text-gray-800",children:["ONUs",O&&(0,Bt.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",null===(n=y.find(e=>e.id===O))||void 0===n?void 0:n.name,")"]}),M&&(0,Bt.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",null===(r=k.find(e=>e.id===M))||void 0===r?void 0:r.name,")"]}),R&&(0,Bt.jsxs)("span",{className:"text-sm font-normal text-emerald-600 ml-2",children:["- PON ",R]})]}),(0,Bt.jsxs)("p",{className:"text-sm text-gray-500",children:[R?j.filter(e=>e.pon_port===R).length:j.length," ONUs shown",R&&(0,Bt.jsxs)("span",{className:"text-emerald-600",children:[" (filtered by PON ",R,")"]})]})]}),(0,Bt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Ce()},className:"flex gap-2 w-full sm:w-auto",children:[(0,Bt.jsx)("input",{type:"text",placeholder:"Search by name or MAC...",className:"flex-1 sm:w-64 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",value:F,onChange:e=>z(e.target.value)}),(0,Bt.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Search"}),(F||O||M||R)&&(0,Bt.jsx)("button",{type:"button",onClick:()=>{z(""),P(null),T(null),D(null)},className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200",children:"Clear"})]})]}),(0,Bt.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,Bt.jsx)("button",{onClick:()=>{P(null),T(null),D(null)},className:"px-3 py-1.5 rounded-lg text-sm font-medium transition ".concat(O||M?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"),children:"All"}),y.map(e=>(0,Bt.jsx)("button",{onClick:()=>Pe(e.id),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition ".concat(O===e.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.name},e.id))]}),O&&(()=>{const e=[...new Set(j.map(e=>e.pon_port))].sort((e,t)=>e-t);return e.length>1?(0,Bt.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[(0,Bt.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"PON:"}),(0,Bt.jsx)("button",{onClick:()=>D(null),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition ".concat(R?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-emerald-600 text-white"),children:"All"}),e.map(e=>{const t=j.filter(t=>t.pon_port===e).length,n=y.find(e=>e.id===O);return(0,Bt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Bt.jsxs)("button",{onClick:()=>D(R===e?null:e),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition flex items-center gap-1.5 ".concat(R===e?"bg-emerald-600 text-white":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"),children:[(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"PON ",e,(0,Bt.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full ".concat(R===e?"bg-white/20":"bg-emerald-200"),children:t})]}),(0,Bt.jsx)("button",{onClick:()=>ze("pon","".concat(O,":").concat(e),"".concat((null===n||void 0===n?void 0:n.name)||"OLT"," - PON ").concat(e)),className:"p-1.5 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition",title:"View traffic graph for PON ".concat(e),children:(0,Bt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]},e)})]}):null})(),O&&(0,Bt.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-cyan-50 to-blue-50 border border-cyan-200 rounded-lg",children:[ge?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("svg",{className:"animate-spin h-4 w-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",children:[(0,Bt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Bt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Bt.jsx)("span",{className:"text-sm text-cyan-700 font-medium",children:"Updating traffic..."})]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(be?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,Bt.jsx)("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),(0,Bt.jsx)("span",{className:"text-sm text-cyan-700 font-medium",children:"Live Traffic"})]}),(0,Bt.jsx)("span",{className:"text-xs ".concat(be?"text-green-600 font-medium":"text-gray-500"),children:be?null!==me&&void 0!==me&&me.message?"(".concat(me.message,")"):"(Live ~3s)":"(connecting...)"})]}),me&&me.olt_id===O&&me.timestamp&&(0,Bt.jsx)("span",{className:"text-xs text-gray-500",children:new Date(me.timestamp).toLocaleTimeString()})]}),(()=>{const e=R?j.filter(e=>e.pon_port===R):j;return ie?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(Ht,{isOpen:!!ue,onClose:()=>de(null),images:ue||[],title:fe}),(0,Bt.jsx)("div",{children:e.map(e=>(0,Bt.jsx)(Zt,{onu:e,onEdit:De,onDelete:Fe,isAdmin:je,onImagePreview:Ne},e.id))})]}):(0,Bt.jsx)(Yt,{onus:e,onEdit:De,onDelete:Fe,isAdmin:je,trafficData:O&&me&&me.olt_id===O?me:null,onGraph:ze})})()]}),"regions"===i&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Bt.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Regions"}),je&&(0,Bt.jsx)("button",{onClick:()=>{re(null),G(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"+ Add Region"})]}),(0,Bt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(e=>(0,Bt.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 border-l-4",style:{borderLeftColor:e.color||"#3B82F6"},children:[(0,Bt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Bt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Bt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:e.color?"".concat(e.color,"20"):"#3B82F620"},children:(0,Bt.jsx)("svg",{className:"w-5 h-5",style:{color:e.color||"#3B82F6"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:e.name}),e.description&&(0,Bt.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),e.latitude&&e.longitude&&(0,Bt.jsx)("button",{onClick:()=>window.open("https://www.google.com/maps?q=".concat(e.latitude,",").concat(e.longitude),"_blank"),className:"text-green-600 hover:text-green-800",children:(0,Bt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})})]}),(0,Bt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Bt.jsx)("button",{onClick:()=>Me(e.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View ONUs \u2192"}),je&&(0,Bt.jsxs)("div",{className:"space-x-2",children:[(0,Bt.jsx)("button",{onClick:()=>{re(e),G(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),(0,Bt.jsx)("button",{onClick:()=>Be(e.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]})]},e.id))})]}),"splitter"===i&&(0,Bt.jsx)(en,{olts:y,onus:j}),"users"===i&&je&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Bt.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Users"}),(0,Bt.jsx)("button",{onClick:()=>{oe(null),$(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"+ Add User"})]}),(0,Bt.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:(0,Bt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Bt.jsx)("thead",{className:"bg-gray-50",children:(0,Bt.jsxs)("tr",{children:[(0,Bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Username"}),(0,Bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Full Name"}),(0,Bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Role"}),(0,Bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),(0,Bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),(0,Bt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(e=>(0,Bt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.username}),(0,Bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.full_name||"-"}),(0,Bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Bt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role})}),(0,Bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Bt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})}),(0,Bt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[(0,Bt.jsx)("button",{onClick:()=>{oe(e),$(!0)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Edit"}),e.id!==o.id&&(0,Bt.jsx)("button",{onClick:()=>Ae(e.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]},e.id))})]})})]})]}),(0,Bt.jsx)("footer",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 text-gray-400 py-4 text-center border-t border-gray-700",children:(0,Bt.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm",children:[(0,Bt.jsx)("span",{className:"font-medium text-gray-300",children:s||"OLT Manager"}),(0,Bt.jsx)("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),(0,Bt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Bt.jsx)("svg",{className:"w-4 h-4 text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Bt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Bt.jsx)("span",{children:"Auto-refresh: 30s"})]})]})})]}),(0,Bt.jsx)(Gt,{isOpen:U,onClose:()=>I(!1),onSubmit:async e=>{await(e=>Rt.post("/api/olts",e))(e),await Se(),await ke()},regions:k}),(0,Bt.jsx)(qt,{isOpen:V,onClose:()=>{W(!1),te(null)},onu:ee,onSubmit:async(e,t)=>{await((e,t)=>Rt.put("/api/onus/".concat(e),t))(e,t),await Ce()},onImageUpload:async(e,t)=>{const n=await((e,t)=>{const n=new FormData;return n.append("file",t),Rt.post("/api/onus/".concat(e,"/image"),n,{headers:{"Content-Type":"multipart/form-data"}})})(e,t);return await Ce(),n.data},onImageDelete:async(e,t)=>{const n=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Rt.delete("/api/onus/".concat(e,"/image?image_index=").concat(t))}(e,t);return await Ce(),n.data},regions:k}),(0,Bt.jsx)($t,{isOpen:H,onClose:()=>{G(!1),re(null)},region:ne,onSubmit:async(e,t)=>{t?await((e,t)=>Rt.put("/api/regions/".concat(e),t))(t,e):await(e=>Rt.post("/api/regions",e))(e),await _e()}}),(0,Bt.jsx)(Qt,{isOpen:q,onClose:()=>{$(!1),oe(null)},user:ae,onSubmit:async(e,t)=>{t?await((e,t)=>Rt.put("/api/users/".concat(e),t))(t,e):await(e=>Rt.post("/api/users",e))(e),await Le()},olts:y}),(0,Bt.jsx)(Kt,{isOpen:Q,onClose:()=>K(!1),settings:L,onSubmit:async e=>{await(e=>Rt.put("/api/settings",e))(e),await Ee()},onChangePassword:async e=>{await(e=>Rt.post("/api/auth/change-password",e))(e)},licenseInfo:p}),(0,Bt.jsx)(Xt,{isOpen:X,onClose:()=>J(!1),entityType:Y.type,entityId:Y.id,entityName:Y.name})]})}const an=function(){const[e,t]=(0,a.useState)(()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}),[n,r]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{const e=await Dt();r(e.data)}catch(e){console.error("Failed to fetch settings:",e)}})()},[]);const o=localStorage.getItem("token"),l=(null===n||void 0===n?void 0:n.system_name)||"OLT Manager";return o&&e?(0,Bt.jsx)(rn,{user:e,onLogout:()=>t(null),pageName:l}):(0,Bt.jsx)(Ut,{onLogin:t,pageName:l})};o.createRoot(document.getElementById("root")).render((0,Bt.jsx)(a.StrictMode,{children:(0,Bt.jsx)(an,{})}))})();
//# sourceMappingURL=main.a5408676.js.map