/*! For license information please see main.d466e03e.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var y=v.prototype=new b;y.constructor=v,f(y,g.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},l=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(l=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:n,type:e,key:l,ref:o,props:s,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return l=l(i=e),e=""===s?"."+L(i,0):s,w(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),O(l,t,a,"",function(e){return e})):null!=l&&(_(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+L(o=e[c],c);i+=O(o,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)i+=O(o=o.value,t,a,d=s+L(o,c++),l);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function E(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,l=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}return{$$typeof:n,type:e.type,key:s,ref:l,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var o=2*(r+1)-1,i=e[o],c=o+1,d=e[c];if(0>s(i,n))c<a&&0>s(d,i)?(e[r]=d,e[c]=n,r=c):(e[r]=i,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(x=!1,y(e),!f)if(null!==r(c))f=!0,T(j);else{var t=r(d);null!==t&&R(w,t.startTime-e)}}function j(e,n){f=!1,x&&(x=!1,b(_),_=-1),h=!0;var s=m;try{for(y(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!O());){var l=p.callback;if("function"===typeof l){p.callback=null,m=p.priorityLevel;var o=l(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===r(c)&&a(c),y(n)}else a(c);p=r(c)}if(null!==p)var i=!0;else{var u=r(d);null!==u&&R(w,u.startTime-n),i=!1}return i}finally{p=null,m=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,L=-1;function O(){return!(t.unstable_now()-L<C)}function E(){if(null!==S){var e=t.unstable_now();L=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=E,N=function(){M.postMessage(null)}}else N=function(){g(E,0)};function T(e){S=e,k||(k=!0,N())}function R(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,T(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(b(_),_=-1):x=!0,R(w,s-l))):(e.sortIndex=o,n(c,e),f||h||(f=!0,T(j))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,r,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var V,F=Object.assign;function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var B=!1;function A(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),l=a.length-1,o=s.length-1;1<=l&&0<=o&&a[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==s[o]){if(1!==l||1!==o)do{if(l--,0>--o||a[l]!==s[o]){var i="\n"+a[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=A(e.type,!1);case 11:return e=A(e.type.render,!1);case 1:return e=A(e.type,!0);default:return""}}function I(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Le(e,t){return e(t)}function Oe(){}var Ee=!1;function Pe(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return Le(e,t,n)}finally{Ee=!1,(null!==Ne||null!==ke)&&(Oe(),Ce())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Te=!1}function De(e,t,n,r,a,s,l,o,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ve=!1,Fe=null,ze=!1,Be=null,Ae={onError:function(e){Ve=!0,Fe=e}};function Ue(e,t,n,r,a,s,l,o,i){Ve=!1,Fe=null,De.apply(Ae,arguments)}function Ie(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ie(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ie(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return He(a),e;if(l===r)return He(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var o=!1,i=a.child;i;){if(i===n){o=!0,n=a,r=l;break}if(i===r){o=!0,r=a,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,r=a;break}if(i===r){o=!0,r=l,n=a;break}i=i.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Je=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/it|0)|0},ot=Math.log,it=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var o=l&~a;0!==o?r=ut(o):0!==(s&=l)&&(r=ut(s))}else 0!==(l=n&~a)?r=ut(l):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-lt(t)),r|=e[n],t&=~a;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,_t=!1,Ct=[],Lt=null,Ot=null,Et=null,Pt=new Map,Mt=new Map,Tt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Vt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ba(e.target);if(null!==t){var n=Ie(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function At(){_t=!1,null!==Lt&&zt(Lt)&&(Lt=null),null!==Ot&&zt(Ot)&&(Ot=null),null!==Et&&zt(Et)&&(Et=null),Pt.forEach(Bt),Mt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,At)))}function It(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Ut(Lt,e),null!==Ot&&Ut(Ot,e),null!==Et&&Ut(Et,e),Pt.forEach(t),Mt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Tt.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Xt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function qt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Xt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Xt(e,t,n,r){if(Ht){var a=Qt(e,t,n,r);if(null===a)Hr(e,t,r,$t,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Lt=Vt(Lt,e,t,n,r,a),!0;case"dragenter":return Ot=Vt(Ot,e,t,n,r,a),!0;case"mouseover":return Et=Vt(Et,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Pt.set(s,Vt(Pt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Mt.set(s,Vt(Mt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,$t,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=ba(e=we(r))))if(null===(t=Ie(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=F({},cn,{view:0,detail:0}),pn=an(un),mn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=an(mn),fn=an(F({},mn,{dataTransfer:0})),xn=an(F({},un,{relatedTarget:0})),gn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),yn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var _n=F({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),Ln=an(F({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),En=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Pn),Tn=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Dn,Fn=d&&(!Rn||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Bn=!1;function An(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function $n(e){zr(e,0)}function Qn(e){if(X(ya(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Yn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Xn)){var t=[];Gn(t,Xn,e,we(e)),Pe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Xn)}function sr(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var l=dr(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,xr=null,gr=null,br=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==xr||xr!==$(r)||("selectionStart"in(r=xr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ir(br,r)||(br=r,0<(r=qr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var _r=Sr("animationend"),Cr=Sr("animationiteration"),Lr=Sr("animationstart"),Or=Sr("transitionend"),Er=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Er.set(e,t),i(t,[e])}for(var Tr=0;Tr<Pr.length;Tr++){var Rr=Pr[Tr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(_r,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Lr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,o,i,c){if(Ue.apply(this,arguments),Ve){if(!Ve)throw Error(s(198));var d=Fe;Ve=!1,Fe=null,ze||(ze=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==s&&a.isPropagationStopped())break e;Fr(a,o,c),s=i}else for(l=0;l<r.length;l++){if(i=(o=r[l]).instance,c=o.currentTarget,o=o.listener,i!==s&&a.isPropagationStopped())break e;Fr(a,o,c),s=i}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ar(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[Ur]){e[Ur]=!0,l.forEach(function(t){"selectionchange"!==t&&(Vr.has(t)||Ar(t,!1,e),Ar(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Ar("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var a=Gt;break;case 4:a=qt;break;default:a=Xt}n=a.bind(null,t,n,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;l=l.return}for(;null!==o;){if(null===(l=ba(o)))return;if(5===(i=l.tag)||6===i){r=s=l;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=s,a=we(n),l=[];e:{var o=Er.get(e);if(void 0!==o){var i=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":i=Cn;break;case"focusin":c="focus",i=xn;break;case"focusout":c="blur",i=xn;break;case"beforeblur":case"afterblur":i=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=On;break;case _r:case Cr:case Lr:i=gn;break;case Or:i=En;break;case"scroll":i=pn;break;case"wheel":i=Mn;break;case"copy":case"cut":case"paste":i=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Ln}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var m,h=r;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Me(h,p))&&d.push(Gr(h,f,m)))),u)break;h=h.return}0<d.length&&(o=new i(o,c,null,n,a),l.push({event:o,listeners:d}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ha])&&(i||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(u=Ie(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=r),i!==c)){if(d=hn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ln,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==i?o:ya(i),m=null==c?o:ya(c),(o=new d(f,h+"leave",i,n,a)).target=u,o.relatedTarget=m,f=null,ba(a)===r&&((d=new d(p,h+"enter",c,n,a)).target=m,d.relatedTarget=u,f=d),u=f,i&&c)e:{for(p=c,h=0,m=d=i;m;m=Xr(m))h++;for(m=0,f=p;f;f=Xr(f))m++;for(;0<h-m;)d=Xr(d),h--;for(;0<m-h;)p=Xr(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Xr(d),p=Xr(p)}d=null}else d=null;null!==i&&$r(l,o,i,d,!1),null!==c&&null!==u&&$r(l,u,c,d,!0)}if("select"===(i=(o=r?ya(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type)var x=Kn;else if(Hn(o))if(Jn)x=lr;else{x=ar;var g=rr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=sr);switch(x&&(x=x(e,r))?Gn(l,x,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?ya(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(xr=g,gr=r,br=null);break;case"focusout":br=gr=xr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(l,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(l,n,a)}var b;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else In?An(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(In||"onCompositionStart"!==v?"onCompositionEnd"===v&&In&&(b=en()):(Yt="value"in(Jt=a)?Jt.value:Jt.textContent,In=!0)),0<(g=qr(r,v)).length&&(v=new yn(v,e,null,n,a),l.push({event:v,listeners:g}),b?v.data=b:null!==(b=Un(n))&&(v.data=b))),(b=Vn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Rn&&An(e,t)?(e=en(),Zt=Yt=Jt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=b))}zr(l,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Me(e,n))&&r.unshift(Gr(e,s,a)),null!=(s=Me(e,t))&&r.push(Gr(e,s,a))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var o=n,i=o.alternate,c=o.stateNode;if(null!==i&&i===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(i=Me(n,s))&&l.unshift(Gr(n,i,o)):a||null!=(i=Me(n,s))&&l.push(Gr(n,i,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Kr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function ia(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void It(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);It(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,ma="__reactProps$"+ua,ha="__reactContainer$"+ua,fa="__reactEvents$"+ua,xa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function ba(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[pa])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[ma]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function _a(e,t){Na++,ja[Na]=e.current,e.current=t}var Ca={},La=ka(Ca),Oa=ka(!1),Ea=Ca;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){Sa(Oa),Sa(La)}function Ra(e,t,n){if(La.current!==Ca)throw Error(s(168));_a(La,t),_a(Oa,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return F({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ea=La.current,_a(La,e),_a(Oa,Oa.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Da(e,t,Ea),r.__reactInternalMemoizedMergedChildContext=e,Sa(Oa),Sa(La),_a(La,e)):Sa(Oa),_a(Oa,n)}var za=null,Ba=!1,Aa=!1;function Ua(e){null===za?za=[e]:za.push(e)}function Ia(){if(!Aa&&null!==za){Aa=!0;var e=0,t=vt;try{var n=za;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ba=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Xe(Ze,Ia),a}finally{vt=t,Aa=!1}}return null}var Wa=[],Ha=0,Ga=null,qa=0,Xa=[],$a=0,Qa=null,Ka=1,Ja="";function Ya(e,t){Wa[Ha++]=qa,Wa[Ha++]=Ga,Ga=e,qa=t}function Za(e,t,n){Xa[$a++]=Ka,Xa[$a++]=Ja,Xa[$a++]=Qa,Qa=e;var r=Ka;e=Ja;var a=32-lt(r)-1;r&=~(1<<a),n+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Ka=1<<32-lt(t)+a|n<<a|r,Ja=s+e}else Ka=1<<s|n<<a|r,Ja=e}function es(e){null!==e.return&&(Ya(e,1),Za(e,1,0))}function ts(e){for(;e===Ga;)Ga=Wa[--Ha],Wa[Ha]=null,qa=Wa[--Ha],Wa[Ha]=null;for(;e===Qa;)Qa=Xa[--$a],Xa[$a]=null,Ja=Xa[--$a],Xa[$a]=null,Ka=Xa[--$a],Xa[$a]=null}var ns=null,rs=null,as=!1,ss=null;function ls(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Ka,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function is(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(is(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?ls(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(is(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(is(e))throw ps(),Error(s(418));for(;t;)ls(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=rs;e;)e=ca(e.nextSibling)}function ms(){rs=ns=null,as=!1}function hs(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&bs(s)===t.type)?((r=a(t,n.props)).ref=xs(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=xs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?d(e,t,n,r):null;case M:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:u(e,t,n,r,null);gs(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return u(t,e=e.get(n)||null,r,a,null);gs(t,r)}return null}function f(a,s,o,i){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=m(a,u,o[f],i);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===o.length)return n(a,u),as&&Ya(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=p(a,o[f],i))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Ya(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(x=h(u,a,f,o[f],i))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=l(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),as&&Ya(a,f),c}function x(a,o,i,c){var d=D(i);if("function"!==typeof d)throw Error(s(150));if(null==(i=d.call(i)))throw Error(s(151));for(var u=d=null,f=o,x=o=0,g=null,b=i.next();null!==f&&!b.done;x++,b=i.next()){f.index>x?(g=f,f=null):g=f.sibling;var v=m(a,f,b.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(a,f),o=l(v,o,x),null===u?d=v:u.sibling=v,u=v,f=g}if(b.done)return n(a,f),as&&Ya(a,x),d;if(null===f){for(;!b.done;x++,b=i.next())null!==(b=p(a,b.value,c))&&(o=l(b,o,x),null===u?d=b:u.sibling=b,u=b);return as&&Ya(a,x),d}for(f=r(a,f);!b.done;x++,b=i.next())null!==(b=h(f,a,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),o=l(b,o,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),as&&Ya(a,x),d}return function e(r,s,l,i){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case w:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,l.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&bs(c)===d.type){n(r,d.sibling),(s=a(d,l.props)).ref=xs(r,d,l),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===N?((s=Dc(l.props.children,r.mode,i,l.key)).return=r,r=s):((i=Rc(l.type,l.key,l.props,null,r.mode,i)).ref=xs(r,s,l),i.return=r,r=i)}return o(r);case j:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(r,s.sibling),(s=a(s,l.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(l,r.mode,i)).return=r,r=s}return o(r);case M:return e(r,s,(d=l._init)(l._payload),i)}if(te(l))return f(r,s,l,i);if(D(l))return x(r,s,l,i);gs(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,l)).return=r,r=s):(n(r,s),(s=Fc(l,r.mode,i)).return=r,r=s),o(r)):n(r,s)}}var ys=vs(!0),ws=vs(!1),js=ka(null),Ns=null,ks=null,Ss=null;function _s(){Ss=ks=Ns=null}function Cs(e){var t=js.current;Sa(js),e._currentValue=t}function Ls(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Ms(e){null===Ps?Ps=[e]:Ps.push(e)}function Ts(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ms(t)):(n.next=a.next,a.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Li)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Rs(e,n)}return null===(a=r.interleaved)?(t.next=t,Ms(r)):(t.next=a.next,a.next=t),r.interleaved=t,Rs(e,n)}function As(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Is(e,t,n,r){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var i=o,c=i.next;i.next=null,null===l?s=c:l.next=c,l=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==s){var u=a.baseState;for(l=0,d=c=i=null,o=s;;){var p=o.lane,m=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=F({},u,p);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,i=u):d=d.next=m,l|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Vi|=l,e.lanes=l,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},Gs=ka(Hs),qs=ka(Hs),Xs=ka(Hs);function $s(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(_a(Xs,t),_a(qs,e),_a(Gs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Gs),_a(Gs,t)}function Ks(){Sa(Gs),Sa(qs),Sa(Xs)}function Js(e){$s(Xs.current);var t=$s(Gs.current),n=ie(t,e.type);t!==n&&(_a(qs,e),_a(Gs,n))}function Ys(e){qs.current===e&&(Sa(Gs),Sa(qs))}var Zs=ka(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var rl=y.ReactCurrentDispatcher,al=y.ReactCurrentBatchConfig,sl=0,ll=null,ol=null,il=null,cl=!1,dl=!1,ul=0,pl=0;function ml(){throw Error(s(321))}function hl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fl(e,t,n,r,a,l){if(sl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Yl:Zl,e=n(r,a),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(s(301));l+=1,il=ol=null,t.updateQueue=null,rl.current=eo,e=n(r,a)}while(dl)}if(rl.current=Jl,t=null!==ol&&null!==ol.next,sl=0,il=ol=ll=null,cl=!1,t)throw Error(s(300));return e}function xl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===il?ll.memoizedState=il=e:il=il.next=e,il}function bl(){if(null===ol){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=ol.next;var t=null===il?ll.memoizedState:il.next;if(null!==t)il=t,ol=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ol=e).memoizedState,baseState:ol.baseState,baseQueue:ol.baseQueue,queue:ol.queue,next:null},null===il?ll.memoizedState=il=e:il=il.next=e}return il}function vl(e,t){return"function"===typeof t?t(e):t}function yl(e){var t=bl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ol,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var o=a.next;a.next=l.next,l.next=o}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var i=o=null,c=null,d=l;do{var u=d.lane;if((sl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(i=c=p,o=r):c=c.next=p,ll.lanes|=u,Vi|=u}d=d.next}while(null!==d&&d!==l);null===c?o=r:c.next=i,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,ll.lanes|=l,Vi|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=bl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{l=e(l,o.action),o=o.next}while(o!==a);or(l,t.memoizedState)||(vo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function jl(){}function Nl(e,t){var n=ll,r=bl(),a=t(),l=!or(r.memoizedState,a);if(l&&(r.memoizedState=a,vo=!0),r=r.queue,Dl(_l.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==il&&1&il.memoizedState.tag){if(n.flags|=2048,El(9,Sl.bind(null,n,r,a,t),void 0,null),null===Oi)throw Error(s(349));0!==(30&sl)||kl(n,t,a)}return a}function kl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sl(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&Ll(e)}function _l(e,t,n){return n(function(){Cl(t)&&Ll(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ll(e){var t=Rs(e,1);null!==t&&nc(t,e,1,-1)}function Ol(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Xl.bind(null,ll,e),[t.memoizedState,e]}function El(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pl(){return bl().memoizedState}function Ml(e,t,n,r){var a=gl();ll.flags|=e,a.memoizedState=El(1|t,n,void 0,void 0===r?null:r)}function Tl(e,t,n,r){var a=bl();r=void 0===r?null:r;var s=void 0;if(null!==ol){var l=ol.memoizedState;if(s=l.destroy,null!==r&&hl(r,l.deps))return void(a.memoizedState=El(t,n,s,r))}ll.flags|=e,a.memoizedState=El(1|t,n,s,r)}function Rl(e,t){return Ml(8390656,8,e,t)}function Dl(e,t){return Tl(2048,8,e,t)}function Vl(e,t){return Tl(4,2,e,t)}function Fl(e,t){return Tl(4,4,e,t)}function zl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bl(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tl(4,4,zl.bind(null,t,e),n)}function Al(){}function Ul(e,t){var n=bl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Il(e,t){var n=bl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wl(e,t,n){return 0===(21&sl)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ll.lanes|=n,Vi|=n,e.baseState=!0),t)}function Hl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{vt=n,al.transition=r}}function Gl(){return bl().memoizedState}function ql(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$l(e))Ql(t,n);else if(null!==(n=Ts(e,t,n,r))){nc(n,e,r,ec()),Kl(n,t,r)}}function Xl(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($l(e))Ql(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,l)){var i=t.interleaved;return null===i?(a.next=a,Ms(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ts(e,t,a,r))&&(nc(n,e,r,a=ec()),Kl(n,t,r))}}function $l(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Ql(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Jl={readContext:Es,useCallback:ml,useContext:ml,useEffect:ml,useImperativeHandle:ml,useInsertionEffect:ml,useLayoutEffect:ml,useMemo:ml,useReducer:ml,useRef:ml,useState:ml,useDebugValue:ml,useDeferredValue:ml,useTransition:ml,useMutableSource:ml,useSyncExternalStore:ml,useId:ml,unstable_isNewReconciler:!1},Yl={readContext:Es,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:Rl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ml(4194308,4,zl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var n=gl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ql.bind(null,ll,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Ol,useDebugValue:Al,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Ol(!1),t=e[0];return e=Hl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ll,a=gl();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Oi)throw Error(s(349));0!==(30&sl)||kl(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Rl(_l.bind(null,r,l,e),[e]),r.flags|=2048,El(9,Sl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=gl(),t=Oi.identifierPrefix;if(as){var n=Ja;t=":"+t+"R"+(n=(Ka&~(1<<32-lt(Ka)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Es,useCallback:Ul,useContext:Es,useEffect:Dl,useImperativeHandle:Bl,useInsertionEffect:Vl,useLayoutEffect:Fl,useMemo:Il,useReducer:yl,useRef:Pl,useState:function(){return yl(vl)},useDebugValue:Al,useDeferredValue:function(e){return Wl(bl(),ol.memoizedState,e)},useTransition:function(){return[yl(vl)[0],bl().memoizedState]},useMutableSource:jl,useSyncExternalStore:Nl,useId:Gl,unstable_isNewReconciler:!1},eo={readContext:Es,useCallback:Ul,useContext:Es,useEffect:Dl,useImperativeHandle:Bl,useInsertionEffect:Vl,useLayoutEffect:Fl,useMemo:Il,useReducer:wl,useRef:Pl,useState:function(){return wl(vl)},useDebugValue:Al,useDeferredValue:function(e){var t=bl();return null===ol?t.memoizedState=e:Wl(t,ol.memoizedState,e)},useTransition:function(){return[wl(vl)[0],bl().memoizedState]},useMutableSource:jl,useSyncExternalStore:Nl,useId:Gl,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ie(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,a))&&(nc(t,e,a,r),As(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,a))&&(nc(t,e,a,r),As(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bs(e,a,r))&&(nc(t,e,r,n),As(t,e,r))}};function ao(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(a,s))}function so(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(a=Ma(t)?Ea:La.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Es(s):(s=Ma(t)?Ea:La.current,a.context=Pa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Is(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function io(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,Gi=r),uo(0,t)},n}function ho(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===qi?qi=new Set([this]):qi.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=y.ReactCurrentOwner,vo=!1;function yo(e,t,n,r){t.child=null===e?ws(t,null,n,r):ys(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var s=t.ref;return Os(t,a),r=fl(e,t,n,r,s,a),n=xl(),null===e||vo?(as&&n&&es(t),t.flags|=1,yo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function jo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(l,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Tc(s,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(ir(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(vo=!0)}}return _o(e,t,n,r,a)}function ko(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Ti,Mi),Mi|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Ti,Mi),Mi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_a(Ti,Mi),Mi|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_a(Ti,Mi),Mi|=r;return yo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,a){var s=Ma(n)?Ea:La.current;return s=Pa(t,s),Os(t,a),n=fl(e,t,n,r,s,a),r=xl(),null===e||vo?(as&&r&&es(t),t.flags|=1,yo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Co(e,t,n,r,a){if(Ma(n)){var s=!0;Va(t)}else s=!1;if(Os(t,a),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var i=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Es(c):c=Pa(t,c=Ma(n)?Ea:La.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==r||i!==c)&&lo(t,l,r,c),Ds=!1;var p=t.memoizedState;l.state=p,Is(t,r,l,a),i=t.memoizedState,o!==r||p!==i||Oa.current||Ds?("function"===typeof d&&(no(t,n,d,r),i=t.memoizedState),(o=Ds||ao(t,n,o,r,p,i,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),l.props=r,l.state=i,l.context=c,r=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),l.props=c,u=t.pendingProps,p=l.context,"object"===typeof(i=n.contextType)&&null!==i?i=Es(i):i=Pa(t,i=Ma(n)?Ea:La.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==u||p!==i)&&lo(t,l,r,i),Ds=!1,p=t.memoizedState,l.state=p,Is(t,r,l,a);var h=t.memoizedState;o!==u||p!==h||Oa.current||Ds?("function"===typeof m&&(no(t,n,m,r),h=t.memoizedState),(c=Ds||ao(t,n,c,r,p,h,i)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,h,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,h,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=i,r=c):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lo(e,t,n,r,s,a)}function Lo(e,t,n,r,a,s){So(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&Fa(t,n,!1),Ho(e,t,s);r=t.stateNode,bo.current=t;var o=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Qs(e,t.containerInfo)}function Eo(e,t,n,r,a){return ms(),hs(a),t.flags|=256,yo(e,t,n,r),t.child}var Po,Mo,To,Ro,Do={dehydrated:null,treeContext:null,retryLane:0};function Vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,a=t.pendingProps,l=Zs.current,o=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),_a(Zs,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=Vc(i,a,0,null),e=Dc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vo(n),t.memoizedState=Do,e):zo(t,i));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Vc({mode:"visible",children:r.children},a,0,null),(l=Dc(l,a,o,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Vo(o),t.memoizedState=Do,l);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var i=r.dgst;return r=i,Bo(e,t,o,r=co(l=Error(s(419)),r,void 0))}if(i=0!==(o&e.childLanes),vo||i){if(null!==(r=Oi)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Rs(e,a),nc(r,e,a,-1))}return fc(),Bo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Xa[$a++]=Ka,Xa[$a++]=Ja,Xa[$a++]=Qa,Ka=e.id,Ja=e.overflow,Qa=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,i,a,r,l,n);if(o){o=a.fallback,i=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?o=Tc(r,o):(o=Dc(o,i,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=null===(i=e.child.memoizedState)?Vo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Tc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zo(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&hs(r),ys(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ao(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ls(e.return,t,n)}function Uo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Io(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ao(e,n,t);else if(19===e.tag)Ao(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Uo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===el(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vi|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Ma(t.type)&&Ta(),qo(t),null;case 3:return r=t.stateNode,Ks(),Sa(Oa),Sa(La),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Mo(e,t),qo(t),null;case 5:Ys(t);var a=$s(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)To(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qo(t),null}if(e=$s(Gs.current),us(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[pa]=t,r[ma]=l,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Br(Dr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":K(r,l),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Br("invalid",r);break;case"textarea":ae(r,l),Br("invalid",r)}for(var i in be(n,l),a=null,l)if(l.hasOwnProperty(i)){var c=l[i];"children"===i?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&Br("scroll",r)}switch(n){case"input":q(r),Z(r,l,!0);break;case"textarea":q(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[pa]=t,e[ma]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(i=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Br(Dr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":K(e,r),a=Q(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(l in be(n,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Br("scroll",e):null!=d&&v(e,l,d,i))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=$s(Xs.current),$s(Gs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(l=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return qo(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ps(),ms(),t.flags|=98560,l=!1;else if(l=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[pa]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),l=!1}else null!==ss&&(lc(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ri&&(Ri=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Ks(),Mo(e,t),null===e&&Ir(t.stateNode.containerInfo),qo(t),null;case 10:return Cs(t.type._context),qo(t),null;case 19:if(Sa(Zs),null===(l=t.memoizedState))return qo(t),null;if(r=0!==(128&t.flags),null===(i=l.rendering))if(r)Go(l,!1);else{if(0!==Ri||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=el(e))){for(t.flags|=128,Go(l,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(i=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==l.tail&&Je()>Ii&&(t.flags|=128,r=!0,Go(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=el(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(l,!0),null===l.tail&&"hidden"===l.tailMode&&!i.alternate&&!as)return qo(t),null}else 2*Je()-l.renderingStartTime>Ii&&1073741824!==n&&(t.flags|=128,r=!0,Go(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=l.last)?n.sibling=i:t.child=i,l.last=i)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,n=Zs.current,_a(Zs,r?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mi)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return Ma(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ks(),Sa(Oa),Sa(La),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Ks(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},To=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,$s(Gs.current);var s,l=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),l=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in be(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var i=a[d];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(i=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==i&&(null!=c||null!=i))if("style"===d)if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Ko=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function ei(e,t,n){try{n()}catch(r){kc(e,t,r)}}var ti=!1;function ni(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&ei(t,n,s)}a=a.next}while(a!==r)}}function ri(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ai(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function si(e){var t=e.alternate;null!==t&&(e.alternate=null,si(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ma],delete t[fa],delete t[xa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function li(e){return 5===e.tag||3===e.tag||4===e.tag}function oi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||li(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ii(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ii(e,t,n),e=e.sibling;null!==e;)ii(e,t,n),e=e.sibling}function ci(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ci(e,t,n),e=e.sibling;null!==e;)ci(e,t,n),e=e.sibling}var di=null,ui=!1;function pi(e,t,n){for(n=n.child;null!==n;)mi(e,t,n),n=n.sibling}function mi(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Ko||Zo(n,t);case 6:var r=di,a=ui;di=null,pi(e,t,n),ui=a,null!==(di=r)&&(ui?(e=di,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):di.removeChild(n.stateNode));break;case 18:null!==di&&(ui?(e=di,n=n.stateNode,8===e.nodeType?ia(e.parentNode,n):1===e.nodeType&&ia(e,n),It(e)):ia(di,n.stateNode));break;case 4:r=di,a=ui,di=n.stateNode.containerInfo,ui=!0,pi(e,t,n),di=r,ui=a;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&ei(n,t,l),a=a.next}while(a!==r)}pi(e,t,n);break;case 1:if(!Ko&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}pi(e,t,n);break;case 21:pi(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,pi(e,t,n),Ko=r):pi(e,t,n);break;default:pi(e,t,n)}}function hi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 5:di=i.stateNode,ui=!1;break e;case 3:case 4:di=i.stateNode.containerInfo,ui=!0;break e}i=i.return}if(null===di)throw Error(s(160));mi(l,o,a),di=null,ui=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xi(t,e),t=t.sibling}function xi(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fi(t,e),gi(e),4&r){try{ni(3,e,e.return),ri(3,e)}catch(x){kc(e,e.return,x)}try{ni(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:fi(t,e),gi(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(fi(t,e),gi(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(x){kc(e,e.return,x)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,o=null!==n?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===l.type&&null!=l.name&&J(a,l),ve(i,o);var d=ve(i,l);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?xe(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):v(a,u,p,d)}switch(i){case"input":Y(a,l);break;case"textarea":se(a,l);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?ne(a,!!l.multiple,h,!1):m!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[ma]=l}catch(x){kc(e,e.return,x)}}break;case 6:if(fi(t,e),gi(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(x){kc(e,e.return,x)}}break;case 3:if(fi(t,e),gi(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{It(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:fi(t,e),gi(e);break;case 13:fi(t,e),gi(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Ui=Je())),4&r&&hi(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(d=Ko)||u,fi(t,e),Ko=d):fi(t,e),gi(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yo=e,u=e.child;null!==u;){for(p=Yo=u;null!==Yo;){switch(h=(m=Yo).child,m.tag){case 0:case 11:case 14:case 15:ni(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){kc(r,n,x)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){wi(p);continue}}null!==h?(h.return=m,Yo=h):wi(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(i=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=fe("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fi(t,e),gi(e),4&r&&hi(e);case 21:}}function gi(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(li(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ci(e,oi(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;ii(e,oi(e),l);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bi(e,t,n){Yo=e,vi(e,t,n)}function vi(e,t,n){for(var r=0!==(1&e.mode);null!==Yo;){var a=Yo,s=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Qo;if(!l){var o=a.alternate,i=null!==o&&null!==o.memoizedState||Ko;o=Qo;var c=Ko;if(Qo=l,(Ko=i)&&!c)for(Yo=a;null!==Yo;)i=(l=Yo).child,22===l.tag&&null!==l.memoizedState?ji(a):null!==i?(i.return=l,Yo=i):ji(a);for(;null!==s;)Yo=s,vi(s,t,n),s=s.sibling;Yo=a,Qo=o,Ko=c}yi(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Yo=s):yi(e)}}function yi(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||ri(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Ws(t,l,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var i=t.stateNode;if(null===n&&4&t.flags){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&It(p)}}}break;default:throw Error(s(163))}Ko||512&t.flags&&ai(t)}catch(m){kc(t,t.return,m)}}if(t===e){Yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yo=n;break}Yo=t.return}}function wi(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yo=n;break}Yo=t.return}}function ji(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(i){kc(t,n,i)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(i){kc(t,a,i)}}var s=t.return;try{ai(t)}catch(i){kc(t,s,i)}break;case 5:var l=t.return;try{ai(t)}catch(i){kc(t,l,i)}}}catch(i){kc(t,t.return,i)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var Ni,ki=Math.ceil,Si=y.ReactCurrentDispatcher,_i=y.ReactCurrentOwner,Ci=y.ReactCurrentBatchConfig,Li=0,Oi=null,Ei=null,Pi=0,Mi=0,Ti=ka(0),Ri=0,Di=null,Vi=0,Fi=0,zi=0,Bi=null,Ai=null,Ui=0,Ii=1/0,Wi=null,Hi=!1,Gi=null,qi=null,Xi=!1,$i=null,Qi=0,Ki=0,Ji=null,Yi=-1,Zi=0;function ec(){return 0!==(6&Li)?Je():-1!==Yi?Yi:Yi=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Li)&&0!==Pi?Pi&-Pi:null!==fs.transition?(0===Zi&&(Zi=ft()),Zi):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,r){if(50<Ki)throw Ki=0,Ji=null,Error(s(185));gt(e,n,r),0!==(2&Li)&&e===Oi||(e===Oi&&(0===(2&Li)&&(Fi|=n),4===Ri&&oc(e,Pi)),rc(e,r),1===n&&0===Li&&0===(1&t.mode)&&(Ii=Je()+500,Ba&&Ia()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),o=1<<l,i=a[l];-1===i?0!==(o&n)&&0===(o&r)||(a[l]=mt(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=pt(e,e===Oi?Pi:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(ic.bind(null,e)):Ua(ic.bind(null,e)),la(function(){0===(6&Li)&&Ia()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Yi=-1,Zi=0,0!==(6&Li))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=pt(e,e===Oi?Pi:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var a=Li;Li|=2;var l=hc();for(Oi===e&&Pi===t||(Wi=null,Ii=Je()+500,pc(e,t));;)try{bc();break}catch(i){mc(e,i)}_s(),Si.current=l,Li=a,null!==Ei?t=0:(Oi=null,Pi=0,t=Ri)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=sc(e,a))),1===t)throw n=Di,pc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,r))&&(0!==(l=ht(e))&&(r=l,t=sc(e,l))),1===t))throw n=Di,pc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ai,Wi);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Ui+500-Je())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ai,Wi),t);break}wc(e,Ai,Wi);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-lt(r);l=1<<o,(o=t[o])>a&&(a=o),r&=~l}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ki(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ai,Wi),r);break}wc(e,Ai,Wi);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Bi;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Ai,Ai=n,null!==t&&lc(t)),e}function lc(e){null===Ai?Ai=e:Ai.push.apply(Ai,e)}function oc(e,t){for(t&=~zi,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function ic(e){if(0!==(6&Li))throw Error(s(327));jc();var t=pt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Di,pc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ai,Wi),rc(e,Je()),null}function cc(e,t){var n=Li;Li|=1;try{return e(t)}finally{0===(Li=n)&&(Ii=Je()+500,Ba&&Ia())}}function dc(e){null!==$i&&0===$i.tag&&0===(6&Li)&&jc();var t=Li;Li|=1;var n=Ci.transition,r=vt;try{if(Ci.transition=null,vt=1,e)return e()}finally{vt=r,Ci.transition=n,0===(6&(Li=t))&&Ia()}}function uc(){Mi=Ti.current,Sa(Ti)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ei)for(n=Ei.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ta();break;case 3:Ks(),Sa(Oa),Sa(La),nl();break;case 5:Ys(r);break;case 4:Ks();break;case 13:case 19:Sa(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Oi=e,Ei=e=Tc(e.current,null),Pi=Mi=t,Ri=0,Di=null,zi=Fi=Vi=0,Ai=Bi=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var l=s.next;s.next=a,r.next=l}n.pending=r}Ps=null}return e}function mc(e,t){for(;;){var n=Ei;try{if(_s(),rl.current=Jl,cl){for(var r=ll.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cl=!1}if(sl=0,il=ol=ll=null,dl=!1,ul=0,_i.current=null,null===n||null===n.return){Ri=1,Di=t,Ei=null;break}e:{var l=e,o=n.return,i=n,c=t;if(t=Pi,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=i,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=xo(o);if(null!==h){h.flags&=-257,go(h,o,i,0,t),1&h.mode&&fo(l,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){fo(l,d,t),fc();break e}c=Error(s(426))}else if(as&&1&i.mode){var g=xo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,i,0,t),hs(io(c,i));break e}}l=c=io(c,i),4!==Ri&&(Ri=2),null===Bi?Bi=[l]:Bi.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Us(l,mo(0,c,t));break e;case 1:i=c;var b=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===qi||!qi.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,Us(l,ho(l,i,t));break e}}l=l.return}while(null!==l)}yc(n)}catch(y){t=y,Ei===n&&null!==n&&(Ei=n=n.return);continue}break}}function hc(){var e=Si.current;return Si.current=Jl,null===e?Jl:e}function fc(){0!==Ri&&3!==Ri&&2!==Ri||(Ri=4),null===Oi||0===(268435455&Vi)&&0===(268435455&Fi)||oc(Oi,Pi)}function xc(e,t){var n=Li;Li|=2;var r=hc();for(Oi===e&&Pi===t||(Wi=null,pc(e,t));;)try{gc();break}catch(a){mc(e,a)}if(_s(),Li=n,Si.current=r,null!==Ei)throw Error(s(261));return Oi=null,Pi=0,Ri}function gc(){for(;null!==Ei;)vc(Ei)}function bc(){for(;null!==Ei&&!Qe();)vc(Ei)}function vc(e){var t=Ni(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,null===t?yc(e):Ei=t,_i.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Mi)))return void(Ei=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Ei=n);if(null===e)return Ri=6,void(Ei=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ei=t);Ei=t=e}while(null!==t);0===Ri&&(Ri=5)}function wc(e,t,n){var r=vt,a=Ci.transition;try{Ci.transition=null,vt=1,function(e,t,n,r){do{jc()}while(null!==$i);if(0!==(6&Li))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,l),e===Oi&&(Ei=Oi=null,Pi=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xi||(Xi=!0,Oc(tt,function(){return jc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Ci.transition,Ci.transition=null;var o=vt;vt=1;var i=Li;Li|=4,_i.current=null,function(e,t){if(ea=Ht,mr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(w){n=null;break e}var o=0,i=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(i=o+a),p!==l||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===a&&(i=o),m===l&&++u===r&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}f=ti,ti=!1}(e,n),xi(n,e),hr(ta),Ht=!!ea,ta=ea=null,e.current=n,bi(n,e,a),Ke(),Li=i,vt=o,Ci.transition=l}else e.current=n;if(Xi&&(Xi=!1,$i=e,Qi=a),l=e.pendingLanes,0===l&&(qi=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hi)throw Hi=!1,e=Gi,Gi=null,e;0!==(1&Qi)&&0!==e.tag&&jc(),l=e.pendingLanes,0!==(1&l)?e===Ji?Ki++:(Ki=0,Ji=e):Ki=0,Ia()}(e,t,n,r)}finally{Ci.transition=a,vt=r}return null}function jc(){if(null!==$i){var e=yt(Qi),t=Ci.transition,n=vt;try{if(Ci.transition=null,vt=16>e?16:e,null===$i)var r=!1;else{if(e=$i,$i=null,Qi=0,0!==(6&Li))throw Error(s(331));var a=Li;for(Li|=4,Yo=e.current;null!==Yo;){var l=Yo,o=l.child;if(0!==(16&Yo.flags)){var i=l.deletions;if(null!==i){for(var c=0;c<i.length;c++){var d=i[c];for(Yo=d;null!==Yo;){var u=Yo;switch(u.tag){case 0:case 11:case 15:ni(8,u,l)}var p=u.child;if(null!==p)p.return=u,Yo=p;else for(;null!==Yo;){var m=(u=Yo).sibling,h=u.return;if(si(u),u===d){Yo=null;break}if(null!==m){m.return=h,Yo=m;break}Yo=h}}}var f=l.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Yo=l}}if(0!==(2064&l.subtreeFlags)&&null!==o)o.return=l,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(l=Yo).flags))switch(l.tag){case 0:case 11:case 15:ni(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,Yo=b;break e}Yo=l.return}}var v=e.current;for(Yo=v;null!==Yo;){var y=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Yo=y;else e:for(o=v;null!==Yo;){if(0!==(2048&(i=Yo).flags))try{switch(i.tag){case 0:case 11:case 15:ri(9,i)}}catch(j){kc(i,i.return,j)}if(i===o){Yo=null;break e}var w=i.sibling;if(null!==w){w.return=i.return,Yo=w;break e}Yo=i.return}}if(Li=a,Ia(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{vt=n,Ci.transition=t}}return!1}function Nc(e,t,n){e=Bs(e,t=mo(0,t=io(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qi||!qi.has(r))){t=Bs(t,e=ho(t,e=io(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Oi===e&&(Pi&n)===n&&(4===Ri||3===Ri&&(130023424&Pi)===Pi&&500>Je()-Ui?pc(e,0):zi|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Rs(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_c(e,n)}function Oc(e,t){return Xe(e,t)}function Ec(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ec(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,l){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(n.children,a,l,t);case k:o=8,a|=8;break;case S:return(e=Pc(12,n,t,2|a)).elementType=S,e.lanes=l,e;case O:return(e=Pc(13,n,t,a)).elementType=O,e.lanes=l,e;case E:return(e=Pc(19,n,t,a)).elementType=E,e.lanes=l,e;case T:return Vc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case L:o=11;break e;case P:o=14;break e;case M:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,a,s,l,o,i){return e=new Bc(e,t,n,o,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vs(s),e}function Uc(e){if(!e)return Ca;e:{if(Ie(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Da(e,n,t)}return t}function Ic(e,t,n,r,a,s,l,o,i){return(e=Ac(n,r,!0,e,0,s,0,o,i)).context=Uc(null),n=e.current,(s=zs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=ec(),l=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(a,t,l))&&(nc(e,a,l,s),As(e,a,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Ni=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),ms();break;case 5:Js(t);break;case 1:Ma(t.type)&&Va(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(js,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(_a(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);_a(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Io(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,as&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Pa(t,La.current);Os(t,n),a=fl(null,t,r,e,a,n);var l=xl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(l=!0,Va(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Vs(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Lo(null,t,r,!0,l,n)):(t.tag=0,as&&l&&es(t),yo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),a){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Oo(t),null===e)throw Error(s(387));r=t.pendingProps,a=(l=t.memoizedState).element,Fs(e,t),Is(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Eo(e,t,r,n,a=io(Error(s(423)),t));break e}if(r!==a){t=Eo(e,t,r,n,a=io(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===a){t=Ho(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==l&&na(r,l)&&(t.flags|=32),So(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,_a(js,r._currentValue),r._currentValue=o,null!==l)if(or(l.value,o)){if(l.children===a.children&&!Oa.current){t=Ho(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){o=l.child;for(var c=i.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=zs(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ls(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(10===l.tag)o=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(o=l.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Ls(o,n,t),o=l.sibling}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}yo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Os(t,n),r=r(a=Es(a)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),jo(e,t,r,a=to(r.type,a),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Ma(r)?(e=!0,Va(t)):e=!1,Os(t,n),so(t,r,a),oo(t,r,a,n),Lo(null,t,r,!0,e,n);case 19:return Io(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof a){var o=a;a=function(){var e=Hc(l);o.call(e)}}Wc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Ic(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=l,e[ha]=l.current,Ir(8===e.nodeType?e.parentNode:e),dc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(i);o.call(e)}}var i=Ac(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=i,e[ha]=i.current,Ir(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,i,n,r)}),i}(n,t,e,a,r);return Hc(l)}Qc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[ha]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Je()),0===(6&Li)&&(Ii=Je()+500,Ia()))}break;case 13:dc(function(){var t=Rs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},jt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Rs(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},je=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));X(r),Y(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Le=cc,Oe=dc;var ed={usingClientEntryPoint:!1,Events:[va,ya,wa,_e,Ce,cc]},td={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(nd),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var n=!1,r="",a=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Ir(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Ic(t,null,e,1,null!=n?n:null,a,0,l,o),e[ha]=t.current,Ir(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>xe,hasStandardBrowserEnv:()=>be,hasStandardBrowserWebWorkerEnv:()=>ve,navigator:()=>ge,origin:()=>ye});var a=n(43),s=n(391);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){return function(){return e.apply(t,arguments)}}const{toString:p}=Object.prototype,{getPrototypeOf:m}=Object,{iterator:h,toStringTag:f}=Symbol,x=(g=Object.create(null),e=>{const t=p.call(e);return g[t]||(g[t]=t.slice(8,-1).toLowerCase())});var g;const b=e=>(e=e.toLowerCase(),t=>x(t)===e),v=e=>t=>typeof t===e,{isArray:y}=Array,w=v("undefined");function j(e){return null!==e&&!w(e)&&null!==e.constructor&&!w(e.constructor)&&S(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const N=b("ArrayBuffer");const k=v("string"),S=v("function"),_=v("number"),C=e=>null!==e&&"object"===typeof e,L=e=>{if("object"!==x(e))return!1;const t=m(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(f in e)&&!(h in e)},O=b("Date"),E=b("File"),P=b("Blob"),M=b("FileList"),T=b("URLSearchParams"),[R,D,V,F]=["ReadableStream","Request","Response","Headers"].map(b);function z(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),y(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(j(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function B(e,t){if(j(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const A="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,U=e=>!w(e)&&e!==A;const I=(W="undefined"!==typeof Uint8Array&&m(Uint8Array),e=>W&&e instanceof W);var W;const H=b("HTMLFormElement"),G=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),q=b("RegExp"),X=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};z(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const $=b("AsyncFunction"),Q=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],A.addEventListener("message",e=>{let{source:t,data:a}=e;t===A&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),A.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,S(A.postMessage)),K="undefined"!==typeof queueMicrotask?queueMicrotask.bind(A):"undefined"!==typeof process&&process.nextTick||Q,J={isArray:y,isArrayBuffer:N,isBuffer:j,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||S(e.append)&&("formdata"===(t=x(e))||"object"===t&&S(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&N(e.buffer),t},isString:k,isNumber:_,isBoolean:e=>!0===e||!1===e,isObject:C,isPlainObject:L,isEmptyObject:e=>{if(!C(e)||j(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:R,isRequest:D,isResponse:V,isHeaders:F,isUndefined:w,isDate:O,isFile:E,isBlob:P,isRegExp:q,isFunction:S,isStream:e=>C(e)&&S(e.pipe),isURLSearchParams:T,isTypedArray:I,isFileList:M,forEach:z,merge:function e(){const{caseless:t,skipUndefined:n}=U(this)&&this||{},r={},a=(a,s)=>{const l=t&&B(r,s)||s;L(r[l])&&L(a)?r[l]=e(r[l],a):L(a)?r[l]=e({},a):y(a)?r[l]=a.slice():n&&w(a)||(r[l]=a)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&z(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return z(t,(t,r)=>{n&&S(t)?e[r]=u(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==n&&m(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:x,kindOfTest:b,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(y(e))return e;let t=e.length;if(!_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[h]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:H,hasOwnProperty:G,hasOwnProp:G,reduceDescriptors:X,freezeMethods:e=>{X(e,(t,n)=>{if(S(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];S(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return y(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:B,global:A,isContextDefined:U,isSpecCompliantForm:function(e){return!!(e&&S(e.append)&&"FormData"===e[f]&&e[h])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(C(e)){if(t.indexOf(e)>=0)return;if(j(e))return e;if(!("toJSON"in e)){t[r]=e;const a=y(e)?[]:{};return z(e,(e,t)=>{const s=n(e,r+1);!w(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:$,isThenable:e=>e&&(C(e)||S(e))&&S(e.then)&&S(e.catch),setImmediate:Q,asap:K,isIterable:e=>null!=e&&S(e[h])};function Y(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}J.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const Z=Y.prototype,ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ee[e]={value:e}}),Object.defineProperties(Y,ee),Object.defineProperty(Z,"isAxiosError",{value:!0}),Y.from=(e,t,n,r,a,s)=>{const l=Object.create(Z);J.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",i=null==t&&e?e.code:t;return Y.call(l,o,i,n,r,a),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const te=Y;function ne(e){return J.isPlainObject(e)||J.isArray(e)}function re(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function ae(e,t,n){return e?e.concat(t).map(function(e,t){return e=re(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const se=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});const le=function(e,t,n){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!J.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(J.isDate(e))return e.toISOString();if(J.isBoolean(e))return e.toString();if(!o&&J.isBlob(e))throw new te("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(e)||J.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(J.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(J.isArray(e)&&function(e){return J.isArray(e)&&!e.some(ne)}(e)||(J.isFileList(e)||J.endsWith(n,"[]"))&&(o=J.toArray(e)))return n=re(n),o.forEach(function(e,r){!J.isUndefined(e)&&null!==e&&t.append(!0===l?ae([n],r,s):null===l?n:n+"[]",i(e))}),!1;return!!ne(e)||(t.append(ae(a,n,s),i(e)),!1)}const d=[],u=Object.assign(se,{defaultVisitor:c,convertValue:i,isVisitable:ne});if(!J.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!J.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),J.forEach(n,function(n,s){!0===(!(J.isUndefined(n)||null===n)&&a.call(t,n,J.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function oe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ie(e,t){this._pairs=[],e&&le(e,this,t)}const ce=ie.prototype;ce.append=function(e,t){this._pairs.push([e,t])},ce.toString=function(e){const t=e?function(t){return e.call(this,t,oe)}:oe;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const de=ie;function ue(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pe(e,t,n){if(!t)return e;const r=n&&n.encode||ue;J.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):J.isURLSearchParams(t)?t.toString():new de(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const me=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(t){null!==t&&e(t)})}},he={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:de,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},xe="undefined"!==typeof window&&"undefined"!==typeof document,ge="object"===typeof navigator&&navigator||void 0,be=xe&&(!ge||["ReactNative","NativeScript","NS"].indexOf(ge.product)<0),ve="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ye=xe&&window.location.href||"http://localhost",we=d(d({},r),fe);const je=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=a>=e.length;if(s=!s&&J.isArray(r)?r.length:s,o)return J.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&J.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&J.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(J.isFormData(e)&&J.isFunction(e.entries)){const n={};return J.forEachEntry(e,(e,r)=>{t(function(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Ne={transitional:he,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=J.isObject(e);a&&J.isHTMLForm(e)&&(e=new FormData(e));if(J.isFormData(e))return r?JSON.stringify(je(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return le(e,new we.classes.URLSearchParams,d({visitor:function(e,t,n,r){return we.isNode&&J.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return le(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ne.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(n){if("SyntaxError"===a.name)throw te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],e=>{Ne.headers[e]={}});const ke=Ne,Se=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_e=Symbol("internals");function Ce(e){return e&&String(e).trim().toLowerCase()}function Le(e){return!1===e||null==e?e:J.isArray(e)?e.map(Le):String(e)}function Oe(e,t,n,r,a){return J.isFunction(r)?r.call(this,t,n):(a&&(t=n),J.isString(t)?J.isString(r)?-1!==t.indexOf(r):J.isRegExp(r)?r.test(t):void 0:void 0)}class Ee{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Ce(t);if(!a)throw new Error("header name must be a non-empty string");const s=J.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Le(e))}const s=(e,t)=>J.forEach(e,(e,n)=>a(e,n,t));if(J.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(J.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Se[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(J.isObject(e)&&J.isIterable(e)){let n,r,a={};for(const t of e){if(!J.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?J.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Ce(e)){const n=J.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(J.isFunction(t))return t.call(this,e,n);if(J.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ce(e)){const n=J.findKey(this,e);return!(!n||void 0===this[n]||t&&!Oe(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Ce(e)){const a=J.findKey(n,e);!a||t&&!Oe(0,n[a],a,t)||(delete n[a],r=!0)}}return J.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Oe(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return J.forEach(this,(r,a)=>{const s=J.findKey(n,a);if(s)return t[s]=Le(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();l!==a&&delete t[a],t[l]=Le(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return J.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&J.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[_e]=this[_e]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ce(e);t[r]||(!function(e,t){const n=J.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return J.isArray(e)?e.forEach(r):r(e),this}}Ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Ee.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),J.freezeMethods(Ee);const Pe=Ee;function Me(e,t){const n=this||ke,r=t||n,a=Pe.from(r.headers);let s=r.data;return J.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Te(e){return!(!e||!e.__CANCEL__)}function Re(e,t,n){te.call(this,null==e?"canceled":e,te.ERR_CANCELED,t,n),this.name="CanceledError"}J.inherits(Re,te,{__CANCEL__:!0});const De=Re;function Ve(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Fe=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),c=r[l];a||(a=i),n[s]=o,r[s]=i;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-a<t)return;const p=c&&i-c;return p?Math.round(1e3*u/p):void 0}};const ze=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t>=s?l(i,e):(n=i,r||(r=setTimeout(()=>{r=null,l(n)},s-t)))},()=>n&&l(n)]},Be=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Fe(50,250);return ze(n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,o=s-r,i=a(o);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},Ae=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ue=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return J.asap(()=>e(...n))},Ie=we.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,we.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,We=we.hasStandardBrowserEnv?{write(e,t,n,r,a,s,l){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];J.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),J.isString(r)&&o.push("path=".concat(r)),J.isString(a)&&o.push("domain=".concat(a)),!0===s&&o.push("secure"),J.isString(l)&&o.push("SameSite=".concat(l)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function He(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ge=e=>e instanceof Pe?d({},e):e;function qe(e,t){t=t||{};const n={};function r(e,t,n,r){return J.isPlainObject(e)&&J.isPlainObject(t)?J.merge.call({caseless:r},e,t):J.isPlainObject(t)?J.merge({},t):J.isArray(t)?t.slice():t}function a(e,t,n,a){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!J.isUndefined(t))return r(void 0,t)}function l(e,t){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,n)=>a(Ge(e),Ge(t),0,!0)};return J.forEach(Object.keys(d(d({},e),t)),function(r){const s=i[r]||a,l=s(e[r],t[r],r);J.isUndefined(l)&&s!==o||(n[r]=l)}),n}const Xe=e=>{const t=qe({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:o}=t;if(t.headers=l=Pe.from(l),t.url=pe(He(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),J.isFormData(n))if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(J.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&l.set(n,r)})}if(we.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(t)),r||!1!==r&&Ie(t.url))){const e=a&&s&&We.read(s);e&&l.set(a,e)}return t},$e="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Xe(e);let a=r.data;const s=Pe.from(r.headers).normalize();let l,o,i,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;function x(){if(!f)return;const r=Pe.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Ve(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(n(new te("Request aborted",te.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new te(r,te.ERR_NETWORK,e,f);a.event=t||null,n(a),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||he;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new te(t,a.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&J.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),J.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),m&&([i,d]=Be(m,!0),f.addEventListener("progress",i)),p&&f.upload&&([o,c]=Be(p),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{f&&(n(!t||t.type?new De(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===we.protocols.indexOf(g)?n(new te("Unsupported protocol "+g+":",te.ERR_BAD_REQUEST,e)):f.send(a||null)})},Qe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof te?t:new De(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new te("timeout ".concat(t," of ms exceeded"),te.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>J.asap(l),o}};function Ke(e,t){this.v=e,this.k=t}function Je(e){return function(){return new Ye(e.apply(this,arguments))}}function Ye(e){var t,n;function r(t,n){try{var s=e[t](n),l=s.value,o=l instanceof Ke;Promise.resolve(o?l.v:l).then(function(n){if(o){var i="return"===t?"return":"next";if(!l.k||n.done)return r(i,n);n=e[i](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,l){var o={key:e,arg:a,resolve:s,reject:l,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Ze(e){return new Ke(e,0)}function et(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Ke(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function tt(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new nt(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function nt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return nt=function(e){this.s=e,this.n=e.next},nt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new nt(e)}Ye.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ye.prototype.next=function(e){return this._invoke("next",e)},Ye.prototype.throw=function(e){return this._invoke("throw",e)},Ye.prototype.return=function(e){return this._invoke("return",e)};const rt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},at=function(){var e=Je(function*(e,t){var n,r=!1,a=!1;try{for(var s,l=tt(st(e));r=!(s=yield Ze(l.next())).done;r=!1){const e=s.value;yield*et(tt(rt(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=l.return&&(yield Ze(l.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),st=function(){var e=Je(function*(e){if(e[Symbol.asyncIterator])return void(yield*et(tt(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ze(t.read());if(e)break;yield n}}finally{yield Ze(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),lt=(e,t,n,r)=>{const a=at(e,t);let s,l=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:ot}=J,it=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(J.global),{ReadableStream:ct,TextEncoder:dt}=J.global,ut=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},pt=e=>{e=J.merge.call({skipUndefined:!0},it,e);const{fetch:t,Request:n,Response:r}=e,a=t?ot(t):"function"===typeof fetch,s=ot(n),l=ot(r);if(!a)return!1;const o=a&&ot(ct),i=a&&("function"===typeof dt?(c=new dt,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=s&&o&&ut(()=>{let e=!1;const t=new n(we.origin,{body:new ct,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),p=l&&o&&ut(()=>J.isReadableStream(new r("").body)),m={stream:p&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new te("Response type '".concat(e,"' is not supported"),te.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=J.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e)){const t=new n(we.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return J.isArrayBufferView(e)||J.isArrayBuffer(e)?e.byteLength:(J.isURLSearchParams(e)&&(e+=""),J.isString(e)?(await i(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:l,data:o,signal:i,cancelToken:c,timeout:f,onDownloadProgress:x,onUploadProgress:g,responseType:b,headers:v,withCredentials:y="same-origin",fetchOptions:w}=Xe(e),j=t||fetch;b=b?(b+"").toLowerCase():"text";let N=Qe([i,c&&c.toAbortSignal()],f),k=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let _;try{if(g&&u&&"get"!==l&&"head"!==l&&0!==(_=await h(v,o))){let e,t=new n(a,{method:"POST",body:o,duplex:"half"});if(J.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=Ae(_,Be(Ue(g)));o=lt(t.body,65536,e,n)}}J.isString(y)||(y=y?"include":"omit");const t=s&&"credentials"in n.prototype,i=d(d({},w),{},{signal:N,method:l.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0});k=s&&new n(a,i);let c=await(s?j(k,w):j(a,i));const f=p&&("stream"===b||"response"===b);if(p&&(x||f&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=J.toFiniteNumber(c.headers.get("content-length")),[n,a]=x&&Ae(t,Be(Ue(x),!0))||[];c=new r(lt(c.body,65536,n,()=>{a&&a(),S&&S()}),e)}b=b||"text";let C=await m[J.findKey(m,b)||"text"](c,e);return!f&&S&&S(),await new Promise((t,n)=>{Ve(t,n,{data:C,headers:Pe.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new te("Network Error",te.ERR_NETWORK,e,k),{cause:C.cause||C});throw te.from(C,C&&C.code,e,k)}}},mt=new Map,ht=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let l,o,i=s.length,c=mt;for(;i--;)l=s[i],o=c.get(l),void 0===o&&c.set(l,o=i?new Map:pt(t)),c=o;return o},ft=(ht(),{http:null,xhr:$e,fetch:{get:ht}});J.forEach(ft,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const xt=e=>"- ".concat(e),gt=e=>J.isFunction(e)||null===e||!1===e;const bt={getAdapter:function(e,t){e=J.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let l=0;l<n;l++){let n;if(r=e[l],a=r,!gt(r)&&(a=ft[(n=String(r)).toLowerCase()],void 0===a))throw new te("Unknown adapter '".concat(n,"'"));if(a&&(J.isFunction(a)||(a=a.get(t))))break;s[n||"#"+l]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(xt).join("\n"):" "+xt(e[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:ft};function vt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new De(null,e)}function yt(e){vt(e),e.headers=Pe.from(e.headers),e.data=Me.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bt.getAdapter(e.adapter||ke.adapter,e)(e).then(function(t){return vt(e),t.data=Me.call(e,e.transformResponse,t),t.headers=Pe.from(t.headers),t},function(t){return Te(t)||(vt(e),t&&t.response&&(t.response.data=Me.call(e,e.transformResponse,t.response),t.response.headers=Pe.from(t.response.headers))),Promise.reject(t)})}const wt="1.13.2",jt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Nt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+wt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new te(r(a," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!Nt[a]&&(Nt[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const kt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new te("option "+s+" must be "+n,te.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new te("Unknown option "+s,te.ERR_BAD_OPTION)}},validators:jt},St=kt.validators;class _t{constructor(e){this.defaults=e||{},this.interceptors={request:new me,response:new me}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=qe(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&kt.assertOptions(n,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),null!=r&&(J.isFunction(r)?t.paramsSerializer={serialize:r}:kt.assertOptions(r,{encode:St.function,serialize:St.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kt.assertOptions(t,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&J.merge(a.common,a[t.method]);a&&J.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Pe.concat(s,a);const l=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[yt.bind(this),void 0];for(e.unshift(...l),e.push(...i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let p=t;for(;u<d;){const e=l[u++],t=l[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=yt.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return pe(He((e=qe(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){_t.prototype[e]=function(t,n){return this.request(qe(n||{},{method:e,url:t,data:(n||{}).data}))}}),J.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(qe(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}_t.prototype[e]=t(),_t.prototype[e+"Form"]=t(!0)});const Ct=_t;class Lt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new De(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lt(function(t){e=t}),cancel:e}}}const Ot=Lt;const Et={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Et).forEach(e=>{let[t,n]=e;Et[n]=t});const Pt=Et;const Mt=function e(t){const n=new Ct(t),r=u(Ct.prototype.request,n);return J.extend(r,Ct.prototype,n,{allOwnKeys:!0}),J.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(qe(t,n))},r}(ke);Mt.Axios=Ct,Mt.CanceledError=De,Mt.CancelToken=Ot,Mt.isCancel=Te,Mt.VERSION=wt,Mt.toFormData=le,Mt.AxiosError=te,Mt.Cancel=Mt.CanceledError,Mt.all=function(e){return Promise.all(e)},Mt.spread=function(e){return function(t){return e.apply(null,t)}},Mt.isAxiosError=function(e){return J.isObject(e)&&!0===e.isAxiosError},Mt.mergeConfig=qe,Mt.AxiosHeaders=Pe,Mt.formToJSON=e=>je(J.isHTMLForm(e)?new FormData(e):e),Mt.getAdapter=bt.getAdapter,Mt.HttpStatusCode=Pt,Mt.default=Mt;const Tt={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"",Rt=Mt.create({baseURL:Tt,timeout:3e4});Rt.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),Rt.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()),Promise.reject(e)});const Dt=()=>Rt.get("/api/settings"),Vt=e=>Rt.put("/api/alarm-settings",e),Ft=()=>Rt.get("/api/update-check"),zt=e=>Rt.post("/api/diagrams",e),Bt=(e,t)=>Rt.put("/api/diagrams/".concat(e),t);var At=n(579);const Ut=(0,a.createContext)(!1);console.log("OLT Manager Pro v2.3.0 - Speedometer Health Gauges");const It={V1600GS:1,"V1600GS-F":1,"V1600GS-ZF":1,"V1600GS-O32":1,"V1600GS-WB":1,V1600GT:2,"V1600GT-2F":2,V1600G0:4,"V1600G0-B":4,"V1600G0-R":4,V1601G04:4,V1601E04:4,V1600G1:8,"V1600G1-B":8,"V1600G1-R":8,"V1600G1-A":8,V1600G1WEO:8,"V1600G1WEO-B":8,V1600G2:16,"V1600G2-B":16,"V1600G2-R":16,"V1600G2-A":16,V1600DS:1,V1600D2:2,"V1600D2-L":2,V1601E02:2,"V1601E02-DP":2,V1600D4:4,"V1600D4-L":4,"V1600D4-DP":4,"V1600D-MINI":4,"V1601E04-DP":4,"V1601E04-BT":4,V1600D8:8,"V1600D8-L":8,"V1600D8-R":8,V1600D16:16,"V1600D16-L":16,V1600XG02:2,"V1600XG02-W":2,V1600XG04:4,V3600G1:8,"V3600G1-C":8,V3600D8:8,V3600G2:16,V5600X2:32,V5600X4:64,V5600X7:112,V1600P1:1,V1600P2:2,V1600P4:4,V1600P8:8,Other:0},Wt=e=>{if(!e)return"-";const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);return t>0?"".concat(t,"d ").concat(n,"h"):n>0?"".concat(n,"h ").concat(r,"m"):"".concat(r,"m")},Ht=e=>{let{value:t,max:n,label:r,unit:a,icon:s,colorStops:l}=e;const o=Math.min(100,Math.max(0,t/n*100)),i=o/100*180,c=l||[{offset:0,color:"#10b981"},{offset:50,color:"#f59e0b"},{offset:100,color:"#ef4444"}],d=(u=o)<=50?c[0].color:u<=75?c[1].color:c[2].color;var u;const p="gauge-gradient-".concat(r.replace(/\s/g,""));return(0,At.jsxs)("div",{className:"flex flex-col items-center",children:[(0,At.jsxs)("svg",{viewBox:"0 0 120 70",className:"w-20 h-12",children:[(0,At.jsxs)("defs",{children:[(0,At.jsx)("linearGradient",{id:p,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:c.map((e,t)=>(0,At.jsx)("stop",{offset:"".concat(e.offset,"%"),stopColor:e.color},t))}),(0,At.jsxs)("filter",{id:"glow-".concat(r),x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,At.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,At.jsxs)("feMerge",{children:[(0,At.jsx)("feMergeNode",{in:"coloredBlur"}),(0,At.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,At.jsx)("path",{d:"M 10 60 A 50 50 0 0 1 110 60",fill:"none",stroke:"#1f2937",strokeWidth:"8",strokeLinecap:"round"}),(0,At.jsx)("path",{d:"M 10 60 A 50 50 0 0 1 110 60",fill:"none",stroke:"url(#".concat(p,")"),strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"".concat(1.57*o," 157"),style:{transition:"stroke-dasharray 0.3s ease-out"}}),[0,25,50,75,100].map(e=>{const t=(e/100*180-180)*Math.PI/180,n=60+42*Math.cos(t),r=60+42*Math.sin(t),a=60+48*Math.cos(t),s=60+48*Math.sin(t);return(0,At.jsx)("line",{x1:n,y1:r,x2:a,y2:s,stroke:"#4b5563",strokeWidth:"1.5"},e)}),(0,At.jsxs)("g",{style:{transform:"rotate(".concat(i-180,"deg)"),transformOrigin:"60px 60px",transition:"transform 0.3s ease-out"},children:[(0,At.jsx)("line",{x1:"60",y1:"60",x2:"60",y2:"18",stroke:d,strokeWidth:"2.5",strokeLinecap:"round",filter:"url(#glow-".concat(r,")")}),(0,At.jsx)("circle",{cx:"60",cy:"18",r:"2",fill:d})]}),(0,At.jsx)("circle",{cx:"60",cy:"60",r:"6",fill:"#374151",stroke:d,strokeWidth:"2"}),(0,At.jsx)("circle",{cx:"60",cy:"60",r:"3",fill:d})]}),(0,At.jsxs)("div",{className:"mt-1 text-center",children:[(0,At.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,At.jsx)("span",{className:"text-lg font-bold tabular-nums",style:{color:d},children:null!==t?t:"-"}),(0,At.jsx)("span",{className:"text-xs text-gray-400",children:a})]}),(0,At.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:r})]})]})};function Gt(e){let{onLogin:t,pageName:n}=e;const[r,s]=(0,a.useState)(""),[l,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1);return(0,At.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[(0,At.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,At.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,At.jsx)("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),(0,At.jsx)("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"2s"}}),(0,At.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"4s"}})]}),(0,At.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0)",backgroundSize:"40px 40px"}})]}),(0,At.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,At.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-2xl blur-lg opacity-40"}),(0,At.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl p-8 rounded-2xl shadow-2xl border border-white/20",children:[(0,At.jsxs)("div",{className:"text-center mb-8",children:[(0,At.jsxs)("div",{className:"relative inline-block",children:[(0,At.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:(0,At.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,At.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),(0,At.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:n||"OLT Manager"}),(0,At.jsx)("p",{className:"text-gray-500 mt-2 text-sm",children:"Fiber Network Management System"})]}),i&&(0,At.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg flex items-center gap-3 animate-shake",children:[(0,At.jsx)("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,At.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,At.jsx)("span",{className:"text-red-700 text-sm font-medium",children:i})]}),(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(""),u(!0);try{const e=await((e,t)=>Rt.post("/api/auth/login",{username:e,password:t}))(r,l);localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),t(e.data.user)}catch(s){var n,a;c((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Login failed")}finally{u(!1)}},className:"space-y-5",children:[(0,At.jsxs)("div",{className:"space-y-2",children:[(0,At.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Username"}),(0,At.jsxs)("div",{className:"relative group",children:[(0,At.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,At.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,At.jsx)("input",{type:"text",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 outline-none text-gray-800 placeholder-gray-400",value:r,onChange:e=>s(e.target.value),placeholder:"Enter your username"})]})]}),(0,At.jsxs)("div",{className:"space-y-2",children:[(0,At.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),(0,At.jsxs)("div",{className:"relative group",children:[(0,At.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,At.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,At.jsx)("input",{type:p?"text":"password",required:!0,className:"w-full pl-12 pr-12 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 outline-none text-gray-800 placeholder-gray-400",value:l,onChange:e=>o(e.target.value),placeholder:"Enter your password"}),(0,At.jsx)("button",{type:"button",onClick:()=>m(!p),"aria-label":p?"Hide password":"Show password",title:p?"Hide password":"Show password",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600",children:p?(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,At.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,At.jsx)("button",{type:"submit",disabled:d,className:"w-full py-4 px-4 bg-gradient-to-r from-blue-600 to-cyan-500 text-white rounded-xl hover:from-blue-700 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 transform hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2",children:d?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,At.jsx)("span",{children:"Signing in..."})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{children:"Sign In"}),(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}),(0,At.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:(0,At.jsx)("p",{className:"text-xs text-gray-400",children:"GPON Fiber Network Management"})})]})]})]})}function qt(e){let{title:t,value:n,subValue:r,color:s,icon:l,trend:o,trendValue:i,footerText:c}=e;const d=(0,a.useContext)(Ut),u={blue:{iconBg:d?"bg-blue-900/50":"bg-blue-50",iconColor:"text-blue-500",trendUp:"text-emerald-500",trendDown:"text-red-500"},green:{iconBg:d?"bg-emerald-900/50":"bg-emerald-50",iconColor:"text-emerald-500",trendUp:"text-emerald-500",trendDown:"text-red-500"},red:{iconBg:d?"bg-red-900/50":"bg-red-50",iconColor:"text-red-500",trendUp:"text-emerald-500",trendDown:"text-red-500"},yellow:{iconBg:d?"bg-amber-900/50":"bg-amber-50",iconColor:"text-amber-500",trendUp:"text-emerald-500",trendDown:"text-red-500"},purple:{iconBg:d?"bg-purple-900/50":"bg-purple-50",iconColor:"text-purple-500",trendUp:"text-emerald-500",trendDown:"text-red-500"},gray:{iconBg:d?"bg-gray-700":"bg-gray-100",iconColor:d?"text-gray-300":"text-gray-600",trendUp:"text-emerald-500",trendDown:"text-red-500"},indigo:{iconBg:d?"bg-indigo-900/50":"bg-indigo-50",iconColor:"text-indigo-500",trendUp:"text-emerald-500",trendDown:"text-red-500"},cyan:{iconBg:d?"bg-cyan-900/50":"bg-cyan-50",iconColor:"text-cyan-500",trendUp:"text-emerald-500",trendDown:"text-red-500"}},p={olt:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"}),onu:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"}),online:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),offline:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}),region:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})},m=u[s]||u.blue;return(0,At.jsxs)("div",{className:"rounded-xl p-5 border hover:shadow-sm transition-all duration-200 ".concat(d?"bg-slate-800 border-slate-700":"bg-white border-[#e8eaed]"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between",children:[(0,At.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,At.jsx)("p",{className:"text-sm font-medium mb-1 ".concat(d?"text-slate-400":"text-[#4b5563]"),children:t}),(0,At.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,At.jsx)("p",{className:"text-3xl font-semibold tabular-nums ".concat(d?"text-white":"text-[#111827]"),children:n}),i&&(0,At.jsxs)("span",{className:"text-sm font-medium ".concat("up"===o?m.trendUp:m.trendDown),children:["up"===o?"+":"",i]})]}),r&&(0,At.jsx)("p",{className:"text-sm mt-1 ".concat(d?"text-slate-500":"text-[#9ca3af]"),children:r})]}),(0,At.jsx)("div",{className:"".concat(m.iconBg," rounded-lg p-3"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(m.iconColor),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p[l]||p.olt})})]}),c&&(0,At.jsx)("div",{className:"mt-4 pt-3 border-t ".concat(d?"border-slate-700":"border-[#e8eaed]"),children:(0,At.jsx)("p",{className:"text-xs ".concat(d?"text-slate-500":"text-[#9ca3af]"),children:c})})]})}function Xt(e){let{online:t}=e;return(0,At.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 text-xs font-medium rounded-full ".concat(t?"bg-[#d1fae5] text-[#059669]":"bg-[#fee2e2] text-[#dc2626]"),children:[(0,At.jsx)("span",{className:"w-1.5 h-1.5 rounded-full ".concat(t?"bg-[#059669]":"bg-[#dc2626]")}),t?"Online":"Offline"]})}function $t(e){let{isOpen:t,onClose:n,title:r,children:s,size:l="md"}=e;const o=(0,a.useContext)(Ut);if(!t)return null;return(0,At.jsx)("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:(0,At.jsxs)("div",{className:"relative rounded-2xl shadow-2xl w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[l]," max-h-[90vh] overflow-hidden transform transition-all animate-slideUp ").concat(o?"bg-slate-800":"bg-white"),children:[(0,At.jsxs)("div",{className:"relative border-b ".concat(o?"bg-slate-700 border-slate-600":"bg-gradient-to-r from-gray-50 to-white border-gray-100"),children:[(0,At.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500"}),(0,At.jsxs)("div",{className:"flex justify-between items-center p-5",children:[(0,At.jsx)("h2",{className:"text-xl font-bold ".concat(o?"text-white":"text-gray-800"),children:r}),(0,At.jsx)("button",{onClick:n,className:"p-2 rounded-lg transition-all duration-200 ".concat(o?"text-slate-400 hover:text-white hover:bg-slate-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,At.jsx)("div",{className:"p-5 overflow-y-auto max-h-[calc(90vh-80px)]",children:s})]})})}function Qt(e){let{isOpen:t,onClose:n,images:r,initialIndex:s=0,title:l}=e;const[o,i]=(0,a.useState)(s);return(0,a.useEffect)(()=>{i(s)},[s,t]),(0,a.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"===e.key&&n(),"ArrowLeft"===e.key&&i(e=>e>0?e-1:r.length-1),"ArrowRight"===e.key&&i(e=>e<r.length-1?e+1:0)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,r.length,n]),t&&r&&0!==r.length?(0,At.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:n,children:(0,At.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,At.jsx)("button",{onClick:n,className:"absolute -top-10 right-0 text-white hover:text-gray-300 z-10",children:(0,At.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l&&(0,At.jsx)("div",{className:"absolute -top-10 left-0 text-white text-lg font-medium",children:l}),(0,At.jsx)("div",{className:"flex items-center justify-center",children:(0,At.jsx)("img",{src:r[o],alt:"Preview ".concat(o+1),className:"max-h-[80vh] max-w-full object-contain rounded-lg"})}),r.length>1&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("button",{onClick:()=>i(e=>e>0?e-1:r.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full",children:(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,At.jsx)("button",{onClick:()=>i(e=>e<r.length-1?e+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full",children:(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.length>1&&(0,At.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[o+1," / ",r.length]}),r.length>1&&(0,At.jsx)("div",{className:"flex justify-center mt-4 gap-2",children:r.map((e,t)=>(0,At.jsx)("button",{onClick:()=>i(t),className:"w-16 h-16 rounded-lg overflow-hidden border-2 ".concat(t===o?"border-blue-500":"border-transparent opacity-60 hover:opacity-100"),children:(0,At.jsx)("img",{src:e,alt:"Thumb ".concat(t+1),className:"w-full h-full object-cover"})},t))})]})}):null}function Kt(e){let{isOpen:t,onClose:n,onSubmit:r,regions:s}=e;const[l,o]=(0,a.useState)({name:"",ip_address:"",username:"admin",password:"",snmp_community:"public",model:"",pon_ports:8,region_id:""}),[i,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1);return(0,At.jsx)($t,{isOpen:t,onClose:n,title:"Add New OLT",size:"lg",children:(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e=d({},l);""===e.region_id?delete e.region_id:e.region_id=parseInt(e.region_id),await r(e),o({name:"",ip_address:"",username:"admin",password:"",snmp_community:"public",model:"",pon_ports:8,region_id:""}),p(!1),n()}catch(s){var t,a;alert("Failed to add OLT: "+((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||s.message))}finally{c(!1)}},children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,At.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.name,onChange:e=>o(d(d({},l),{},{name:e.target.value})),placeholder:"OLT-1"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Address *"}),(0,At.jsx)("input",{type:"text",required:!0,pattern:"^(\\d{1,3}\\.){3}\\d{1,3}$",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.ip_address,onChange:e=>o(d(d({},l),{},{ip_address:e.target.value})),placeholder:"10.10.10.1"})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OLT Username *"}),(0,At.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.username,onChange:e=>o(d(d({},l),{},{username:e.target.value})),placeholder:"admin"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OLT Password *"}),(0,At.jsx)("input",{type:"password",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.password,onChange:e=>o(d(d({},l),{},{password:e.target.value})),placeholder:"OLT password"})]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SNMP Community"}),(0,At.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.snmp_community,onChange:e=>o(d(d({},l),{},{snmp_community:e.target.value})),placeholder:"public"})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),(0,At.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.model,onChange:e=>{var t;(t=e.target.value)&&"Other"!==t&&It[t]?(o(d(d({},l),{},{model:t,pon_ports:It[t]})),p(!0)):(o(d(d({},l),{},{model:t,pon_ports:"Other"===t?"":8})),p(!1))},children:[(0,At.jsx)("option",{value:"",children:"Select Model"}),(0,At.jsxs)("optgroup",{label:"GPON - 1 PON",children:[(0,At.jsx)("option",{value:"V1600GS",children:"V1600GS"}),(0,At.jsx)("option",{value:"V1600GS-F",children:"V1600GS-F"}),(0,At.jsx)("option",{value:"V1600GS-ZF",children:"V1600GS-ZF"}),(0,At.jsx)("option",{value:"V1600GS-O32",children:"V1600GS-O32 (Built-in Splitter)"}),(0,At.jsx)("option",{value:"V1600GS-WB",children:"V1600GS-WB"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 2 PON",children:[(0,At.jsx)("option",{value:"V1600GT",children:"V1600GT"}),(0,At.jsx)("option",{value:"V1600GT-2F",children:"V1600GT-2F"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 4 PON",children:[(0,At.jsx)("option",{value:"V1600G0",children:"V1600G0"}),(0,At.jsx)("option",{value:"V1600G0-B",children:"V1600G0-B"}),(0,At.jsx)("option",{value:"V1600G0-R",children:"V1600G0-R"}),(0,At.jsx)("option",{value:"V1601G04",children:"V1601G04"}),(0,At.jsx)("option",{value:"V1601E04",children:"V1601E04"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 8 PON",children:[(0,At.jsx)("option",{value:"V1600G1",children:"V1600G1"}),(0,At.jsx)("option",{value:"V1600G1-B",children:"V1600G1-B"}),(0,At.jsx)("option",{value:"V1600G1-R",children:"V1600G1-R"}),(0,At.jsx)("option",{value:"V1600G1-A",children:"V1600G1-A"}),(0,At.jsx)("option",{value:"V1600G1WEO",children:"V1600G1WEO"}),(0,At.jsx)("option",{value:"V1600G1WEO-B",children:"V1600G1WEO-B (Outdoor IP65)"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 16 PON",children:[(0,At.jsx)("option",{value:"V1600G2",children:"V1600G2"}),(0,At.jsx)("option",{value:"V1600G2-B",children:"V1600G2-B"}),(0,At.jsx)("option",{value:"V1600G2-R",children:"V1600G2-R"}),(0,At.jsx)("option",{value:"V1600G2-A",children:"V1600G2-A"})]}),(0,At.jsx)("optgroup",{label:"EPON - 1 PON",children:(0,At.jsx)("option",{value:"V1600DS",children:"V1600DS"})}),(0,At.jsxs)("optgroup",{label:"EPON - 2 PON",children:[(0,At.jsx)("option",{value:"V1600D2",children:"V1600D2"}),(0,At.jsx)("option",{value:"V1600D2-L",children:"V1600D2-L"}),(0,At.jsx)("option",{value:"V1601E02",children:"V1601E02"}),(0,At.jsx)("option",{value:"V1601E02-DP",children:"V1601E02-DP"})]}),(0,At.jsxs)("optgroup",{label:"EPON - 4 PON",children:[(0,At.jsx)("option",{value:"V1600D4",children:"V1600D4"}),(0,At.jsx)("option",{value:"V1600D4-L",children:"V1600D4-L"}),(0,At.jsx)("option",{value:"V1600D4-DP",children:"V1600D4-DP"}),(0,At.jsx)("option",{value:"V1600D-MINI",children:"V1600D-MINI"}),(0,At.jsx)("option",{value:"V1601E04-DP",children:"V1601E04-DP"}),(0,At.jsx)("option",{value:"V1601E04-BT",children:"V1601E04-BT"})]}),(0,At.jsxs)("optgroup",{label:"EPON - 8 PON",children:[(0,At.jsx)("option",{value:"V1600D8",children:"V1600D8"}),(0,At.jsx)("option",{value:"V1600D8-L",children:"V1600D8-L"}),(0,At.jsx)("option",{value:"V1600D8-R",children:"V1600D8-R"})]}),(0,At.jsxs)("optgroup",{label:"EPON - 16 PON",children:[(0,At.jsx)("option",{value:"V1600D16",children:"V1600D16"}),(0,At.jsx)("option",{value:"V1600D16-L",children:"V1600D16-L"})]}),(0,At.jsxs)("optgroup",{label:"10G XGS-PON - 2 PON",children:[(0,At.jsx)("option",{value:"V1600XG02",children:"V1600XG02"}),(0,At.jsx)("option",{value:"V1600XG02-W",children:"V1600XG02-W"})]}),(0,At.jsx)("optgroup",{label:"10G XGS-PON - 4 PON",children:(0,At.jsx)("option",{value:"V1600XG04",children:"V1600XG04"})}),(0,At.jsxs)("optgroup",{label:"10G XGS-PON - 8 PON",children:[(0,At.jsx)("option",{value:"V3600G1",children:"V3600G1"}),(0,At.jsx)("option",{value:"V3600G1-C",children:"V3600G1-C"}),(0,At.jsx)("option",{value:"V3600D8",children:"V3600D8"})]}),(0,At.jsx)("optgroup",{label:"10G XGS-PON - 16 PON",children:(0,At.jsx)("option",{value:"V3600G2",children:"V3600G2"})}),(0,At.jsxs)("optgroup",{label:"Chassis OLT",children:[(0,At.jsx)("option",{value:"V5600X2",children:"V5600X2 (32 PON)"}),(0,At.jsx)("option",{value:"V5600X4",children:"V5600X4 (64 PON)"}),(0,At.jsx)("option",{value:"V5600X7",children:"V5600X7 (112 PON)"})]}),(0,At.jsxs)("optgroup",{label:"Pizza Box OLT",children:[(0,At.jsx)("option",{value:"V1600P1",children:"V1600P1 (1 PON)"}),(0,At.jsx)("option",{value:"V1600P2",children:"V1600P2 (2 PON)"}),(0,At.jsx)("option",{value:"V1600P4",children:"V1600P4 (4 PON)"}),(0,At.jsx)("option",{value:"V1600P8",children:"V1600P8 (8 PON)"})]}),(0,At.jsx)("optgroup",{label:"Custom",children:(0,At.jsx)("option",{value:"Other",children:"Other (Manual Entry)"})})]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PON Ports"}),(0,At.jsx)("input",{type:"number",min:"1",max:"128",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(u?"bg-gray-100 text-gray-600":""),value:l.pon_ports,onChange:e=>o(d(d({},l),{},{pon_ports:parseInt(e.target.value)||""})),readOnly:u}),u&&(0,At.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from model"})]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),(0,At.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.region_id,onChange:e=>o(d(d({},l),{},{region_id:e.target.value})),children:[(0,At.jsx)("option",{value:"",children:"No Region"}),s.map(e=>(0,At.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,At.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,At.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,At.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Adding...":"Add OLT"})]})]})})}function Jt(e){let{isOpen:t,onClose:n,olt:r,onSubmit:s,regions:l}=e;const[o,i]=(0,a.useState)({name:"",ip_address:"",username:"",password:"",snmp_community:"public",model:"",pon_ports:8}),[c,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r&&(i({name:r.name||"",ip_address:r.ip_address||"",username:r.username||"admin",password:"",snmp_community:r.snmp_community||"public",model:r.model||"",pon_ports:r.pon_ports||8}),r.model&&It[r.model]?m(!0):m(!1),f(!1))},[r]);return r?(0,At.jsx)($t,{isOpen:t,onClose:n,title:"Edit OLT: ".concat(r.name),size:"lg",children:(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{const e=d({},o);h&&e.password||delete e.password,await s(r.id,e),n()}catch(l){var t,a;alert("Failed to update OLT: "+((null===(t=l.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||l.message))}finally{u(!1)}},children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,At.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.name,onChange:e=>i(d(d({},o),{},{name:e.target.value})),placeholder:"OLT-1"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Address *"}),(0,At.jsx)("input",{type:"text",required:!0,pattern:"^(\\d{1,3}\\.){3}\\d{1,3}$",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.ip_address,onChange:e=>i(d(d({},o),{},{ip_address:e.target.value})),placeholder:"10.10.10.1"})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OLT Username *"}),(0,At.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.username,onChange:e=>i(d(d({},o),{},{username:e.target.value})),placeholder:"admin"})]}),(0,At.jsxs)("div",{children:[(0,At.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OLT Password",(0,At.jsxs)("label",{className:"inline-flex items-center ml-3 cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:h,onChange:e=>f(e.target.checked)}),(0,At.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"Change"})]})]}),(0,At.jsx)("input",{type:"password",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",value:o.password,onChange:e=>i(d(d({},o),{},{password:e.target.value})),placeholder:h?"New password":"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:!h})]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SNMP Community"}),(0,At.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.snmp_community,onChange:e=>i(d(d({},o),{},{snmp_community:e.target.value})),placeholder:"public"})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),(0,At.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.model,onChange:e=>{var t;(t=e.target.value)&&"Other"!==t&&It[t]?(i(d(d({},o),{},{model:t,pon_ports:It[t]})),m(!0)):(i(d(d({},o),{},{model:t,pon_ports:"Other"===t?o.pon_ports:8})),m(!1))},children:[(0,At.jsx)("option",{value:"",children:"Select Model"}),(0,At.jsxs)("optgroup",{label:"GPON - 1 PON",children:[(0,At.jsx)("option",{value:"V1600GS",children:"V1600GS"}),(0,At.jsx)("option",{value:"V1600GS-F",children:"V1600GS-F"}),(0,At.jsx)("option",{value:"V1600GS-ZF",children:"V1600GS-ZF"}),(0,At.jsx)("option",{value:"V1600GS-O32",children:"V1600GS-O32 (Built-in Splitter)"}),(0,At.jsx)("option",{value:"V1600GS-WB",children:"V1600GS-WB"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 2 PON",children:[(0,At.jsx)("option",{value:"V1600GT",children:"V1600GT"}),(0,At.jsx)("option",{value:"V1600GT-2F",children:"V1600GT-2F"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 4 PON",children:[(0,At.jsx)("option",{value:"V1600G0",children:"V1600G0"}),(0,At.jsx)("option",{value:"V1600G0-B",children:"V1600G0-B"}),(0,At.jsx)("option",{value:"V1600G0-R",children:"V1600G0-R"}),(0,At.jsx)("option",{value:"V1601G04",children:"V1601G04"}),(0,At.jsx)("option",{value:"V1601E04",children:"V1601E04"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 8 PON",children:[(0,At.jsx)("option",{value:"V1600G1",children:"V1600G1"}),(0,At.jsx)("option",{value:"V1600G1-B",children:"V1600G1-B"}),(0,At.jsx)("option",{value:"V1600G1-R",children:"V1600G1-R"}),(0,At.jsx)("option",{value:"V1600G1-A",children:"V1600G1-A"}),(0,At.jsx)("option",{value:"V1600G1WEO",children:"V1600G1WEO"}),(0,At.jsx)("option",{value:"V1600G1WEO-B",children:"V1600G1WEO-B (Outdoor IP65)"})]}),(0,At.jsxs)("optgroup",{label:"GPON - 16 PON",children:[(0,At.jsx)("option",{value:"V1600G2",children:"V1600G2"}),(0,At.jsx)("option",{value:"V1600G2-B",children:"V1600G2-B"}),(0,At.jsx)("option",{value:"V1600G2-R",children:"V1600G2-R"}),(0,At.jsx)("option",{value:"V1600G2-A",children:"V1600G2-A"})]}),(0,At.jsx)("optgroup",{label:"EPON - 1 PON",children:(0,At.jsx)("option",{value:"V1600DS",children:"V1600DS"})}),(0,At.jsxs)("optgroup",{label:"EPON - 2 PON",children:[(0,At.jsx)("option",{value:"V1600D2",children:"V1600D2"}),(0,At.jsx)("option",{value:"V1600D2-L",children:"V1600D2-L"}),(0,At.jsx)("option",{value:"V1601E02",children:"V1601E02"}),(0,At.jsx)("option",{value:"V1601E02-DP",children:"V1601E02-DP"})]}),(0,At.jsxs)("optgroup",{label:"EPON - 4 PON",children:[(0,At.jsx)("option",{value:"V1600D4",children:"V1600D4"}),(0,At.jsx)("option",{value:"V1600D4-L",children:"V1600D4-L"}),(0,At.jsx)("option",{value:"V1600D4-DP",children:"V1600D4-DP"}),(0,At.jsx)("option",{value:"V1600D-MINI",children:"V1600D-MINI"}),(0,At.jsx)("option",{value:"V1601E04-DP",children:"V1601E04-DP"}),(0,At.jsx)("option",{value:"V1601E04-BT",children:"V1601E04-BT"})]}),(0,At.jsxs)("optgroup",{label:"EPON - 8 PON",children:[(0,At.jsx)("option",{value:"V1600D8",children:"V1600D8"}),(0,At.jsx)("option",{value:"V1600D8-L",children:"V1600D8-L"}),(0,At.jsx)("option",{value:"V1600D8-R",children:"V1600D8-R"})]}),(0,At.jsxs)("optgroup",{label:"EPON - 16 PON",children:[(0,At.jsx)("option",{value:"V1600D16",children:"V1600D16"}),(0,At.jsx)("option",{value:"V1600D16-L",children:"V1600D16-L"})]}),(0,At.jsxs)("optgroup",{label:"10G XGS-PON - 2 PON",children:[(0,At.jsx)("option",{value:"V1600XG02",children:"V1600XG02"}),(0,At.jsx)("option",{value:"V1600XG02-W",children:"V1600XG02-W"})]}),(0,At.jsx)("optgroup",{label:"10G XGS-PON - 4 PON",children:(0,At.jsx)("option",{value:"V1600XG04",children:"V1600XG04"})}),(0,At.jsxs)("optgroup",{label:"10G XGS-PON - 8 PON",children:[(0,At.jsx)("option",{value:"V3600G1",children:"V3600G1"}),(0,At.jsx)("option",{value:"V3600G1-C",children:"V3600G1-C"}),(0,At.jsx)("option",{value:"V3600D8",children:"V3600D8"})]}),(0,At.jsx)("optgroup",{label:"10G XGS-PON - 16 PON",children:(0,At.jsx)("option",{value:"V3600G2",children:"V3600G2"})}),(0,At.jsxs)("optgroup",{label:"Chassis OLT",children:[(0,At.jsx)("option",{value:"V5600X2",children:"V5600X2 (32 PON)"}),(0,At.jsx)("option",{value:"V5600X4",children:"V5600X4 (64 PON)"}),(0,At.jsx)("option",{value:"V5600X7",children:"V5600X7 (112 PON)"})]}),(0,At.jsxs)("optgroup",{label:"Pizza Box OLT",children:[(0,At.jsx)("option",{value:"V1600P1",children:"V1600P1 (1 PON)"}),(0,At.jsx)("option",{value:"V1600P2",children:"V1600P2 (2 PON)"}),(0,At.jsx)("option",{value:"V1600P4",children:"V1600P4 (4 PON)"}),(0,At.jsx)("option",{value:"V1600P8",children:"V1600P8 (8 PON)"})]}),(0,At.jsx)("optgroup",{label:"Custom",children:(0,At.jsx)("option",{value:"Other",children:"Other (Manual Entry)"})})]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PON Ports"}),(0,At.jsx)("input",{type:"number",min:"1",max:"128",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-gray-100 text-gray-600":""),value:o.pon_ports,onChange:e=>i(d(d({},o),{},{pon_ports:parseInt(e.target.value)||""})),readOnly:p}),p&&(0,At.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from model"})]})]})]}),(0,At.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,At.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,At.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?"Saving...":"Save Changes"})]})]})}):null}function Yt(e){var t;let{isOpen:n,onClose:r,onu:s,onSubmit:l,onImageUpload:o,onImageDelete:i,regions:c}=e;const[u,p]=(0,a.useState)({description:"",latitude:"",longitude:"",address:"",region_id:""}),[m,h]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{s&&(p({description:s.description||"",latitude:s.latitude||"",longitude:s.longitude||"",address:s.address||"",region_id:s.region_id||""}),b(s.image_urls||(s.image_url?[s.image_url]:[])))},[s]);return s?(0,At.jsxs)($t,{isOpen:n,onClose:r,title:"Edit ONU",size:"lg",children:[(0,At.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,At.jsxs)("p",{className:"text-sm",children:[(0,At.jsx)("strong",{children:"MAC:"})," ",s.mac_address]}),(0,At.jsxs)("p",{className:"text-sm",children:[(0,At.jsx)("strong",{children:"Port:"})," 0/",s.pon_port,":",s.onu_id]}),(0,At.jsxs)("p",{className:"text-sm",children:[(0,At.jsx)("strong",{children:"OLT:"})," ",s.olt_name]})]}),(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);try{const e={description:u.description||null,latitude:u.latitude?parseFloat(u.latitude):null,longitude:u.longitude?parseFloat(u.longitude):null,address:u.address||null,region_id:u.region_id?parseInt(u.region_id):null};await l(s.id,e),r()}catch(a){var t,n;alert("Failed to update ONU: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}finally{h(!1)}},children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name / Description"}),(0,At.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:u.description,onChange:e=>p(d(d({},u),{},{description:e.target.value})),placeholder:"Customer name or description"}),(0,At.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This will be synced to the OLT device"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),(0,At.jsxs)("div",{className:"relative",children:[(0,At.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 pl-10 focus:ring-2 focus:ring-blue-500 appearance-none",value:u.region_id,onChange:e=>p(d(d({},u),{},{region_id:e.target.value})),children:[(0,At.jsx)("option",{value:"",children:"No Region"}),c&&c.map(e=>(0,At.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,At.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:u.region_id&&(null===c||void 0===c||null===(t=c.find(e=>e.id===parseInt(u.region_id)))||void 0===t?void 0:t.color)||"#E5E7EB"}}),(0,At.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,At.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),(0,At.jsx)("input",{type:"number",step:"any",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:u.latitude,onChange:e=>p(d(d({},u),{},{latitude:e.target.value})),placeholder:"24.7136"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),(0,At.jsx)("input",{type:"number",step:"any",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:u.longitude,onChange:e=>p(d(d({},u),{},{longitude:e.target.value})),placeholder:"46.6753"})]})]}),u.latitude&&u.longitude&&(0,At.jsxs)("button",{type:"button",onClick:()=>{u.latitude&&u.longitude&&window.open("https://www.google.com/maps?q=".concat(u.latitude,",").concat(u.longitude),"_blank")},className:"w-full py-2 px-4 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 flex items-center justify-center",children:[(0,At.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Open in Google Maps"]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,At.jsx)("textarea",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",rows:"2",value:u.address,onChange:e=>p(d(d({},u),{},{address:e.target.value})),placeholder:"Street address, building, etc."})]}),(0,At.jsxs)("div",{children:[(0,At.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Building/Location Images (",g.length,"/3)"]}),g.length>0&&(0,At.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:g.map((e,t)=>(0,At.jsxs)("div",{className:"relative",children:[(0,At.jsx)("img",{src:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"").concat(e),alt:"Building ".concat(t+1),className:"w-full h-24 object-cover rounded-lg border"}),(0,At.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("Delete this image?")){x(!0);try{const t=await i(s.id,e);b(t.image_urls||[])}catch(r){var t,n;alert("Failed to delete image: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}finally{x(!1)}}})(t),disabled:f,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 disabled:opacity-50",children:(0,At.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),g.length<3&&(0,At.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,At.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,At.jsx)("div",{className:"flex flex-col items-center justify-center py-2",children:f?(0,At.jsx)("div",{className:"text-gray-500",children:"Uploading..."}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-6 h-6 mb-1 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,At.jsxs)("p",{className:"text-xs text-gray-500",children:["Add image (",3-g.length," remaining)"]}),(0,At.jsx)("p",{className:"text-xs text-gray-400",children:"JPG, PNG, GIF up to 5MB"})]})}),(0,At.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("Image must be less than 5MB");else if(g.length>=3)alert("Maximum 3 images allowed. Delete an existing image first.");else{x(!0);try{const e=await o(s.id,t);b(e.image_urls||[...g,e.image_url])}catch(a){var n,r;alert("Failed to upload image: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message))}finally{x(!1)}}else alert("Please select an image file")},disabled:f})]})}),f&&(0,At.jsx)("div",{className:"mt-2 text-center text-gray-500",children:"Processing..."})]})]}),(0,At.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,At.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,At.jsx)("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Saving...":"Save Changes"})]})]})]}):null}function Zt(e){let{isOpen:t,onClose:n,region:r,onSubmit:s}=e;const[l,o]=(0,a.useState)({name:"",description:"",color:"#3B82F6"}),[i,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o(r?{name:r.name||"",description:r.description||"",color:r.color||"#3B82F6"}:{name:"",description:"",color:"#3B82F6"})},[r]);return(0,At.jsx)($t,{isOpen:t,onClose:n,title:r?"Edit Region":"Add Region",children:(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e={name:l.name,description:l.description||null,color:l.color};await s(e,null===r||void 0===r?void 0:r.id),n()}catch(o){var t,a;alert("Failed to save region: "+((null===(t=o.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||o.message))}finally{c(!1)}},children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,At.jsx)("input",{type:"text",required:!0,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:l.name,onChange:e=>o(d(d({},l),{},{name:e.target.value})),placeholder:"Region name"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,At.jsx)("textarea",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",rows:"2",value:l.description,onChange:e=>o(d(d({},l),{},{description:e.target.value})),placeholder:"Optional description"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"flex gap-2 flex-wrap",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"].map(e=>(0,At.jsx)("button",{type:"button",onClick:()=>o(d(d({},l),{},{color:e})),className:"w-8 h-8 rounded-full border-2 transition-transform hover:scale-110 ".concat(l.color===e?"border-gray-800 ring-2 ring-offset-2 ring-gray-400":"border-gray-300"),style:{backgroundColor:e}},e))}),(0,At.jsx)("input",{type:"color",value:l.color,onChange:e=>o(d(d({},l),{},{color:e.target.value})),className:"w-10 h-10 rounded cursor-pointer border-0",title:"Custom color"})]})]})]}),(0,At.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,At.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,At.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Saving...":"Save"})]})]})})}function en(e){let{isOpen:t,onClose:n,user:r,onSubmit:s,olts:l}=e;const[o,i]=(0,a.useState)({username:"",password:"",full_name:"",role:"operator",is_active:!0,assigned_olt_ids:[]}),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i(r?{username:r.username||"",password:"",full_name:r.full_name||"",role:r.role||"operator",is_active:!1!==r.is_active,assigned_olt_ids:r.assigned_olt_ids||[]}:{username:"",password:"",full_name:"",role:"operator",is_active:!0,assigned_olt_ids:[]})},[r]);return(0,At.jsx)($t,{isOpen:t,onClose:n,title:r?"Edit User":"Add User",size:"lg",children:(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{const e=d({},o);r&&!e.password&&delete e.password,await s(e,null===r||void 0===r?void 0:r.id),n()}catch(l){var t,a;alert("Failed to save user: "+((null===(t=l.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||l.message))}finally{u(!1)}},children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),(0,At.jsx)("input",{type:"text",required:!0,disabled:!!r,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",value:o.username,onChange:e=>i(d(d({},o),{},{username:e.target.value}))})]}),(0,At.jsxs)("div",{children:[(0,At.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r?"(leave blank to keep current)":"*"]}),(0,At.jsx)("input",{type:"password",required:!r,className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.password,onChange:e=>i(d(d({},o),{},{password:e.target.value}))})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,At.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.full_name,onChange:e=>i(d(d({},o),{},{full_name:e.target.value}))})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,At.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm border p-3 focus:ring-2 focus:ring-blue-500",value:o.role,onChange:e=>i(d(d({},o),{},{role:e.target.value})),children:[(0,At.jsx)("option",{value:"admin",children:"Admin"}),(0,At.jsx)("option",{value:"operator",children:"Operator"})]})]}),(0,At.jsx)("div",{className:"flex items-center pt-6",children:(0,At.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:o.is_active,onChange:e=>i(d(d({},o),{},{is_active:e.target.checked}))}),(0,At.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),"operator"===o.role&&(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned OLTs"}),(0,At.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Operators can only see ONUs from assigned OLTs"}),(0,At.jsx)("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:l.map(e=>(0,At.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,At.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:o.assigned_olt_ids.includes(e.id),onChange:()=>(e=>{const t=o.assigned_olt_ids.includes(e)?o.assigned_olt_ids.filter(t=>t!==e):[...o.assigned_olt_ids,e];i(d(d({},o),{},{assigned_olt_ids:t}))})(e.id)}),(0,At.jsxs)("span",{className:"ml-2 text-sm",children:[e.name," (",e.ip_address,")"]})]},e.id))})]})]}),(0,At.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,At.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,At.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?"Saving...":"Save"})]})]})})}function tn(e){var t,n,r,s;let{isOpen:l,onClose:o,settings:i,onSubmit:c,onChangePassword:u,licenseInfo:p,defaultTab:m="general"}=e;const h=(0,a.useContext)(Ut),[f,x]=(0,a.useState)({system_name:"OLT Manager",page_name:"",polling_interval:300,whatsapp_enabled:!1,whatsapp_api_url:"",whatsapp_secret:"",whatsapp_account:"",whatsapp_recipients:[],trap_enabled:!0,trap_port:162}),[g,b]=(0,a.useState)({current_password:"",new_password:"",confirm_password:""}),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),[S,_]=(0,a.useState)(m),[C,L]=(0,a.useState)({name:"",phone:""}),[O,E]=(0,a.useState)(!1),[P,M]=(0,a.useState)(null),[T,R]=(0,a.useState)(null),[D,V]=(0,a.useState)(!1),[F,z]=(0,a.useState)(!1),[B,A]=(0,a.useState)(""),[U,I]=(0,a.useState)(""),[W,H]=(0,a.useState)(!1),[G,q]=(0,a.useState)(null),[X,$]=(0,a.useState)(null),[Q,K]=(0,a.useState)(!1),[J,Y]=(0,a.useState)(null);(0,a.useEffect)(()=>{l&&_(m)},[l,m]),(0,a.useEffect)(()=>{(async()=>{try{const e=await Rt.get("/api/dev/status");if(z(e.data.is_dev_server),e.data.current_version){const t=e.data.current_version.split(".");t[2]=parseInt(t[2]||0)+1,A(t.join("."))}}catch(e){z(!1)}})()},[]),(0,a.useEffect)(()=>{if(i){let t=[];try{i.whatsapp_recipients&&(t=JSON.parse(i.whatsapp_recipients),Array.isArray(t)||(t=[]))}catch(e){t=[]}x({system_name:i.system_name||"OLT Manager",page_name:i.page_name||"OLT Manager",polling_interval:i.polling_interval||300,whatsapp_enabled:"true"===String(i.whatsapp_enabled).toLowerCase()||!0===i.whatsapp_enabled,whatsapp_api_url:i.whatsapp_api_url||"https://proxsms.com/api/send/whatsapp",whatsapp_secret:i.whatsapp_secret||"",whatsapp_account:i.whatsapp_account||"",whatsapp_recipients:t,trap_enabled:"true"===String(i.trap_enabled).toLowerCase()||!0===i.trap_enabled,trap_port:i.trap_port||162})}},[i]);const Z=async()=>{try{K(!0),Y(null);const e=await Rt.get("/api/tunnel/status");$(e.data)}catch(r){var e,t,n;if(501===(null===(e=r.response)||void 0===e?void 0:e.status))$({available:!1,message:"Remote access feature not available on this installation"});else Y((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to get tunnel status")}finally{K(!1)}};(0,a.useEffect)(()=>{"tunnel"===S&&Z()},[S]);const ee=async e=>{e.preventDefault(),y(!0);try{const e=d(d({},f),{},{whatsapp_recipients:JSON.stringify(f.whatsapp_recipients)});await c(e),alert("Settings saved successfully")}catch(r){var t,n;alert("Failed to save settings: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}finally{y(!1)}};return(0,At.jsxs)($t,{isOpen:l,onClose:o,title:"Settings",size:"lg",children:[(0,At.jsxs)("div",{className:"flex border-b mb-4 overflow-x-auto ".concat(h?"border-slate-600":""),children:[(0,At.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("general"===S?"text-blue-600 border-b-2 border-blue-600":h?"text-slate-400":"text-gray-500"),onClick:()=>_("general"),children:"General"}),(0,At.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("whatsapp"===S?"text-blue-600 border-b-2 border-blue-600":h?"text-slate-400":"text-gray-500"),onClick:()=>_("whatsapp"),children:"WhatsApp"}),(0,At.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("password"===S?"text-blue-600 border-b-2 border-blue-600":h?"text-slate-400":"text-gray-500"),onClick:()=>_("password"),children:"Password"}),(0,At.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("license"===S?"text-blue-600 border-b-2 border-blue-600":h?"text-slate-400":"text-gray-500"),onClick:()=>_("license"),children:"License"}),(0,At.jsx)("button",{className:"px-4 py-2 font-medium whitespace-nowrap ".concat("tunnel"===S?"text-blue-600 border-b-2 border-blue-600":h?"text-slate-400":"text-gray-500"),onClick:()=>_("tunnel"),children:"Remote Access"})]}),"general"===S&&(0,At.jsxs)("form",{onSubmit:ee,children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"System Name"}),(0,At.jsx)("input",{type:"text",className:"w-full rounded-lg shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(h?"bg-slate-700 border-slate-600 text-white":"border-gray-300"),value:f.system_name,onChange:e=>x(d(d({},f),{},{system_name:e.target.value})),placeholder:"OLT Manager"}),(0,At.jsx)("p",{className:"text-xs mt-1 ".concat(h?"text-slate-400":"text-gray-500"),children:"Name displayed in header and browser title"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"Polling Interval (seconds)"}),(0,At.jsx)("input",{type:"number",min:"60",max:"3600",className:"w-full rounded-lg shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(h?"bg-slate-700 border-slate-600 text-white":"border-gray-300"),value:f.polling_interval,onChange:e=>x(d(d({},f),{},{polling_interval:parseInt(e.target.value)}))}),(0,At.jsx)("p",{className:"text-xs mt-1 ".concat(h?"text-slate-400":"text-gray-500"),children:"How often to poll OLTs for ONU status (60-3600 seconds)"})]})]}),(0,At.jsx)("div",{className:"mt-6 flex justify-end",children:(0,At.jsx)("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?"Saving...":"Save Settings"})})]}),"whatsapp"===S&&(0,At.jsxs)("form",{onSubmit:ee,children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border ".concat(h?"bg-green-900/30 border-green-800":"bg-gradient-to-r from-green-50 to-green-100 border-green-200"),children:[(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-3",children:(0,At.jsx)("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold text-lg ".concat(h?"text-green-400":"text-green-800"),children:"WhatsApp Notifications"}),(0,At.jsx)("p",{className:"text-sm ".concat(h?"text-green-300":"text-green-600"),children:"Get alerts when ONUs go offline or come back online"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:f.whatsapp_enabled,onChange:e=>x(d(d({},f),{},{whatsapp_enabled:e.target.checked}))}),(0,At.jsx)("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-green-500"}),(0,At.jsx)("span",{className:"ml-3 text-sm font-medium ".concat(h?"text-slate-300":"text-gray-700"),children:f.whatsapp_enabled?"ON":"OFF"})]})]}),(0,At.jsxs)("div",{className:"space-y-4 p-4 rounded-xl border ".concat(h?f.whatsapp_enabled?"bg-slate-700 border-slate-600":"bg-slate-700/50 border-slate-600":f.whatsapp_enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-100"),children:[(0,At.jsxs)("h4",{className:"font-medium flex items-center ".concat(h?"text-slate-300":"text-gray-700"),children:[(0,At.jsxs)("svg",{className:"w-5 h-5 mr-2 ".concat(h?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"API Configuration"]}),(0,At.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"API URL"}),(0,At.jsx)("input",{type:"url",className:"w-full rounded-lg border shadow-sm p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 ".concat(h?"bg-slate-600 border-slate-500 text-white":"border-gray-300"," ").concat(f.whatsapp_enabled?"":h?"bg-slate-600/50 text-slate-400":"bg-gray-100 text-gray-500"),value:f.whatsapp_api_url,onChange:e=>x(d(d({},f),{},{whatsapp_api_url:e.target.value})),placeholder:"https://proxsms.com/api/send/whatsapp"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"Secret Key"}),(0,At.jsx)("input",{type:"password",className:"w-full rounded-lg border shadow-sm p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 ".concat(h?"bg-slate-600 border-slate-500 text-white":"border-gray-300"," ").concat(f.whatsapp_enabled?"":h?"bg-slate-600/50 text-slate-400":"bg-gray-100 text-gray-500"),value:f.whatsapp_secret,onChange:e=>x(d(d({},f),{},{whatsapp_secret:e.target.value})),placeholder:"Your ProxSMS secret key"})]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"Device ID (Account)"}),(0,At.jsx)("input",{type:"text",className:"w-full rounded-lg border shadow-sm p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 ".concat(h?"bg-slate-600 border-slate-500 text-white":"border-gray-300"," ").concat(f.whatsapp_enabled?"":h?"bg-slate-600/50 text-slate-400":"bg-gray-100 text-gray-500"),value:f.whatsapp_account,onChange:e=>x(d(d({},f),{},{whatsapp_account:e.target.value})),placeholder:"Your WhatsApp device ID"})]})]}),(0,At.jsxs)("div",{className:"space-y-4 p-4 rounded-xl border ".concat(h?f.whatsapp_enabled?"bg-slate-700 border-slate-600":"bg-slate-700/50 border-slate-600":f.whatsapp_enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-100"),children:[(0,At.jsxs)("h4",{className:"font-medium flex items-center ".concat(h?"text-slate-300":"text-gray-700"),children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(h?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Recipients (",f.whatsapp_recipients.length,")"]}),(0,At.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,At.jsx)("input",{type:"text",placeholder:"Name",className:"flex-1 rounded-lg border shadow-sm p-2.5 text-sm focus:ring-2 focus:ring-green-500 ".concat(h?"bg-slate-600 border-slate-500 text-white placeholder-slate-400":"border-gray-300"," ").concat(f.whatsapp_enabled?"":h?"bg-slate-600/50 text-slate-400":"bg-gray-100 text-gray-500"),value:C.name,onChange:e=>L(d(d({},C),{},{name:e.target.value}))}),(0,At.jsx)("input",{type:"tel",placeholder:"Phone (+961...)",className:"flex-1 rounded-lg border shadow-sm p-2.5 text-sm focus:ring-2 focus:ring-green-500 ".concat(h?"bg-slate-600 border-slate-500 text-white placeholder-slate-400":"border-gray-300"," ").concat(f.whatsapp_enabled?"":h?"bg-slate-600/50 text-slate-400":"bg-gray-100 text-gray-500"),value:C.phone,onChange:e=>L(d(d({},C),{},{phone:e.target.value}))}),(0,At.jsxs)("button",{type:"button",onClick:()=>{C.name.trim()&&C.phone.trim()?(x(d(d({},f),{},{whatsapp_recipients:[...f.whatsapp_recipients,d({},C)]})),L({name:"",phone:""})):alert("Please enter both name and phone number")},disabled:!f.whatsapp_enabled,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 text-sm font-medium",children:[(0,At.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),"Add"]})]}),f.whatsapp_recipients.length>0?(0,At.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.whatsapp_recipients.map((e,t)=>(0,At.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border transition-colors ".concat(h?"bg-slate-600 border-slate-500 hover:bg-slate-500":"bg-gray-50 border-gray-100 hover:bg-gray-100"),children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center font-semibold text-sm",children:e.name.charAt(0).toUpperCase()}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium text-sm ".concat(h?"text-white":"text-gray-800"),children:e.name}),(0,At.jsx)("p",{className:"text-xs ".concat(h?"text-slate-400":"text-gray-500"),children:e.phone})]})]}),(0,At.jsxs)("div",{className:"flex items-center gap-1",children:[(0,At.jsx)("button",{type:"button",onClick:()=>(async(e,t,n)=>{if(f.whatsapp_secret&&f.whatsapp_account){k(n);try{const n=await fetch("/api/whatsapp/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({api_url:f.whatsapp_api_url,secret:f.whatsapp_secret,account:f.whatsapp_account,recipient:e})}),r=await n.json();n.ok?alert("Test message sent to ".concat(t,"!")):alert("Failed to send test message: "+(r.detail||r.message||"Unknown error"))}catch(r){alert("Error sending test message: "+r.message)}finally{k(null)}}else alert("Please fill in API settings first")})(e.phone,e.name,t),disabled:null!==N||!f.whatsapp_enabled,className:"p-1.5 text-green-600 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50",title:"Send test message",children:N===t?(0,At.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,At.jsx)("button",{type:"button",onClick:()=>(e=>{const t=f.whatsapp_recipients.filter((t,n)=>n!==e);x(d(d({},f),{},{whatsapp_recipients:t}))})(t),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Remove recipient",children:(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t))}):(0,At.jsxs)("div",{className:"text-center py-6 ".concat(h?"text-slate-500":"text-gray-400"),children:[(0,At.jsx)("svg",{className:"w-10 h-10 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),(0,At.jsx)("p",{className:"text-sm",children:"No recipients added yet"}),(0,At.jsx)("p",{className:"text-xs",children:"Add recipients to receive notifications"})]})]})]}),(0,At.jsx)("div",{className:"mt-6 flex justify-end",children:(0,At.jsx)("button",{type:"submit",disabled:v,className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 font-medium transition-colors",children:v?"Saving...":"Save WhatsApp Settings"})})]}),"password"===S&&(0,At.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.new_password===g.confirm_password){y(!0);try{await u({current_password:g.current_password,new_password:g.new_password}),alert("Password changed successfully"),b({current_password:"",new_password:"",confirm_password:""})}catch(r){var t,n;alert("Failed to change password: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}finally{y(!1)}}else alert("Passwords do not match")},children:[(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"Current Password"}),(0,At.jsx)("input",{type:"password",required:!0,className:"w-full rounded-lg shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(h?"bg-slate-700 border-slate-600 text-white":"border-gray-300"),value:g.current_password,onChange:e=>b(d(d({},g),{},{current_password:e.target.value}))})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"New Password"}),(0,At.jsx)("input",{type:"password",required:!0,minLength:"6",className:"w-full rounded-lg shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(h?"bg-slate-700 border-slate-600 text-white":"border-gray-300"),value:g.new_password,onChange:e=>b(d(d({},g),{},{new_password:e.target.value}))})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(h?"text-slate-300":"text-gray-700"),children:"Confirm New Password"}),(0,At.jsx)("input",{type:"password",required:!0,className:"w-full rounded-lg shadow-sm border p-3 focus:ring-2 focus:ring-blue-500 ".concat(h?"bg-slate-700 border-slate-600 text-white":"border-gray-300"),value:g.confirm_password,onChange:e=>b(d(d({},g),{},{confirm_password:e.target.value}))})]})]}),(0,At.jsx)("div",{className:"mt-6 flex justify-end",children:(0,At.jsx)("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?"Changing...":"Change Password"})})]}),"license"===S&&(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsx)("div",{className:"p-4 rounded-xl border ".concat("active"===(null===p||void 0===p?void 0:p.status)?h?"bg-green-900/30 border-green-800":"bg-green-50 border-green-200":"suspended"===(null===p||void 0===p?void 0:p.status)?h?"bg-yellow-900/30 border-yellow-800":"bg-yellow-50 border-yellow-200":"expired"===(null===p||void 0===p?void 0:p.status)?h?"bg-red-900/30 border-red-800":"bg-red-50 border-red-200":h?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"),children:(0,At.jsxs)("div",{className:"flex items-center justify-between",children:[(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3 ".concat("active"===(null===p||void 0===p?void 0:p.status)?"bg-green-500":"suspended"===(null===p||void 0===p?void 0:p.status)?"bg-yellow-500":"expired"===(null===p||void 0===p?void 0:p.status)?"bg-red-500":"bg-gray-500"),children:"active"===(null===p||void 0===p?void 0:p.status)?(0,At.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"suspended"===(null===p||void 0===p?void 0:p.status)?(0,At.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):(0,At.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold text-lg ".concat("active"===(null===p||void 0===p?void 0:p.status)?h?"text-green-400":"text-green-800":"suspended"===(null===p||void 0===p?void 0:p.status)?h?"text-yellow-400":"text-yellow-800":"expired"===(null===p||void 0===p?void 0:p.status)?h?"text-red-400":"text-red-800":h?"text-slate-300":"text-gray-800"),children:"active"===(null===p||void 0===p?void 0:p.status)?"License Active":"suspended"===(null===p||void 0===p?void 0:p.status)?"License Suspended":"expired"===(null===p||void 0===p?void 0:p.status)?"License Expired":"License Invalid"}),(0,At.jsx)("p",{className:"text-sm ".concat("active"===(null===p||void 0===p?void 0:p.status)?h?"text-green-300":"text-green-600":"suspended"===(null===p||void 0===p?void 0:p.status)?h?"text-yellow-300":"text-yellow-600":"expired"===(null===p||void 0===p?void 0:p.status)?h?"text-red-300":"text-red-600":h?"text-slate-400":"text-gray-600"),children:(null===p||void 0===p?void 0:p.customer_name)||"Unknown"})]})]}),(0,At.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===(null===p||void 0===p?void 0:p.status)?"bg-green-200 text-green-800":"suspended"===(null===p||void 0===p?void 0:p.status)?"bg-yellow-200 text-yellow-800":"expired"===(null===p||void 0===p?void 0:p.status)?"bg-red-200 text-red-800":"bg-gray-200 text-gray-800"),children:(null===p||void 0===p||null===(t=p.license_type)||void 0===t?void 0:t.toUpperCase())||(null===p||void 0===p||null===(n=p.package_type)||void 0===n?void 0:n.toUpperCase())||"STANDARD"})]})}),(0,At.jsxs)("div",{className:"border rounded-xl p-4 ".concat(h?"bg-slate-700 border-slate-600":"bg-white border-gray-200"),children:[(0,At.jsxs)("h4",{className:"font-medium mb-4 flex items-center ".concat(h?"text-slate-200":"text-gray-700"),children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(h?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"License Details"]}),(0,At.jsxs)("div",{className:"space-y-3",children:[(0,At.jsxs)("div",{className:"flex justify-between items-center py-2 border-b ".concat(h?"border-slate-600":"border-gray-100"),children:[(0,At.jsx)("span",{className:h?"text-slate-300":"text-gray-600",children:"License Key"}),(0,At.jsx)("span",{className:"font-mono text-sm px-2 py-1 rounded ".concat(h?"bg-slate-600 text-slate-200":"bg-gray-100"),children:(null===p||void 0===p?void 0:p.license_key)||"N/A"})]}),(0,At.jsxs)("div",{className:"flex justify-between items-center py-2 border-b ".concat(h?"border-slate-600":"border-gray-100"),children:[(0,At.jsx)("span",{className:h?"text-slate-300":"text-gray-600",children:"Status"}),(0,At.jsx)("span",{className:"font-medium ".concat("active"===(null===p||void 0===p?void 0:p.status)?"text-green-600":"suspended"===(null===p||void 0===p?void 0:p.status)?"text-yellow-600":"text-red-600"),children:(null===p||void 0===p||null===(r=p.status)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===p||void 0===p||null===(s=p.status)||void 0===s?void 0:s.slice(1))||"Unknown"})]}),(0,At.jsxs)("div",{className:"flex justify-between items-center py-2 border-b ".concat(h?"border-slate-600":"border-gray-100"),children:[(0,At.jsx)("span",{className:h?"text-slate-300":"text-gray-600",children:"Expires"}),(0,At.jsx)("span",{className:"font-medium ".concat(h?"text-white":""),children:null!==p&&void 0!==p&&p.expires_at?new Date(p.expires_at).toLocaleDateString():"Never"})]}),(0,At.jsxs)("div",{className:"flex justify-between items-center py-2 border-b ".concat(h?"border-slate-600":"border-gray-100"),children:[(0,At.jsx)("span",{className:h?"text-slate-300":"text-gray-600",children:"Days Remaining"}),(0,At.jsx)("span",{className:"font-bold text-lg ".concat((null===p||void 0===p?void 0:p.days_remaining)<=7?"text-red-600":(null===p||void 0===p?void 0:p.days_remaining)<=30?"text-yellow-600":"text-green-600"),children:void 0!==(null===p||void 0===p?void 0:p.days_remaining)?p.days_remaining<0?"Expired":0===p.days_remaining?"Expires Today":"".concat(p.days_remaining," days"):"Unlimited"})]})]})]}),(0,At.jsxs)("div",{className:"border rounded-xl p-4 ".concat(h?"bg-slate-700 border-slate-600":"bg-white border-gray-200"),children:[(0,At.jsxs)("h4",{className:"font-medium mb-4 flex items-center ".concat(h?"text-slate-200":"text-gray-700"),children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(h?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"License Limits"]}),(0,At.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,At.jsxs)("div",{className:"text-center p-3 rounded-lg ".concat(h?"bg-blue-900/30":"bg-blue-50"),children:[(0,At.jsx)("div",{className:"text-2xl font-bold ".concat(h?"text-blue-400":"text-blue-600"),children:(null===p||void 0===p?void 0:p.max_olts)||0}),(0,At.jsx)("div",{className:"text-sm ".concat(h?"text-blue-300":"text-blue-700"),children:"Max OLTs"})]}),(0,At.jsxs)("div",{className:"text-center p-3 rounded-lg ".concat(h?"bg-purple-900/30":"bg-purple-50"),children:[(0,At.jsx)("div",{className:"text-2xl font-bold ".concat(h?"text-purple-400":"text-purple-600"),children:(null===p||void 0===p?void 0:p.max_onus)||0}),(0,At.jsx)("div",{className:"text-sm ".concat(h?"text-purple-300":"text-purple-700"),children:"Max ONUs"})]}),(0,At.jsxs)("div",{className:"text-center p-3 rounded-lg ".concat(h?"bg-teal-900/30":"bg-teal-50"),children:[(0,At.jsx)("div",{className:"text-2xl font-bold ".concat(h?"text-teal-400":"text-teal-600"),children:(null===p||void 0===p?void 0:p.max_users)||0}),(0,At.jsx)("div",{className:"text-sm ".concat(h?"text-teal-300":"text-teal-700"),children:"Max Users"})]})]})]}),(null===p||void 0===p?void 0:p.features)&&p.features.length>0&&(0,At.jsxs)("div",{className:"border rounded-xl p-4 ".concat(h?"bg-slate-700 border-slate-600":"bg-white border-gray-200"),children:[(0,At.jsxs)("h4",{className:"font-medium mb-3 flex items-center ".concat(h?"text-slate-200":"text-gray-700"),children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(h?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Included Features"]}),(0,At.jsx)("div",{className:"flex flex-wrap gap-2",children:p.features.map((e,t)=>(0,At.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(h?"bg-green-900/40 text-green-400":"bg-green-100 text-green-700"),children:e.charAt(0).toUpperCase()+e.slice(1)},t))})]}),(0,At.jsx)("div",{className:"border rounded-xl p-4 ".concat(h?"bg-slate-700/50 border-slate-600":"bg-gray-50 border-gray-200"),children:(0,At.jsxs)("div",{className:"flex justify-between items-center",children:[(0,At.jsx)("span",{className:"text-sm ".concat(h?"text-slate-300":"text-gray-600"),children:"Hardware ID"}),(0,At.jsx)("span",{className:"font-mono text-xs ".concat(h?"text-slate-400":"text-gray-500"),children:(null===p||void 0===p?void 0:p.hardware_id)||"N/A"})]})}),(0,At.jsxs)("div",{className:"border rounded-xl p-4 ".concat(h?"bg-slate-700 border-slate-600":"bg-white border-gray-200"),children:[(0,At.jsxs)("h4",{className:"font-medium mb-4 flex items-center ".concat(h?"text-slate-200":"text-gray-700"),children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(h?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Software Updates"]}),(null===P||void 0===P?void 0:P.update_available)&&P.update&&(0,At.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl text-white",children:[(0,At.jsx)("div",{className:"flex items-start justify-between",children:(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mr-3",children:(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h5",{className:"font-bold text-lg",children:"Update Available!"}),(0,At.jsxs)("p",{className:"text-blue-100 text-sm",children:["Version ",P.update.latest_version," is available (You have v",P.current_version,")"]})]})]})}),P.update.changelog&&(0,At.jsxs)("div",{className:"mt-3 p-3 bg-white/10 rounded-lg",children:[(0,At.jsx)("p",{className:"text-sm font-medium mb-1",children:"What's New:"}),(0,At.jsx)("p",{className:"text-sm text-blue-100",children:P.update.changelog})]}),D&&T&&(0,At.jsxs)("div",{className:"mt-4 p-4 bg-white/10 rounded-lg",children:[(0,At.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,At.jsxs)("span",{className:"text-sm font-medium",children:["preparing"===T.stage&&"Preparing update...","downloading"===T.stage&&"Downloading update...","downloaded"===T.stage&&"Download complete","installing"===T.stage&&"Installing update...","restarting"===T.stage&&"Restarting service...","completed"===T.stage&&"Update completed!","error"===T.stage&&"Update failed"]}),(0,At.jsxs)("span",{className:"text-sm",children:[T.progress,"%"]})]}),(0,At.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,At.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("error"===T.stage?"bg-red-400":"completed"===T.stage?"bg-green-400":"bg-white"),style:{width:"".concat(T.progress,"%")}})}),T.error&&(0,At.jsx)("p",{className:"mt-2 text-red-200 text-sm",children:T.error}),"completed"===T.stage&&(0,At.jsx)("p",{className:"mt-2 text-green-200 text-sm",children:"Page will reload automatically..."})]}),(0,At.jsx)("div",{className:"mt-4",children:(0,At.jsxs)("button",{onClick:async()=>{if(window.confirm("This will download and install the update automatically. The system will restart after installation. Continue?")){V(!0),R({stage:"preparing",progress:0});try{R({stage:"downloading",progress:10});const e=await Rt.post("/api/update/download");if(!e.data.success)throw new Error(e.data.message||"Download failed");R({stage:"downloaded",progress:50,version:e.data.version}),R({stage:"installing",progress:60});const t=await Rt.post("/api/update/install");if(!t.data.success)throw new Error(t.data.message||"Installation failed");R({stage:"restarting",progress:95}),setTimeout(()=>{R({stage:"completed",progress:100,message:"Update installed! Reloading page..."}),setTimeout(()=>{window.location.reload()},3e3)},2e3)}catch(n){var e,t;console.error("Update failed:",n),R({stage:"error",progress:0,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message||"Update failed"}),V(!1)}}},disabled:D,className:"inline-flex items-center px-5 py-2.5 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors shadow-lg disabled:opacity-50",children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),D?"Updating...":"Update Now"]})})]}),P&&!P.update_available&&(0,At.jsx)("div",{className:"mb-4 p-4 rounded-xl border ".concat(h?"bg-green-900/30 border-green-800":"bg-green-50 border-green-200"),children:(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("svg",{className:"w-6 h-6 mr-3 ".concat(h?"text-green-400":"text-green-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium ".concat(h?"text-green-400":"text-green-800"),children:"You're up to date!"}),(0,At.jsxs)("p",{className:"text-sm ".concat(h?"text-green-300":"text-green-600"),children:["Version ",P.current_version," is the latest version."]})]})]})}),(0,At.jsx)("button",{onClick:async()=>{E(!0);try{const e=await Ft();M(e.data),e.data.update_available||alert("You are running the latest version (v"+e.data.current_version+")")}catch(n){var e,t;alert("Failed to check for updates: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{E(!1)}},disabled:O,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:O?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking for Updates..."]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Check for Updates"]})})]}),F&&(0,At.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-5 text-white",children:[(0,At.jsxs)("h4",{className:"font-bold text-lg mb-4 flex items-center",children:[(0,At.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Publish Update to Customers"]}),(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm text-purple-200 mb-1",children:"Version Number"}),(0,At.jsx)("input",{type:"text",value:B,onChange:e=>A(e.target.value),placeholder:"1.2.0",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-white/30"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm text-purple-200 mb-1",children:"Changelog"}),(0,At.jsx)("textarea",{value:U,onChange:e=>I(e.target.value),placeholder:"- Fixed bugs\n- Added new features\n- Improved performance",rows:4,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-white/30 resize-none"})]}),G&&(0,At.jsxs)("div",{className:"p-3 rounded-lg ".concat(G.success?"bg-green-500/20 border border-green-400":"bg-red-500/20 border border-red-400"),children:[(0,At.jsx)("p",{className:"font-medium",children:G.success?"Success!":"Failed"}),(0,At.jsx)("p",{className:"text-sm",children:G.message}),G.steps&&(0,At.jsx)("ul",{className:"mt-2 text-sm space-y-1",children:G.steps.map((e,t)=>(0,At.jsxs)("li",{className:"flex items-center",children:[(0,At.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e]},t))})]}),(0,At.jsx)("button",{onClick:async()=>{if(B&&U){if(window.confirm("Publish version ".concat(B," to all customers?\n\nChangelog:\n").concat(U))){H(!0),q(null);try{const e=await(n=B,r=U,Rt.post("/api/dev/publish",{version:n,changelog:r},{timeout:6e5}));q({success:!0,message:e.data.message,steps:e.data.steps});const t=B.split(".");t[2]=parseInt(t[2]||0)+1,A(t.join(".")),I("")}catch(a){var e,t;q({success:!1,message:(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message||"Publish failed"})}finally{H(!1)}var n,r}}else alert("Please enter version number and changelog")},disabled:W||!B||!U,className:"w-full py-3 bg-white text-purple-600 font-bold rounded-lg hover:bg-purple-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:W?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Building & Publishing..."]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Build & Publish Update"]})}),(0,At.jsx)("p",{className:"text-xs text-purple-200 text-center",children:"This will build frontend, create package, and upload to license server"})]})]})]}),"tunnel"===S&&(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsx)("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 rounded-xl p-5 text-white",children:(0,At.jsxs)("div",{className:"flex items-center mb-3",children:[(0,At.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h4",{className:"font-bold text-lg",children:"Remote Access"}),(0,At.jsx)("p",{className:"text-cyan-100 text-sm",children:"Access your OLT Manager from anywhere via secure tunnel"})]})]})}),Q&&(0,At.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,At.jsxs)("svg",{className:"w-8 h-8 animate-spin text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,At.jsx)("span",{className:"ml-3 ".concat(h?"text-slate-300":"text-gray-600"),children:"Loading tunnel status..."})]}),J&&(0,At.jsxs)("div",{className:"p-4 rounded-xl border ".concat(h?"bg-red-900/30 border-red-800":"bg-red-50 border-red-200"),children:[(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("svg",{className:"w-6 h-6 mr-3 ".concat(h?"text-red-400":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium ".concat(h?"text-red-400":"text-red-800"),children:"Error"}),(0,At.jsx)("p",{className:"text-sm ".concat(h?"text-red-300":"text-red-600"),children:J})]})]}),(0,At.jsx)("button",{onClick:Z,className:"mt-3 px-4 py-2 rounded-lg transition-colors ".concat(h?"bg-red-900/50 text-red-300 hover:bg-red-900/70":"bg-red-100 text-red-700 hover:bg-red-200"),children:"Retry"})]}),!Q&&!1===(null===X||void 0===X?void 0:X.available)&&(0,At.jsx)("div",{className:"p-4 rounded-xl border ".concat(h?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"),children:(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("svg",{className:"w-6 h-6 mr-3 ".concat(h?"text-slate-400":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),(0,At.jsx)("p",{className:h?"text-slate-300":"text-gray-600",children:X.message||"Remote access feature is not available"})]})}),!Q&&!J&&X&&!1!==X.available&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("div",{className:"p-4 rounded-xl border ".concat(X.running?h?"bg-green-900/30 border-green-800":"bg-green-50 border-green-200":h?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"),children:(0,At.jsxs)("div",{className:"flex items-center justify-between",children:[(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("div",{className:"w-4 h-4 rounded-full mr-3 ".concat(X.running?"bg-green-500 animate-pulse":h?"bg-slate-500":"bg-gray-400")}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-semibold ".concat(h?"text-white":"text-gray-800"),children:X.running?"Tunnel Active":"Tunnel Inactive"}),(0,At.jsx)("p",{className:"text-sm ".concat(h?"text-slate-400":"text-gray-500"),children:X.running?"Remote access is enabled":"Click enable to start remote access"})]})]}),(0,At.jsx)("button",{onClick:X.running?async()=>{try{K(!0),Y(null);const e=await Rt.post("/api/tunnel/disable");e.data.success?await Z():Y(e.data.error||"Failed to disable tunnel")}catch(n){var e,t;Y((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to disable tunnel")}finally{K(!1)}}:async()=>{try{K(!0),Y(null);const e=await Rt.post("/api/tunnel/enable",{},{timeout:12e4});e.data.success?($(d(d({},X),{},{running:!0,url:e.data.url,subdomain:e.data.subdomain})),await Z()):Y(e.data.error||"Failed to enable tunnel")}catch(a){var e,t,n,r;Y((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to enable tunnel")}finally{K(!1)}},disabled:Q,className:"px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 ".concat(X.running?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-600 text-white hover:bg-green-700"),children:Q?"Please wait...":X.running?"Disable":"Enable"})]})}),X.running&&X.url&&(0,At.jsxs)("div",{className:"p-4 rounded-xl border ".concat(h?"bg-blue-900/30 border-blue-800":"bg-blue-50 border-blue-200"),children:[(0,At.jsxs)("h5",{className:"font-semibold mb-3 flex items-center ".concat(h?"text-blue-400":"text-blue-800"),children:[(0,At.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Your Remote Access URL"]}),(0,At.jsx)("div",{className:"p-3 rounded-lg border ".concat(h?"bg-slate-700 border-blue-700":"bg-white border-blue-100"),children:(0,At.jsxs)("div",{className:"flex items-center justify-between",children:[(0,At.jsx)("a",{href:X.url,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-lg break-all ".concat(h?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"),children:X.url}),(0,At.jsx)("button",{onClick:()=>{const e=X.url,t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?alert("URL copied to clipboard!"):prompt("Copy this URL:",e)}catch(n){prompt("Copy this URL:",e)}document.body.removeChild(t)},className:"ml-3 p-2 rounded-lg transition-colors flex-shrink-0 ".concat(h?"bg-blue-900/50 text-blue-400 hover:bg-blue-900/70":"bg-blue-100 text-blue-600 hover:bg-blue-200"),title:"Copy URL",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),(0,At.jsx)("p",{className:"text-sm mt-2 ".concat(h?"text-blue-300":"text-blue-600"),children:"Share this URL to access your OLT Manager from anywhere in the world."})]}),(0,At.jsx)("div",{className:"p-4 rounded-xl border ".concat(h?"bg-cyan-900/30 border-cyan-800":"bg-cyan-50 border-cyan-200"),children:(0,At.jsxs)("div",{className:"flex items-start",children:[(0,At.jsx)("svg",{className:"w-6 h-6 mt-0.5 mr-3 flex-shrink-0 ".concat(h?"text-cyan-400":"text-cyan-600"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,At.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium ".concat(h?"text-cyan-400":"text-cyan-800"),children:"How Remote Access Works"}),(0,At.jsxs)("ul",{className:"text-sm mt-2 space-y-1 list-disc ml-4 ".concat(h?"text-cyan-300":"text-cyan-700"),children:[(0,At.jsx)("li",{children:"Creates a secure encrypted reverse SSH tunnel"}),(0,At.jsx)("li",{children:"No need to open ports or configure firewall"}),(0,At.jsx)("li",{children:"Works from any network, even behind NAT"}),(0,At.jsx)("li",{children:"Managed by your service provider for remote support"})]})]})]})})]})]})]})}function nn(e){var t;let{isOpen:n,onClose:r,entityType:s,entityId:l,entityName:o,token:i}=e;const[c,d]=(0,a.useState)("1h"),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[f,x]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),v=(0,a.useRef)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(null),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e>=1e6?"".concat((e/1e6).toFixed(t)," Gbps"):e>=1e3?"".concat((e/1e3).toFixed(t)," Mbps"):"".concat(e.toFixed(0)," Kbps")},N=(0,a.useCallback)(async()=>{if(n&&l){p(!0),x(null);try{let e;if("onu"===s)e="/api/traffic/history/onu/".concat(l,"?range=").concat(c);else if("pon"===s){const[t,n]=l.split(":");e="/api/traffic/history/pon/".concat(t,"/").concat(n,"?range=").concat(c)}else if("olt"===s)e="/api/traffic/history/olt/".concat(l,"?range=").concat(c);else if("port"===s){const[t,n,r]=l.split(":");e="/api/olts/".concat(t,"/ports/").concat(n,"/").concat(r,"/traffic?range=").concat(c)}const t=await(e=>Rt.get(e))(e);h(t.data)}catch(r){var e,t;x((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to load traffic data")}finally{p(!1)}}},[n,l,s,c]);(0,a.useEffect)(()=>{N()},[N]),(0,a.useEffect)(()=>{if(!m||!m.data||0===m.data.length||!v.current)return;const e=v.current,t=e.getContext("2d");y.current&&(y.current=null);const n=e.parentElement,r=window.devicePixelRatio||1,a=n.clientWidth;e.width=a*r,e.height=320*r,e.style.width=a+"px",e.style.height="320px",t.scale(r,r);const s=a,l={top:50,right:30,bottom:50,left:70},o=s-l.left-l.right,i=320-l.top-l.bottom;t.fillStyle="#0f172a",t.fillRect(0,0,s,320);const d=m.data,u=d.map(e=>e.rx_kbps),p=d.map(e=>e.tx_kbps),h=[...u,...p],f=Math.max(...h,100),x=Math.pow(10,Math.floor(Math.log10(f))),g=Math.ceil(f/x)*x*1.1;t.strokeStyle="rgba(71, 85, 105, 0.3)",t.lineWidth=.5;for(let c=0;c<=10;c++){const e=l.top+i/10*c;t.beginPath(),t.moveTo(l.left,e),t.lineTo(s-l.right,e),t.stroke()}t.strokeStyle="rgba(100, 116, 139, 0.5)",t.lineWidth=1;for(let c=0;c<=5;c++){const e=l.top+i/5*c;t.beginPath(),t.moveTo(l.left,e),t.lineTo(s-l.right,e),t.stroke();const n=g-g/5*c;t.fillStyle="#94a3b8",t.font='bold 11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',t.textAlign="right",t.textBaseline="middle",t.fillText(j(n,0),l.left-10,e)}const b=Math.min(8,d.length);for(let c=0;c<=b;c++){const e=l.left+o/b*c;t.strokeStyle="rgba(71, 85, 105, 0.3)",t.lineWidth=.5,t.beginPath(),t.moveTo(e,l.top),t.lineTo(e,l.top+i),t.stroke()}const w=Math.min(6,d.length);if(t.fillStyle="#94a3b8",t.font='10px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',t.textAlign="center",t.textBaseline="top",w>0&&d.length>0)for(let m=0;m<w;m++){const e=1===w?0:Math.floor((d.length-1)*m/(w-1));if(e>=0&&e<d.length&&d[e]){const n=1===d.length?l.left+o/2:l.left+o*e/(d.length-1),r=new Date(d[e].timestamp);let a;a="1w"===c||"1M"===c?r.toLocaleDateString("en",{month:"short",day:"numeric"}):"24h"===c||"6h"===c?r.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}):r.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),t.fillText(a,n,320-l.bottom+10)}}t.strokeStyle="rgba(100, 116, 139, 0.5)",t.lineWidth=1,t.strokeRect(l.left,l.top,o,i);const N=(e,n,r)=>{if(0===e.length)return;const a=t=>l.left+o*t/Math.max(e.length-1,1),s=e=>l.top+i-e/g*i,c=t.createLinearGradient(0,l.top,0,l.top+i);if(c.addColorStop(0,r[0]),c.addColorStop(1,r[1]),1===e.length){const a=l.left+o/2,i=s(e[0]);return t.beginPath(),t.fillStyle=r[0],t.arc(a,i,8,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle=n,t.arc(a,i,4,0,2*Math.PI),void t.fill()}t.beginPath(),t.moveTo(a(0),s(e[0]));for(let l=1;l<e.length;l++){const n=a(l-1),r=s(e[l-1]),o=a(l),i=s(e[l]),c=(n+o)/2;t.bezierCurveTo(c,r,c,i,o,i)}t.lineTo(a(e.length-1),l.top+i),t.lineTo(a(0),l.top+i),t.closePath(),t.fillStyle=c,t.fill(),t.beginPath(),t.strokeStyle=n,t.lineWidth=2.5,t.lineCap="round",t.lineJoin="round",t.moveTo(a(0),s(e[0]));for(let l=1;l<e.length;l++){const n=a(l-1),r=s(e[l-1]),o=a(l),i=s(e[l]),c=(n+o)/2;t.bezierCurveTo(c,r,c,i,o,i)}t.stroke(),e.length<=30&&e.forEach((e,r)=>{t.beginPath(),t.fillStyle="#0f172a",t.arc(a(r),s(e),4,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle=n,t.arc(a(r),s(e),2.5,0,2*Math.PI),t.fill()})},k=p;N(u,"#22c55e",["rgba(34, 197, 94, 0.4)","rgba(34, 197, 94, 0.02)"]),N(k,"#06b6d4",["rgba(6, 182, 212, 0.35)","rgba(6, 182, 212, 0.02)"]);const S=l.left+10;t.fillStyle="rgba(15, 23, 42, 0.85)",t.strokeStyle="rgba(100, 116, 139, 0.3)",t.lineWidth=1,t.beginPath(),t.roundRect(S,12,200,28,6),t.fill(),t.stroke(),t.fillStyle="#22c55e",t.beginPath(),t.arc(S+15,26,5,0,2*Math.PI),t.fill(),t.fillStyle="#e2e8f0",t.font='bold 11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',t.textAlign="left",t.textBaseline="middle",t.fillText("Download",S+26,26),t.fillStyle="#06b6d4",t.beginPath(),t.arc(S+110,26,5,0,2*Math.PI),t.fill(),t.fillStyle="#e2e8f0",t.fillText("Upload",S+121,26),y.current={points:d,padding:l,chartWidth:o,chartHeight:i,niceMax:g,getX:e=>l.left+o*e/Math.max(d.length-1,1),getY:e=>l.top+i-e/g*i}},[m,c]);const k=(0,a.useCallback)(e=>{if(!y.current||!m||!m.data||0===m.data.length)return void b(null);const t=v.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,{points:a,padding:s,chartWidth:l,chartHeight:o}=y.current;if(n<s.left||n>s.left+l||r<s.top||r>s.top+o)return void b(null);const i=n-s.left,c=Math.round(i/l*(a.length-1));if(c>=0&&c<a.length){const e=a[c],t=y.current.getX(c);b({x:t,y:r,data:e,visible:!0})}},[m]),S=(0,a.useCallback)(()=>{b(null)},[]);if(!n)return null;const _=m&&m.data&&m.data.length>0?(()=>{const e=Math.max(...m.data.map(e=>e.rx_kbps)),t=Math.max(...m.data.map(e=>e.tx_kbps)),n=m.data.reduce((e,t)=>e+t.rx_kbps,0),r=m.data.reduce((e,t)=>e+t.tx_kbps,0);return{maxDownload:e,maxUpload:t,avgDownload:n/m.data.length,avgUpload:r/m.data.length,totalDownload:60*n/8/1024,totalUpload:60*r/8/1024}})():null;return(0,At.jsx)($t,{isOpen:n,onClose:r,title:"Traffic Monitor - ".concat(o),size:"xl",children:(0,At.jsxs)("div",{className:"space-y-4",children:[(0,At.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,At.jsx)("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-xl",children:[{key:"5m",label:"5 Min"},{key:"15m",label:"15 Min"},{key:"30m",label:"30 Min"},{key:"1h",label:"1 Hour"},{key:"6h",label:"6 Hours"},{key:"24h",label:"24 Hours"},{key:"1w",label:"1 Week"},{key:"1M",label:"1 Month"}].map(e=>(0,At.jsx)("button",{onClick:()=>d(e.key),className:"px-3 py-1.5 text-xs font-semibold rounded-lg transition-all duration-200 ".concat(c===e.key?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/25":"text-slate-400 hover:text-white hover:bg-slate-700"),children:e.label},e.key))}),(0,At.jsxs)("button",{onClick:N,disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-4 h-4 ".concat(u?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),(0,At.jsxs)("div",{ref:w,className:"bg-slate-900 rounded-xl border border-slate-700 overflow-hidden relative",style:{minHeight:"360px"},children:[u&&(0,At.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm z-10",children:(0,At.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 border-4 border-slate-600 border-t-cyan-500 rounded-full animate-spin"}),(0,At.jsx)("span",{className:"text-slate-400 text-sm font-medium",children:"Loading traffic data..."})]})}),f&&(0,At.jsx)("div",{className:"flex items-center justify-center h-[320px]",children:(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsx)("div",{className:"w-14 h-14 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,At.jsx)("svg",{className:"w-7 h-7 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,At.jsx)("p",{className:"text-red-400 font-medium",children:f})]})}),!u&&!f&&m&&0===m.data.length&&(0,At.jsx)("div",{className:"flex items-center justify-center h-[320px]",children:(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsx)("div",{className:"w-14 h-14 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,At.jsx)("svg",{className:"w-7 h-7 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,At.jsx)("p",{className:"text-slate-300 font-medium",children:"No data available for this period"}),(0,At.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Data will appear after traffic is collected"})]})}),!f&&m&&m.data.length>0&&(0,At.jsxs)("div",{className:"p-4",children:[(0,At.jsx)("canvas",{ref:v,className:"w-full cursor-crosshair",onMouseMove:k,onMouseLeave:S}),g&&g.visible&&(0,At.jsxs)("div",{className:"absolute pointer-events-none z-20 bg-slate-800 border border-slate-600 rounded-lg shadow-xl p-3 text-sm",style:{left:Math.min(g.x,(null===(t=w.current)||void 0===t?void 0:t.clientWidth)-180)+"px",top:"60px",transform:"translateX(-50%)"},children:[(0,At.jsx)("div",{className:"text-slate-400 text-xs mb-2 font-medium",children:new Date(g.data.timestamp).toLocaleString()}),(0,At.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,At.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,At.jsx)("span",{className:"text-slate-300",children:"Download:"}),(0,At.jsx)("span",{className:"text-green-400 font-bold",children:j(g.data.rx_kbps)})]}),(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),(0,At.jsx)("span",{className:"text-slate-300",children:"Upload:"}),(0,At.jsx)("span",{className:"text-cyan-400 font-bold",children:j(g.data.tx_kbps)})]})]})]})]}),!u&&_&&(0,At.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,At.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border border-green-500/20 rounded-xl p-3",children:[(0,At.jsxs)("p",{className:"text-xs text-green-400 font-medium flex items-center gap-1",children:[(0,At.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,At.jsx)("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd",transform:"rotate(180 10 10)"})}),"Peak Download"]}),(0,At.jsx)("p",{className:"text-xl font-bold text-green-300 mt-1",children:j(_.maxDownload)})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-cyan-600/5 border border-cyan-500/20 rounded-xl p-3",children:[(0,At.jsxs)("p",{className:"text-xs text-cyan-400 font-medium flex items-center gap-1",children:[(0,At.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,At.jsx)("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Peak Upload"]}),(0,At.jsx)("p",{className:"text-xl font-bold text-cyan-300 mt-1",children:j(_.maxUpload)})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-slate-500/10 to-slate-600/5 border border-slate-500/20 rounded-xl p-3",children:[(0,At.jsx)("p",{className:"text-xs text-slate-400 font-medium",children:"Avg Download"}),(0,At.jsx)("p",{className:"text-xl font-bold text-green-300 mt-1",children:j(_.avgDownload)})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-slate-500/10 to-slate-600/5 border border-slate-500/20 rounded-xl p-3",children:[(0,At.jsx)("p",{className:"text-xs text-slate-400 font-medium",children:"Avg Upload"}),(0,At.jsx)("p",{className:"text-xl font-bold text-cyan-300 mt-1",children:j(_.avgUpload)})]})]}),m&&(0,At.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-slate-500",children:[(0,At.jsxs)("span",{className:"flex items-center gap-1",children:[(0,At.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),m.data_points," samples"]}),(0,At.jsx)("span",{children:"\u2022"}),(0,At.jsx)("span",{children:m.start_time?new Date(m.start_time).toLocaleString():""}),(0,At.jsx)("span",{children:"\u2192"}),(0,At.jsx)("span",{children:m.end_time?new Date(m.end_time).toLocaleString():""})]})]})})}function rn(e){let{type:t,number:n,status:r,onuCount:a,onClick:s,onEdit:l,isUplink:o,label:i}=e;const c="up"===r,d=c?o?"bg-blue-500":"bg-green-500":"bg-gray-400",u=c?o?"hover:bg-blue-600":"hover:bg-green-600":"hover:bg-gray-500",p=i||"".concat(t.toUpperCase()).concat(n),m=i&&i!=="".concat(t.toUpperCase()).concat(n)&&i!=="GE".concat(n)&&i!=="SFP".concat(n)&&i!=="10G".concat(n);return(0,At.jsxs)("div",{className:"relative group cursor-pointer",onClick:e=>{e.stopPropagation(),s&&s()},onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),o&&l&&l()},title:"".concat(p," - ").concat(c?"Online":"Offline").concat(!o&&a?" (".concat(a," ONUs)"):"").concat(o?" (Right-click to edit name)":""),children:[(0,At.jsx)("div",{className:"w-8 h-8 ".concat(d," ").concat(u," rounded flex items-center justify-center transition-all duration-150 shadow-sm ").concat(m?"ring-2 ring-yellow-400":""),children:o?(0,At.jsx)("span",{className:"text-white text-[10px] font-bold",children:n}):(0,At.jsx)("span",{className:"text-white text-xs font-bold",children:n})}),!o&&a>0&&(0,At.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-[9px] font-bold rounded-full w-4 h-4 flex items-center justify-center",children:a>99?"99+":a}),o&&m&&(0,At.jsx)("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 bg-yellow-400 text-gray-900 text-[8px] font-bold px-1 rounded",children:i.length>6?i.substring(0,6):i}),o&&(0,At.jsx)("button",{onClick:e=>{e.stopPropagation(),l&&l()},className:"absolute -top-1 -right-1 w-4 h-4 bg-gray-700 hover:bg-blue-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Edit port name",children:(0,At.jsx)("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,At.jsxs)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:["GE",n,m&&(0,At.jsxs)("span",{className:"text-yellow-400",children:[" (",i,")"]}),!o&&void 0!==a&&(0,At.jsxs)("span",{children:[" (",a," ONUs)"]}),(0,At.jsx)("br",{}),(0,At.jsx)("span",{className:c?"text-green-400":"text-red-400",children:c?"Online":"Offline"})]})]})}function an(e){let{olt:t,onSelect:n,onPoll:r,onDelete:s,onEdit:l,isSelected:o,isAdmin:i,onGraph:c,onPortGraph:d}=e;const u=(0,a.useContext)(Ut),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[x,g]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!0),[y,w]=(0,a.useState)(null),[j,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)({cpu:t.cpu_usage,memory:t.memory_usage});(0,a.useEffect)(()=>{if(!t.is_online||null===t.cpu_usage)return;const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(null===e||void 0===e)return null;const n=Math.floor(Math.random()*(2*t+1))-t;return Math.max(0,Math.min(100,e+n))},n=setInterval(()=>{C({cpu:e(t.cpu_usage,3),memory:e(t.memory_usage,2)})},1e3);return()=>clearInterval(n)},[t.is_online,t.cpu_usage,t.memory_usage]),(0,a.useEffect)(()=>{C({cpu:t.cpu_usage,memory:t.memory_usage})},[t.cpu_usage,t.memory_usage]);const L=t.model?It[t.model]||t.pon_ports||8:t.pon_ports||8;(0,a.useEffect)(()=>{var e;!b||h||x||(g(!0),(e=t.id,Rt.get("/api/olts/".concat(e,"/ports"))).then(e=>{f(e.data)}).catch(e=>{console.error("Failed to load ports:",e)}).finally(()=>{g(!1)}))},[b,t.id,h,x]);const O=(e,t)=>{w(e);const n=t&&!t.startsWith("GE")?t:"";N(n)},E=async()=>{if(y){S(!0);try{await(e="/api/olts/".concat(t.id,"/ports/").concat(y,"/description?description=").concat(encodeURIComponent(j)),Rt.put(e,n)),f(null),w(null),N("")}catch(r){console.error("Failed to save port description:",r),alert("Failed to save port description")}finally{S(!1)}var e,n}},P=(e,n)=>{d&&d(t.id,t.name,e,n)},M=t.onu_count>0?Math.round(t.online_onu_count/t.onu_count*100):0,T=(null===h||void 0===h?void 0:h.pon_ports)||Array.from({length:L},(e,t)=>({port_number:t+1,status:"unknown",onu_count:0})),R=((null===h||void 0===h?void 0:h.ge_ports)||[]).map(e=>({port_type:"ge",port_number:e.port_number,status:e.status||"unknown",label:e.label||"GE".concat(e.port_number)})),D=((null===h||void 0===h?void 0:h.sfp_ports)||[]).map(e=>({port_type:"sfp",port_number:e.port_number,status:e.status||"unknown",label:e.label||"SFP".concat(e.port_number)})),V=((null===h||void 0===h?void 0:h.xge_ports)||[]).map(e=>({port_type:"xge",port_number:e.port_number,status:e.status||"unknown",label:e.label||"10G".concat(e.port_number)})),F=[...R,...D,...V].length>0?[...R,...D,...V]:[{port_type:"ge",port_number:1,status:"unknown",label:"GE1"},{port_type:"ge",port_number:2,status:"unknown",label:"GE2"}];return(0,At.jsxs)("div",{onClick:()=>n(t.id),className:"rounded-xl border cursor-pointer transition-all duration-200 hover:shadow-sm overflow-hidden ".concat(u?"bg-slate-800 border-slate-700":"bg-white border-[#e8eaed]"," ").concat(o?"ring-2 ring-[#2563eb] border-blue-500":""),children:[(0,At.jsx)("div",{className:"p-4 border-b ".concat(u?"border-slate-700":"border-[#e8eaed]"),children:(0,At.jsxs)("div",{className:"flex justify-between items-start",children:[(0,At.jsxs)("div",{className:"flex items-start gap-3",children:[(0,At.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(t.is_online?u?"bg-blue-900/50":"bg-blue-50":u?"bg-slate-700":"bg-gray-100"),children:(0,At.jsx)("svg",{className:"w-5 h-5 ".concat(t.is_online?"text-blue-500":u?"text-slate-500":"text-[#9ca3af]"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(u?"text-white":"text-[#111827]"),children:t.name}),(0,At.jsx)("p",{className:"text-sm font-mono ".concat(u?"text-slate-400":"text-[#9ca3af]"),children:t.ip_address})]})]}),(0,At.jsx)(Xt,{online:t.is_online})]})}),(0,At.jsxs)("div",{className:"p-4",children:[(0,At.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.model&&(0,At.jsx)("p",{className:"text-xs ".concat(u?"text-slate-400":"text-[#9ca3af]"),children:t.model}),(0,At.jsxs)("span",{className:"text-xs ".concat(u?"text-slate-400":"text-[#9ca3af]"),children:[L," PON Ports"]})]}),(0,At.jsxs)("div",{className:"mb-3",children:[(0,At.jsxs)("div",{className:"flex justify-between text-sm mb-1.5",children:[(0,At.jsx)("span",{className:u?"text-slate-400":"text-[#4b5563]",children:"ONUs Online"}),(0,At.jsxs)("span",{className:"font-medium ".concat(u?"text-white":"text-[#111827]"),children:[t.online_onu_count," / ",t.onu_count]})]}),(0,At.jsx)("div",{className:"h-2 rounded-full overflow-hidden ".concat(u?"bg-slate-700":"bg-[#f4f5f7]"),children:(0,At.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(M>80?"bg-[#059669]":M>50?"bg-amber-500":"bg-[#dc2626]"),style:{width:"".concat(M,"%")}})})]}),t.is_online&&(null!==t.cpu_usage||null!==t.temperature)&&(0,At.jsxs)("div",{className:"mb-3 p-3 bg-gradient-to-br from-[#0f172a] to-[#1e293b] rounded-xl border border-[#334155]",children:[(0,At.jsxs)("div",{className:"mb-2 pb-2 border-b border-[#334155] flex items-center justify-center gap-4",children:[null!==t.uptime_seconds&&(0,At.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,At.jsx)("svg",{className:"w-3.5 h-3.5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,At.jsxs)("span",{className:"text-xs text-gray-400",children:["Uptime: ",(0,At.jsx)("span",{className:"text-green-400 font-medium",children:Wt(t.uptime_seconds)})]})]}),null!==t.temperature&&(0,At.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,At.jsx)("svg",{className:"w-3.5 h-3.5 animate-spin ".concat(t.temperature>=40?"text-orange-400":"text-blue-400"),style:{animationDuration:t.temperature>=40?"0.5s":"2s"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,At.jsxs)("span",{className:"text-xs text-gray-400",children:["Fan: ",(0,At.jsx)("span",{className:"font-medium ".concat(t.temperature>=40?"text-orange-400":"text-blue-400"),children:t.temperature>=40?"High":"Normal"})]})]})]}),(0,At.jsxs)("div",{className:"flex justify-around items-start",children:[(0,At.jsx)(Ht,{value:_.cpu,max:100,label:"CPU",unit:"%"}),(0,At.jsx)(Ht,{value:_.memory,max:100,label:"RAM",unit:"%"}),(0,At.jsx)(Ht,{value:t.temperature,max:80,label:"TEMP",unit:"\xb0C",colorStops:[{offset:0,color:"#10b981"},{offset:60,color:"#f59e0b"},{offset:100,color:"#ef4444"}]})]})]}),(0,At.jsxs)("button",{onClick:e=>{e.stopPropagation(),v(!b)},className:"w-full py-2 px-3 mb-3 text-sm rounded-lg transition-all flex items-center justify-between ".concat(u?"text-slate-300 bg-slate-700 hover:bg-slate-600":"text-[#4b5563] bg-[#f4f5f7] hover:bg-[#e8eaed]"),children:[(0,At.jsxs)("span",{className:"flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"Port Status"]}),(0,At.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(b?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&(0,At.jsx)("div",{className:"bg-[#1a1a2e] rounded-lg p-4 mb-3",onClick:e=>e.stopPropagation(),children:x?(0,At.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,At.jsxs)("svg",{className:"animate-spin w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"mb-4",children:[(0,At.jsx)("p",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"PON Ports"}),(0,At.jsx)("div",{className:"flex flex-wrap gap-2",children:T.map(e=>(0,At.jsx)(rn,{type:"pon",number:e.port_number,status:e.status,onuCount:e.onu_count,onClick:()=>P("pon",e.port_number)},"pon-".concat(e.port_number)))})]}),(0,At.jsxs)("div",{className:"space-y-3",children:[R.length>0&&(0,At.jsxs)("div",{children:[(0,At.jsxs)("p",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:["GE RJ45 (",R.length,")"]}),(0,At.jsx)("div",{className:"flex flex-wrap gap-2",children:R.map(e=>(0,At.jsx)(rn,{type:"ge",number:e.port_number,status:e.status,isUplink:!0,label:e.label,onClick:()=>P("ge",e.port_number),onEdit:()=>O(e.port_number,e.label)},"ge-".concat(e.port_number)))})]}),D.length>0&&(0,At.jsxs)("div",{children:[(0,At.jsxs)("p",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:["SFP (",D.length,")"]}),(0,At.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,At.jsx)(rn,{type:"sfp",number:e.port_number,status:e.status,isUplink:!0,label:e.label,onClick:()=>P("sfp",e.port_number),onEdit:()=>O(e.port_number,e.label)},"sfp-".concat(e.port_number)))})]}),V.length>0&&(0,At.jsxs)("div",{children:[(0,At.jsxs)("p",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:["10G SFP+ (",V.length,")"]}),(0,At.jsx)("div",{className:"flex flex-wrap gap-2",children:V.map(e=>(0,At.jsx)(rn,{type:"xge",number:e.port_number,status:e.status,isUplink:!0,label:e.label,onClick:()=>P("xge",e.port_number),onEdit:()=>O(e.port_number,e.label)},"xge-".concat(e.port_number)))})]}),0===R.length&&0===D.length&&0===V.length&&(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Uplink Ports"}),(0,At.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(e=>(0,At.jsx)(rn,{type:e.port_type,number:e.port_number,status:e.status,isUplink:!0,onClick:()=>P(e.port_type,e.port_number)},"".concat(e.port_type,"-").concat(e.port_number)))})]})]}),(0,At.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-700 flex items-center gap-4 text-xs text-gray-400",children:[(0,At.jsxs)("span",{className:"flex items-center gap-1",children:[(0,At.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded"})," PON Online"]}),(0,At.jsxs)("span",{className:"flex items-center gap-1",children:[(0,At.jsx)("span",{className:"w-3 h-3 bg-blue-500 rounded"})," Uplink Online"]}),(0,At.jsxs)("span",{className:"flex items-center gap-1",children:[(0,At.jsx)("span",{className:"w-3 h-3 bg-gray-400 rounded"})," Offline"]})]})]})}),t.last_poll&&(0,At.jsxs)("p",{className:"text-xs text-[#9ca3af] flex items-center gap-1.5 mb-2",children:[(0,At.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last poll: ",new Date(t.last_poll).toLocaleString()]}),t.last_error&&(0,At.jsxs)("p",{className:"text-xs text-[#dc2626] truncate flex items-center gap-1.5",title:t.last_error,children:[(0,At.jsx)("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),t.last_error]})]}),(0,At.jsxs)("div",{className:"px-4 py-3 bg-[#fafbfc] border-t border-[#e8eaed] flex justify-end gap-2",children:[(0,At.jsxs)("button",{onClick:e=>{e.stopPropagation(),c&&c("olt",t.id,t.name)},className:"px-3 py-1.5 text-sm text-purple-600 border border-[#e8eaed] bg-white rounded-lg hover:bg-purple-50 font-medium transition-all duration-150 flex items-center gap-1.5",title:"View traffic graph",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Graph"]}),(0,At.jsx)("button",{onClick:async e=>{e.stopPropagation(),m(!0);try{await r(t.id),f(null)}finally{m(!1)}},disabled:p,className:"px-3 py-1.5 text-sm bg-[#2563eb] text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-all duration-150 flex items-center gap-1.5",children:p?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Polling..."]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Poll"]})}),i&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("button",{onClick:e=>{e.stopPropagation(),l&&l(t)},className:"px-3 py-1.5 text-sm text-[#2563eb] border border-[#e8eaed] bg-white rounded-lg hover:bg-blue-50 font-medium transition-all duration-150 flex items-center gap-1.5",title:"Edit OLT",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,At.jsx)("button",{onClick:async e=>{e.stopPropagation(),window.confirm('Delete OLT "'.concat(t.name,'" and all its ONUs?'))&&await s(t.id)},className:"px-3 py-1.5 text-sm text-[#dc2626] border border-[#e8eaed] bg-white rounded-lg hover:bg-red-50 font-medium transition-all duration-150",children:"Delete"})]})]}),y&&(0,At.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e=>{e.stopPropagation(),w(null)},children:(0,At.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[(0,At.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Edit Port GE",y," Description"]}),(0,At.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Set a custom name for this port. This will be synced to the OLT."}),(0,At.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Enter port description (e.g., MIKROTIK, ROUTER)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-4",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&E(),"Escape"===e.key&&w(null)}}),(0,At.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,At.jsx)("button",{onClick:()=>w(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),(0,At.jsx)("button",{onClick:E,disabled:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50 flex items-center gap-2",children:k?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Saving..."]}):"Save to OLT"})]})]})})]})}function sn(e){let{onus:t,onEdit:n,onDelete:r,onReboot:s,isAdmin:l,trafficData:o,onGraph:i}=e;const c=(0,a.useContext)(Ut),[d,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(""),h={};o&&o.traffic&&o.traffic.forEach(e=>{h[e.mac_address]=e});return 0===t.length?(0,At.jsxs)("div",{className:"rounded-xl border p-12 text-center ".concat(c?"bg-slate-800 border-slate-700":"bg-white border-[#e8eaed]"),children:[(0,At.jsx)("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center mx-auto mb-4 ".concat(c?"bg-slate-700":"bg-[#f4f5f7]"),children:(0,At.jsx)("svg",{className:"w-7 h-7 ".concat(c?"text-slate-400":"text-[#9ca3af]"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,At.jsx)("p",{className:"font-medium ".concat(c?"text-white":"text-[#111827]"),children:"No ONUs found"}),(0,At.jsx)("p",{className:"text-sm mt-1 ".concat(c?"text-slate-400":"text-[#9ca3af]"),children:"Try adjusting your filters or search query"})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)(Qt,{isOpen:!!d,onClose:()=>u(null),images:d||[],title:p}),(0,At.jsx)("div",{className:"rounded-xl border overflow-hidden ".concat(c?"bg-slate-800 border-slate-700":"bg-white border-[#e8eaed]"),children:(0,At.jsx)("div",{className:"overflow-x-auto",children:(0,At.jsxs)("table",{className:"min-w-full",children:[(0,At.jsx)("thead",{children:(0,At.jsxs)("tr",{className:"border-b ".concat(c?"bg-slate-700 border-slate-600":"bg-[#f4f5f7] border-[#e8eaed]"),children:[(0,At.jsx)("th",{className:"px-3 py-2.5 text-left text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),children:"OLT"}),(0,At.jsx)("th",{className:"px-3 py-2.5 text-left text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),title:"PON Port / ONU ID",children:"PON"}),(0,At.jsx)("th",{className:"px-3 py-2.5 text-left text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),children:"Customer"}),(0,At.jsx)("th",{className:"px-3 py-2.5 text-left text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),children:"MAC"}),(0,At.jsx)("th",{className:"px-2 py-2.5 text-left text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),children:"Model"}),(0,At.jsx)("th",{className:"px-3 py-2.5 text-center text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),children:"BW"}),(0,At.jsx)("th",{className:"px-3 py-2.5 text-center text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),children:"Dist"}),(0,At.jsx)("th",{className:"px-3 py-2.5 text-center text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]"),title:"ONU RX/TX Power, Temperature, Voltage, TX Bias",children:"OPM"}),(0,At.jsx)("th",{className:"px-2 py-2.5 text-center text-sm font-semibold uppercase tracking-wider ".concat(c?"text-slate-300":"text-[#4b5563]")})]})}),(0,At.jsx)("tbody",{className:"divide-y ".concat(c?"divide-slate-700":"divide-[#e8eaed]"),children:t.map(e=>{const t=e.image_urls||(e.image_url?[e.image_url]:[]),a=t.length>0;return(0,At.jsxs)("tr",{className:"transition-colors duration-150 group ".concat(c?"hover:bg-slate-700/50":"hover:bg-blue-50/50"),children:[(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,At.jsx)("span",{className:"text-base font-medium ".concat(c?"text-white":"text-gray-800"),children:e.olt_name})}),(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(e.is_online?"bg-green-500":"bg-red-500")}),(0,At.jsxs)("span",{className:"text-base font-mono ".concat(c?"text-slate-300":"text-gray-700"),title:"MAC: ".concat(e.mac_address).concat(e.model?" | Model: ".concat(e.model):""),children:[e.pon_port,":",e.onu_id]})]})}),(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,At.jsx)("span",{className:"text-base font-medium truncate block max-w-[180px] ".concat(c?"text-white":"text-gray-800"),title:e.description||"No name",children:e.description||(0,At.jsx)("span",{className:"text-gray-400 italic",children:"-"})}),e.region_name&&(0,At.jsx)("span",{className:"text-sm font-medium truncate block max-w-[150px]",style:{color:e.region_color||"#6366F1"},title:e.region_name,children:e.region_name})]}),a&&(0,At.jsx)("button",{onClick:()=>(e=>{const t=e.image_urls||(e.image_url?[e.image_url]:[]);t.length>0&&(u(t),m(e.description||"ONU ".concat(e.pon_port,":").concat(e.onu_id)))})(e),className:"p-1 text-blue-500 hover:text-blue-700",title:"".concat(t.length," photo(s)"),children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,At.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),e.latitude&&e.longitude&&(0,At.jsx)("button",{onClick:()=>window.open("https://www.google.com/maps?q=".concat(e.latitude,",").concat(e.longitude),"_blank"),className:"p-1 text-emerald-500 hover:text-emerald-700",title:"Map",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,At.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]})}),(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,At.jsx)("span",{className:"text-sm font-mono ".concat(c?"text-slate-400":"text-gray-500"),children:e.mac_address})}),(0,At.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,At.jsx)("span",{className:"text-xs font-medium ".concat(c?"text-slate-400":"text-gray-500"),children:e.model||"-"})}),(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(()=>{const t=h[e.mac_address];if(!t)return(0,At.jsx)("span",{className:"text-gray-300 text-sm",children:"-"});const n=t.rx_kbps||0,r=t.tx_kbps||0;return(0,At.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-sm",children:[(0,At.jsxs)("span",{className:"font-semibold ".concat(n>1e4?"text-green-600":"text-gray-600"),children:["\u2193",n>1e3?"".concat((n/1e3).toFixed(0),"M"):"".concat(n.toFixed(0),"K")]}),(0,At.jsxs)("span",{className:"font-semibold ".concat(r>1e4?"text-blue-600":"text-gray-600"),children:["\u2191",r>1e3?"".concat((r/1e3).toFixed(0),"M"):"".concat(r.toFixed(0),"K")]})]})})()}),(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:e.distance?(0,At.jsxs)("span",{className:"text-sm font-semibold text-blue-600",children:[e.distance>=1e3?"".concat((e.distance/1e3).toFixed(1),"k"):e.distance,"m"]}):(0,At.jsx)("span",{className:"text-gray-300 text-sm",children:"-"})}),(0,At.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,At.jsxs)("div",{className:"flex flex-col text-sm leading-relaxed",children:[(0,At.jsxs)("div",{className:"flex items-center gap-1.5",title:"ONU RX / TX Power",children:[(0,At.jsx)("span",{className:"text-gray-500",children:"Rx"}),e.onu_rx_power?(0,At.jsx)("span",{className:"font-semibold ".concat(e.onu_rx_power<-20?"text-red-600":e.onu_rx_power<-15?"text-amber-600":"text-emerald-600"),children:e.onu_rx_power.toFixed(1)}):(0,At.jsx)("span",{className:"text-gray-300",children:"-"}),(0,At.jsx)("span",{className:"text-gray-500",children:"Tx"}),e.onu_tx_power?(0,At.jsx)("span",{className:"font-semibold text-blue-600",children:e.onu_tx_power.toFixed(1)}):(0,At.jsx)("span",{className:"text-gray-300",children:"-"})]}),(0,At.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-500",title:"Temp / Volt / Bias",children:[e.onu_temperature?(0,At.jsxs)("span",{className:e.onu_temperature>50?"text-red-600":"text-teal-600",children:[e.onu_temperature.toFixed(0),"\xb0"]}):(0,At.jsx)("span",{className:"text-gray-300",children:"-"}),e.onu_voltage?(0,At.jsxs)("span",{className:"text-purple-600",children:[e.onu_voltage.toFixed(1),"V"]}):"",e.onu_tx_bias?(0,At.jsxs)("span",{className:"text-pink-600",children:[e.onu_tx_bias.toFixed(0),"mA"]}):""]})]})}),(0,At.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,At.jsxs)("div",{className:"flex items-center gap-1",children:[(0,At.jsx)("button",{onClick:()=>i&&i("onu",e.id,e.description||e.mac_address),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Traffic Graph",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,At.jsx)("button",{onClick:()=>n(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,At.jsx)("button",{onClick:()=>window.confirm('Reboot "'.concat(e.description||e.mac_address,'"?'))&&s(e.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded",title:"Reboot",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),l&&(0,At.jsx)("button",{onClick:()=>window.confirm("Delete?")&&r(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)})})]})})})]})}function ln(e){let{onu:t,onEdit:n,onDelete:r,onReboot:s,isAdmin:l,onImagePreview:o}=e;const i=(0,a.useContext)(Ut),c=t.image_urls||(t.image_url?[t.image_url]:[]),d=c.length>0;return(0,At.jsxs)("div",{className:"rounded-2xl shadow-material-1 p-4 mb-4 border relative overflow-hidden ".concat(i?"bg-slate-800 border-slate-700":"bg-white border-gray-100"),children:[(0,At.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 ".concat(t.is_online?"bg-gradient-to-r from-emerald-400 to-emerald-500":"bg-gradient-to-r from-red-400 to-red-500")}),(0,At.jsxs)("div",{className:"flex justify-between items-start mb-3 pt-1",children:[(0,At.jsxs)("div",{className:"flex items-start gap-3",children:[d?(0,At.jsxs)("button",{onClick:()=>o(t),className:"relative flex-shrink-0",title:"View ".concat(c.length," photo").concat(c.length>1?"s":""),"aria-label":"View ".concat(c.length," photo").concat(c.length>1?"s":""),children:[(0,At.jsx)("img",{src:c[0],alt:"ONU",className:"w-14 h-14 rounded-xl object-cover border-2 border-gray-200 shadow-sm"}),c.length>1&&(0,At.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center shadow-sm",children:c.length})]}):(0,At.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 flex items-center justify-center flex-shrink-0 shadow-sm",children:(0,At.jsx)("svg",{className:"w-6 h-6 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-bold text-gray-800",children:t.description||"No Name"}),t.region_name&&(0,At.jsx)("p",{className:"text-xs font-semibold",style:{color:t.region_color||"#6366F1"},children:t.region_name}),(0,At.jsx)("p",{className:"text-xs text-gray-500 font-mono bg-gray-50 px-1.5 py-0.5 rounded mt-1 inline-block",children:t.mac_address})]})]}),(0,At.jsx)(Xt,{online:t.is_online})]}),(0,At.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm mb-3",children:[(0,At.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-2.5 border border-slate-200/50",children:[(0,At.jsx)("span",{className:"text-slate-500 text-xs",children:"OLT"}),(0,At.jsx)("p",{className:"font-semibold text-slate-700",children:t.olt_name})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-2.5 border border-indigo-200/50",children:[(0,At.jsx)("span",{className:"text-indigo-500 text-xs",children:"Port"}),(0,At.jsxs)("p",{className:"font-semibold font-mono text-indigo-700",children:["0/",t.pon_port,":",t.onu_id]})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-violet-50 to-violet-100 rounded-xl p-2.5 border border-violet-200/50",children:[(0,At.jsx)("span",{className:"text-violet-500 text-xs",children:"Model"}),(0,At.jsx)("p",{className:"font-semibold text-violet-700",children:t.model||"-"})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-xl p-2.5 border border-cyan-200/50",children:[(0,At.jsx)("span",{className:"text-cyan-500 text-xs",children:"Distance"}),(0,At.jsx)("p",{className:"font-semibold text-cyan-700",children:t.distance?"".concat(t.distance,"m"):"-"})]}),(0,At.jsxs)("div",{className:"rounded-xl p-2.5 border ".concat(t.rx_power&&t.is_online?t.rx_power<-25?"bg-gradient-to-br from-red-50 to-red-100 border-red-200/50":t.rx_power<-20?"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/50":"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200/50":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200/50"),children:[(0,At.jsx)("span",{className:"text-xs ".concat(t.rx_power&&t.is_online?t.rx_power<-25?"text-red-500":t.rx_power<-20?"text-amber-500":"text-emerald-500":"text-gray-400"),children:"OLT RX"}),(0,At.jsx)("p",{className:"font-semibold ".concat(t.rx_power?t.is_online?t.rx_power<-25?"text-red-700":t.rx_power<-20?"text-amber-700":"text-emerald-700":"text-gray-400 italic":"text-gray-400"),title:t.rx_power&&!t.is_online?"Last known value (ONU offline)":"OLT-measured RX power",children:t.rx_power?"".concat(t.rx_power.toFixed(2)," dBm").concat(t.is_online?"":" *"):"-"})]}),(0,At.jsxs)("div",{className:"rounded-xl p-2.5 border ".concat(t.onu_rx_power&&t.is_online?t.onu_rx_power<-20?"bg-gradient-to-br from-red-50 to-red-100 border-red-200/50":t.onu_rx_power<-15?"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/50":"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200/50":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200/50"),children:[(0,At.jsx)("span",{className:"text-xs ".concat(t.onu_rx_power&&t.is_online?t.onu_rx_power<-20?"text-red-500":t.onu_rx_power<-15?"text-amber-500":"text-emerald-500":"text-gray-400"),children:"ONU RX"}),(0,At.jsx)("p",{className:"font-semibold ".concat(t.onu_rx_power?t.is_online?t.onu_rx_power<-20?"text-red-700":t.onu_rx_power<-15?"text-amber-700":"text-emerald-700":"text-gray-400 italic":"text-gray-400"),title:t.onu_rx_power&&!t.is_online?"Last known value (ONU offline)":"ONU self-reported RX power",children:t.onu_rx_power?"".concat(t.onu_rx_power.toFixed(2)," dBm").concat(t.is_online?"":" *"):"-"})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-2.5 border border-blue-200/50",children:[(0,At.jsx)("span",{className:"text-blue-500 text-xs",children:"TX Power"}),(0,At.jsx)("p",{className:"font-semibold text-blue-700",children:t.onu_tx_power?"".concat(t.onu_tx_power.toFixed(2)," dBm"):"-"})]}),(0,At.jsxs)("div",{className:"rounded-xl p-2.5 border ".concat(t.onu_temperature?t.onu_temperature>50?"bg-gradient-to-br from-red-50 to-red-100 border-red-200/50":t.onu_temperature>40?"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/50":"bg-gradient-to-br from-teal-50 to-teal-100 border-teal-200/50":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200/50"),children:[(0,At.jsx)("span",{className:"text-xs ".concat(t.onu_temperature?t.onu_temperature>50?"text-red-500":t.onu_temperature>40?"text-amber-500":"text-teal-500":"text-gray-400"),children:"Temp"}),(0,At.jsx)("p",{className:"font-semibold ".concat(t.onu_temperature?t.onu_temperature>50?"text-red-700":t.onu_temperature>40?"text-amber-700":"text-teal-700":"text-gray-400"),children:t.onu_temperature?"".concat(t.onu_temperature.toFixed(1),"\xb0C"):"-"})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-2.5 border border-purple-200/50",children:[(0,At.jsx)("span",{className:"text-purple-500 text-xs",children:"Voltage"}),(0,At.jsx)("p",{className:"font-semibold text-purple-700",children:t.onu_voltage?"".concat(t.onu_voltage.toFixed(2),"V"):"-"})]}),(0,At.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl p-2.5 border border-pink-200/50",children:[(0,At.jsx)("span",{className:"text-pink-500 text-xs",children:"TX Bias"}),(0,At.jsx)("p",{className:"font-semibold text-pink-700",children:t.onu_tx_bias?"".concat(t.onu_tx_bias.toFixed(2),"mA"):"-"})]})]}),(0,At.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[(0,At.jsxs)("p",{className:"text-xs text-gray-400",children:["Last seen: ",new Date(t.last_seen).toLocaleString()]}),(0,At.jsxs)("div",{className:"flex gap-2",children:[t.latitude&&t.longitude&&(0,At.jsx)("button",{onClick:()=>window.open("https://www.google.com/maps?q=".concat(t.latitude,",").concat(t.longitude),"_blank"),className:"px-3 py-1.5 text-sm bg-emerald-500 text-white rounded-lg font-medium shadow-sm hover:bg-emerald-600 transition-colors",children:"Map"}),(0,At.jsx)("button",{onClick:()=>n(t),className:"px-3 py-1.5 text-sm bg-primary-500 text-white rounded-lg font-medium shadow-sm hover:bg-primary-600 transition-colors",children:"Edit"}),(0,At.jsx)("button",{onClick:()=>{window.confirm('Reboot ONU "'.concat(t.description||t.mac_address,'"?'))&&s(t.id)},className:"px-3 py-1.5 text-sm bg-amber-500 text-white rounded-lg font-medium shadow-sm hover:bg-amber-600 transition-colors",children:"Reboot"}),l&&(0,At.jsx)("button",{onClick:()=>{window.confirm("Delete this ONU?")&&r(t.id)},className:"px-3 py-1.5 text-sm bg-red-500 text-white rounded-lg font-medium shadow-sm hover:bg-red-600 transition-colors",children:"Delete"})]})]})]})}function on(e){var t,n,r;let{olts:s=[],onus:l=[]}=e;const o={"1:2":{ports:2,loss:3.8,category:"PLC"},"1:4":{ports:4,loss:7.2,category:"PLC"},"1:8":{ports:8,loss:10.5,category:"PLC"},"1:16":{ports:16,loss:14,category:"PLC"},"1:32":{ports:32,loss:17.5,category:"PLC"},"50/50":{ports:2,loss:3.5,category:"FBT",portLosses:[3.5,3.5]},"30/70":{ports:2,loss:null,category:"FBT",portLosses:[5.2,1.5]},"20/80":{ports:2,loss:null,category:"FBT",portLosses:[7,1]},"10/90":{ports:2,loss:null,category:"FBT",portLosses:[10,.5]}},i=(0,a.useRef)(null),[c,u]=(0,a.useState)({width:1200,height:700}),[p,m]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[x,g]=(0,a.useState)([]),[b,v]=(0,a.useState)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(!1);(0,a.useEffect)(()=>{(async()=>{try{m(!0),f(null);const e=(await Rt.get("/api/diagrams")).data.diagrams||[];if(0===e.length){const e=(await zt({name:"Diagram 1",nodes:"[]",connections:"[]",settings:JSON.stringify({oltPower:5,onuSensitivity:-28}),is_shared:!1})).data;g([{id:e.id,name:e.name,nodes:JSON.parse(e.nodes||"[]"),connections:JSON.parse(e.connections||"[]"),settings:JSON.parse(e.settings||"{}"),is_shared:e.is_shared,owner_id:e.owner_id,owner_name:e.owner_name}]),v(e.id)}else{const t=e.map(e=>({id:e.id,name:e.name,nodes:JSON.parse(e.nodes||"[]"),connections:JSON.parse(e.connections||"[]"),settings:JSON.parse(e.settings||"{}"),is_shared:e.is_shared,owner_id:e.owner_id,owner_name:e.owner_name}));g(t),v(t[0].id)}}catch(t){console.error("Failed to load diagrams:",t),f("Failed to load diagrams. Please refresh the page.");try{const t=localStorage.getItem("splitterDiagrams");if(t){var e;const n=JSON.parse(t);g(n),v((null===(e=n[0])||void 0===e?void 0:e.id)||"default")}}catch(n){}}finally{m(!1)}})()},[]);const[j,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[_,C]=(0,a.useState)(""),L=x.find(e=>e.id===b)||x[0]||null,[O,E]=(0,a.useState)([]),[P,M]=(0,a.useState)([]);(0,a.useEffect)(()=>{const e=x.find(e=>e.id===b);var t,n;e&&(E(e.nodes||[]),M(e.connections||[]),H((null===(t=e.settings)||void 0===t?void 0:t.oltPower)||5),K((null===(n=e.settings)||void 0===n?void 0:n.onuSensitivity)||-28))},[b,x]);const[T,R]=(0,a.useState)(null),[D,V]=(0,a.useState)(null),[F,z]=(0,a.useState)({x:0,y:0}),[B,A]=(0,a.useState)(null),[U,I]=(0,a.useState)({x:0,y:0}),[W,H]=(0,a.useState)((null===L||void 0===L||null===(t=L.settings)||void 0===t?void 0:t.oltPower)||5),[G,q]=(0,a.useState)(.35),[X,$]=(0,a.useState)(.5),[Q,K]=(0,a.useState)((null===L||void 0===L||null===(n=L.settings)||void 0===n?void 0:n.onuSensitivity)||-28),[J,Y]=(0,a.useState)(null),[Z,ee]=(0,a.useState)("idle"),te=async(e,t)=>{try{await Bt(e,{name:t}),g(x.map(n=>n.id===e?d(d({},n),{},{name:t}):n)),S(null)}catch(n){console.error("Failed to rename diagram:",n),alert("Failed to rename diagram")}},ne=async e=>{if(x.length<=1)alert("Cannot delete the last diagram");else if(window.confirm("Delete this diagram?"))try{await(e=>Rt.delete("/api/diagrams/".concat(e)))(e);const t=x.filter(t=>t.id!==e);g(t),b===e&&v(t[0].id)}catch(t){console.error("Failed to delete diagram:",t),alert("Failed to delete diagram")}};(0,a.useEffect)(()=>{if(!p&&b)return y.current&&clearTimeout(y.current),w.current=!0,ee("saving"),y.current=setTimeout(async()=>{if(w.current)try{await Bt(b,{nodes:JSON.stringify(O),connections:JSON.stringify(P),settings:JSON.stringify({oltPower:W,onuSensitivity:Q})});const e=x.map(e=>e.id===b?d(d({},e),{},{nodes:O,connections:P,settings:{oltPower:W,onuSensitivity:Q}}):e);g(e),localStorage.setItem("splitterDiagrams",JSON.stringify(e)),Y(new Date),ee("saved"),w.current=!1,setTimeout(()=>ee("idle"),2e3)}catch(e){console.error("Failed to auto-save diagram:",e),ee("error");const t=x.map(e=>e.id===b?d(d({},e),{},{nodes:O,connections:P,settings:{oltPower:W,onuSensitivity:Q}}):e);localStorage.setItem("splitterDiagrams",JSON.stringify(t))}},500),()=>{y.current&&clearTimeout(y.current)}},[O,P,W,Q,b,p]);const[re,ae]=(0,a.useState)(null),[se,le]=(0,a.useState)(1),[oe,ie]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s.length>0&&!re&&ae(s[0].id)},[s,re]);const ce=s.find(e=>e.id===re),de=l.filter(e=>e.olt_id===re&&e.pon_port===se),ue=e=>{const t=O.filter(e=>"switch"===e.type).length,n={id:"switch-".concat(Date.now()),type:"switch",name:"Switch ".concat(t+1),x:600+t%3*150,y:100+250*Math.floor(t/3),width:120,height:30+22*e,ports:e,uplinkPort:1};E([...O,n])},pe=(e,t,n)=>{if("olt"===e.type){const t=(e.height-40)/e.ponPorts;return{x:e.x+e.width,y:e.y+30+n*t+t/2}}if("splitter"===e.type){if("input"===t)return{x:e.x,y:e.y+e.height/2};{const t=(e.height-20)/e.outputPorts;return{x:e.x+e.width,y:e.y+15+n*t+t/2}}}if("onu"===e.type)return"input"===t?{x:e.x,y:e.y+e.height/2}:{x:e.x+e.width,y:e.y+e.height/2};if("switch"===e.type){if("input"===t)return{x:e.x,y:e.y+20};{const t=22;return{x:e.x+e.width,y:e.y+30+n*t+t/2}}}if("building"===e.type){const t=e.totalFloors||12,r=(e.height-50)/t,a=t-n;return{x:e.x,y:e.y+30+a*r+r/2}}return{x:e.x,y:e.y}},me=(e,t,n,r)=>{e.stopPropagation(),A({nodeId:t.id,portType:n,portIndex:r})},he=(e,t,n,r)=>{if(e.stopPropagation(),B&&B.nodeId!==t.id){const e=O.find(e=>e.id===B.nodeId),a=t;let s=!1;if("olt"===e.type&&"splitter"===a.type&&"input"===n?s=!0:"splitter"===e.type&&"output"===B.portType?("splitter"===a.type&&"input"===n&&(s=!0),"onu"===a.type&&"input"===n&&(s=!0)):"onu"===e.type&&"output"===B.portType?"switch"===a.type&&"input"===n&&(s=!0):"switch"===e.type&&"output"===B.portType&&"building"===a.type&&"input"===n&&(s=!0),s){const e=P.find(e=>e.from.nodeId===B.nodeId&&e.from.portIndex===B.portIndex&&e.from.portType===B.portType&&e.to.nodeId===t.id&&e.to.portIndex===r&&e.to.portType===n),a=P.find(e=>e.to.nodeId===t.id&&e.to.portIndex===r&&e.to.portType===n);e||a||M([...P,{id:"conn-".concat(Date.now()),from:{nodeId:B.nodeId,portType:B.portType,portIndex:B.portIndex},to:{nodeId:t.id,portType:n,portIndex:r},cableLength:500,connectors:2}])}}A(null)},fe=()=>{V(null),A(null)},xe=e=>{M(P.filter(t=>t.id!==e))},ge=(()=>{const e={},t=O.find(e=>"olt"===e.type);if(!t)return e;const n=[];for(let r=0;r<t.ponPorts;r++){e["".concat(t.id,"-output-").concat(r)]=W;P.filter(e=>e.from.nodeId===t.id&&e.from.portIndex===r).forEach(e=>{n.push({conn:e,power:W})})}for(;n.length>0;){const{conn:t,power:r}=n.shift();let a=r-(t.cableLength||500)/1e3*G-(t.connectors||2)*X;const s=O.find(e=>e.id===t.to.nodeId);if(s)if(e["".concat(s.id,"-input")]=a,"splitter"===s.type){const t=o[s.splitterType];for(let r=0;r<s.outputPorts;r++){let l=t.loss;t.portLosses&&(l=t.portLosses[r]||t.portLosses[0]);const o=a-l;e["".concat(s.id,"-output-").concat(r)]=o;P.filter(e=>e.from.nodeId===s.id&&e.from.portIndex===r).forEach(e=>{n.push({conn:e,power:o})})}}else"onu"===s.type&&(e["".concat(s.id,"-rx")]=a)}return e})(),be=e=>{if(void 0===e)return{color:"#9CA3AF",status:"N/A"};const t=e-Q;return t>=3?{color:"#10B981",status:"GOOD"}:t>=0?{color:"#F59E0B",status:"MARGINAL"}:{color:"#EF4444",status:"FAIL"}},ve=(e,t,n)=>{M(P.map(r=>r.id===e?d(d({},r),{},{[t]:n}):r))},ye=(e,t,n)=>{E(O.map(r=>r.id===e?d(d({},r),{},{[t]:n}):r))};return p?(0,At.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,At.jsx)("p",{className:"text-gray-600",children:"Loading diagrams..."})]})}):h&&0===x.length?(0,At.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsx)("div",{className:"text-red-500 text-4xl mb-4",children:"!"}),(0,At.jsx)("p",{className:"text-red-600",children:h}),(0,At.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):(0,At.jsxs)("div",{className:"space-y-2",children:[j&&(0,At.jsx)("div",{className:"fixed inset-0 z-[99]",onClick:()=>N(!1)}),(0,At.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md px-3 py-2",children:(0,At.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,At.jsxs)("div",{className:"relative",children:[(0,At.jsxs)("button",{onClick:()=>N(!j),className:"flex items-center gap-2 px-3 py-1.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm font-medium backdrop-blur hover:bg-white/30",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),(null===L||void 0===L?void 0:L.name)||"Diagram",(0,At.jsx)("svg",{className:"w-3 h-3 transition-transform ".concat(j?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&(0,At.jsxs)("div",{className:"absolute left-0 mt-2 w-72 bg-white rounded-xl shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[(0,At.jsx)("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:(0,At.jsx)("h4",{className:"font-semibold text-gray-700 text-sm",children:"Your Diagrams"})}),(0,At.jsx)("div",{className:"max-h-64 overflow-y-auto",children:x.map(e=>{var t,n;return(0,At.jsx)("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 ".concat(e.id===b?"bg-purple-50":""),children:k===e.id?(0,At.jsx)("input",{type:"text",defaultValue:e.name,autoFocus:!0,className:"flex-1 px-2 py-1 border border-purple-300 rounded text-sm",onBlur:t=>te(e.id,t.target.value),onKeyDown:t=>{"Enter"===t.key&&te(e.id,t.target.value),"Escape"===t.key&&S(null)},onClick:e=>e.stopPropagation()}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"flex-1",onClick:()=>(async e=>{if(b&&L)try{await Bt(b,{nodes:JSON.stringify(O),connections:JSON.stringify(P),settings:JSON.stringify({oltPower:W,onuSensitivity:Q})})}catch(n){console.error("Failed to save current diagram:",n)}const t=x.map(e=>e.id===b?d(d({},e),{},{nodes:O,connections:P,settings:{oltPower:W,onuSensitivity:Q}}):e);g(t),v(e),N(!1)})(e.id),children:[(0,At.jsx)("p",{className:"font-medium ".concat(e.id===b?"text-purple-700":"text-gray-700"),children:e.name}),(0,At.jsxs)("p",{className:"text-xs text-gray-400",children:[(null===(t=e.nodes)||void 0===t?void 0:t.length)||0," items, ",(null===(n=e.connections)||void 0===n?void 0:n.length)||0," cables"]})]}),(0,At.jsx)("button",{onClick:t=>{t.stopPropagation(),S(e.id)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Rename",children:(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,At.jsx)("button",{onClick:t=>{t.stopPropagation(),ne(e.id)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},e.id)})}),(0,At.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,At.jsxs)("button",{onClick:async()=>{try{ee("saving");const e=(await zt({name:"Diagram ".concat(x.length+1),nodes:"[]",connections:"[]",settings:JSON.stringify({oltPower:5,onuSensitivity:-28}),is_shared:!1})).data,t={id:e.id,name:e.name,nodes:JSON.parse(e.nodes||"[]"),connections:JSON.parse(e.connections||"[]"),settings:JSON.parse(e.settings||"{}"),is_shared:e.is_shared,owner_id:e.owner_id,owner_name:e.owner_name};g([...x,t]),v(e.id),E([]),M([]),N(!1),ee("saved"),setTimeout(()=>ee("idle"),2e3)}catch(e){console.error("Failed to create diagram:",e),ee("error"),alert("Failed to create diagram")}},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Diagram"]})})]})]}),(0,At.jsx)("div",{className:"border-l border-white/30 h-6"}),(0,At.jsxs)("select",{value:re||"",onChange:e=>{ae(parseInt(e.target.value)||null),le(1)},className:"px-3 py-1.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm font-medium backdrop-blur focus:outline-none",children:[(0,At.jsx)("option",{value:"",className:"text-gray-800",children:"Select OLT"}),s.map(e=>(0,At.jsxs)("option",{value:e.id,className:"text-gray-800",children:[e.name," (",e.ip_address,")"]},e.id))]}),ce&&(0,At.jsx)("select",{value:se,onChange:e=>le(parseInt(e.target.value)),className:"px-3 py-1.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm font-medium backdrop-blur focus:outline-none",children:Array.from({length:ce.pon_ports||8},(e,t)=>t+1).map(e=>{const t=l.filter(t=>t.olt_id===re&&t.pon_port===e).length;return(0,At.jsxs)("option",{value:e,className:"text-gray-800",children:["PON ",e," (",t,")"]},e)})}),ce&&(0,At.jsxs)("span",{className:"px-2 py-1 bg-white/20 rounded text-white text-xs ml-auto",children:[de.length," ONUs"]})]})}),(0,At.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-2 space-y-2",children:[(0,At.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,At.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Add:"}),(0,At.jsxs)("button",{onClick:()=>{if(!ce)return;const e={id:"olt-".concat(Date.now()),type:"olt",name:ce.name,x:50,y:200,width:130,height:50+12*ce.pon_ports,ponPorts:ce.pon_ports||8,power:W,oltId:ce.id,ipAddress:ce.ip_address};E([...O,e])},disabled:!ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),(null===ce||void 0===ce?void 0:ce.name)||"OLT"]}),(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsxs)("select",{id:"splitterType",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",defaultValue:"1:8",children:[(0,At.jsxs)("optgroup",{label:"PLC Splitters",children:[(0,At.jsx)("option",{value:"1:2",children:"1:2 (3.8 dB)"}),(0,At.jsx)("option",{value:"1:4",children:"1:4 (7.2 dB)"}),(0,At.jsx)("option",{value:"1:8",children:"1:8 (10.5 dB)"}),(0,At.jsx)("option",{value:"1:16",children:"1:16 (14.0 dB)"}),(0,At.jsx)("option",{value:"1:32",children:"1:32 (17.5 dB)"})]}),(0,At.jsxs)("optgroup",{label:"FBT Splitters",children:[(0,At.jsx)("option",{value:"50/50",children:"50/50 (3.5 dB)"}),(0,At.jsx)("option",{value:"30/70",children:"30/70 (5.2/1.5 dB)"}),(0,At.jsx)("option",{value:"20/80",children:"20/80 (7.0/1.0 dB)"}),(0,At.jsx)("option",{value:"10/90",children:"10/90 (10.0/0.5 dB)"})]})]}),(0,At.jsxs)("button",{onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1:8";const t=o[e],n={id:"splitter-".concat(Date.now()),type:"splitter",name:e,splitterType:e,x:220+100*O.filter(e=>"splitter"===e.type).length,y:200,width:65,height:35+10*t.ports,inputPorts:1,outputPorts:t.ports,category:t.category,loss:t.loss,portLosses:t.portLosses,brand:"Generic",fiberLength:.5};E([...O,n])}(document.getElementById("splitterType").value),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 transition-colors",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Splitter"]})]}),(0,At.jsxs)("button",{onClick:()=>ie(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"ONU"]}),(0,At.jsx)("div",{className:"border-l border-gray-300 h-8 mx-2"}),(0,At.jsxs)("div",{className:"flex items-center gap-1",children:[(0,At.jsxs)("button",{onClick:()=>ue(8),className:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-1 transition-colors text-sm",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"SW-8"]}),(0,At.jsxs)("button",{onClick:()=>ue(16),className:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-1 transition-colors text-sm",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"SW-16"]})]}),(0,At.jsxs)("button",{onClick:()=>{const e=O.filter(e=>"building"===e.type).length,t={};for(let r=1;r<=12;r++)t[r]={home1:{customer:"",unit:"".concat(r,"A")},home2:{customer:"",unit:"".concat(r,"B")}};const n={id:"building-".concat(Date.now()),type:"building",name:"Building ".concat(e+1),floors:t,totalFloors:12,x:800+e%3*180,y:100+350*Math.floor(e/3),width:160,height:320};E([...O,n])},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-1 transition-colors text-sm",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Building"]}),(0,At.jsx)("div",{className:"border-l border-gray-300 h-8 mx-2"}),(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("label",{className:"text-sm text-gray-600",children:"OLT Power:"}),(0,At.jsx)("input",{type:"number",value:W,onChange:e=>H(parseFloat(e.target.value)||5),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm",step:"0.5"}),(0,At.jsx)("span",{className:"text-sm text-gray-500",children:"dBm"})]}),(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("label",{className:"text-sm text-gray-600",children:"ONU Sens:"}),(0,At.jsx)("input",{type:"number",value:Q,onChange:e=>K(parseFloat(e.target.value)||-28),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm",step:"0.5"}),(0,At.jsx)("span",{className:"text-sm text-gray-500",children:"dBm"})]}),T&&"connection"!==T.type&&(0,At.jsxs)("button",{onClick:()=>{return e=T.id,E(O.filter(t=>t.id!==e)),M(P.filter(t=>t.from.nodeId!==e&&t.to.nodeId!==e)),void R(null);var e},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition-colors text-sm",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}),(0,At.jsxs)("div",{className:"flex flex-wrap gap-3 items-center pt-2 border-t border-gray-200",children:[(0,At.jsx)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ".concat("saving"===Z?"bg-yellow-100 border border-yellow-300":"saved"===Z?"bg-green-100 border border-green-300":"error"===Z?"bg-red-100 border border-red-300":"bg-gray-100 border border-gray-200"),children:"saving"===Z?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"w-5 h-5 text-yellow-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,At.jsx)("span",{className:"text-sm font-medium text-yellow-700",children:"Saving to server..."})]}):"saved"===Z?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,At.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Saved to server!"})]}):"error"===Z?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,At.jsx)("span",{className:"text-sm font-medium text-red-700",children:"Save failed (local backup)"})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),(0,At.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Cloud sync enabled"})]})}),(0,At.jsx)("div",{className:"bg-blue-50 border border-blue-200 px-3 py-2 rounded-lg",children:(0,At.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["\ud83d\udcca ",O.length," items, ",P.length," cables"]})}),(0,At.jsxs)("button",{onClick:()=>{window.confirm("Clear the current diagram? This cannot be undone.")&&(E([]),M([]),R(null))},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm font-medium flex items-center gap-2 transition-colors ml-auto",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]})]}),oe&&(0,At.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>ie(!1),children:(0,At.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,At.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-4",children:[(0,At.jsxs)("div",{className:"flex items-center justify-between",children:[(0,At.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"Select ONU"]}),(0,At.jsx)("button",{onClick:()=>ie(!1),className:"text-white/80 hover:text-white",children:(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,At.jsxs)("p",{className:"text-green-100 text-sm mt-1",children:[null===ce||void 0===ce?void 0:ce.name," \u2192 PON ",se," (",de.length," ONUs)"]})]}),(0,At.jsxs)("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:[(0,At.jsxs)("div",{className:"mb-4 p-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,At.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:(0,At.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,At.jsxs)("div",{className:"text-left flex-1",children:[(0,At.jsx)("p",{className:"font-bold text-gray-800",children:"Add Generic ONU"}),(0,At.jsx)("p",{className:"text-sm text-gray-500",children:"Set distance to calculate expected power"})]})]}),(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsxs)("div",{className:"flex-1",children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Distance (meters)"}),(0,At.jsx)("input",{type:"number",id:"genericOnuDistance",defaultValue:500,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-bold",placeholder:"e.g. 500",step:"50",min:"0"})]}),(0,At.jsxs)("div",{className:"flex-1",children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Expected Loss"}),(0,At.jsxs)("p",{className:"px-3 py-2 bg-orange-100 rounded-lg text-sm font-bold text-orange-700",children:["~",(parseInt((null===(r=document.getElementById("genericOnuDistance"))||void 0===r?void 0:r.value)||500)/1e3*.35).toFixed(2)," dB"]})]}),(0,At.jsxs)("button",{onClick:()=>{const e=document.getElementById("genericOnuDistance"),t=e&&parseInt(e.value)||500,n=O.filter(e=>"onu"===e.type).length,r={id:"onu-".concat(Date.now()),type:"onu",name:"ONU ".concat(n+1),x:450+n%4*100,y:80+70*Math.floor(n/4),width:85,height:55,onuId:null,mac:"",distance:t,rxPower:null,sensitivity:Q};E([...O,r]),ie(!1)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),0===de.length?(0,At.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,At.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,At.jsx)("p",{children:"No ONUs found on this PON port"}),(0,At.jsx)("p",{className:"text-sm mt-1",children:"Select a different PON port or add a generic ONU"})]}):(0,At.jsx)("div",{className:"space-y-2",children:de.map(e=>{const t=O.some(t=>t.onuId===e.id);return(0,At.jsxs)("button",{onClick:()=>(e=>{if(!e)return;if(O.some(t=>t.onuId===e.id))return void alert("This ONU is already on the diagram");const t=O.filter(e=>"onu"===e.type).length,n={id:"onu-".concat(Date.now()),type:"onu",name:e.description||e.mac_address,x:450+t%4*100,y:80+70*Math.floor(t/4),width:85,height:55,onuId:e.id,mac:e.mac_address,distance:e.distance||0,rxPower:e.rx_power,sensitivity:Q,ponPort:e.pon_port,onuNumber:e.onu_id,isOnline:e.is_online};E([...O,n]),ie(!1)})(e),disabled:t,className:"w-full p-3 rounded-xl border-2 transition-all flex items-center gap-3 ".concat(t?"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60":"border-gray-200 hover:border-green-500 hover:bg-green-50"),children:[(0,At.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.is_online?"bg-green-500":"bg-red-500"),children:(0,At.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,At.jsxs)("div",{className:"flex-1 text-left",children:[(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("p",{className:"font-medium text-gray-800",children:e.description||"No Name"}),t&&(0,At.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs",children:"Added"})]}),(0,At.jsx)("p",{className:"text-sm text-gray-500 font-mono",children:e.mac_address})]}),(0,At.jsxs)("div",{className:"text-right text-sm",children:[e.distance&&(0,At.jsxs)("p",{className:"text-gray-600",children:[e.distance,"m"]}),e.rx_power&&(0,At.jsxs)("p",{className:"font-medium ".concat(e.rx_power>-25?"text-green-600":e.rx_power>-28?"text-yellow-600":"text-red-600"),children:[e.rx_power," dBm"]})]})]},e.id)})})]})]})}),(0,At.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,At.jsxs)("div",{ref:i,className:"relative bg-gray-50 overflow-auto",style:{height:"calc(100vh - 280px)",minHeight:"500px",cursor:B?"crosshair":"default"},onMouseMove:e=>{var t;const n=null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect();if(n&&I({x:e.clientX-n.left,y:e.clientY-n.top}),D){var r;const t=null===(r=i.current)||void 0===r?void 0:r.getBoundingClientRect();if(t){const n=e.clientX-t.left-F.x,r=e.clientY-t.top-F.y;E(O.map(e=>e.id===D.id?d(d({},e),{},{x:Math.max(0,n),y:Math.max(0,r)}):e))}}},onMouseUp:fe,onMouseLeave:fe,children:[(0,At.jsxs)("svg",{className:"absolute inset-0 w-full h-full",style:{minWidth:c.width,minHeight:c.height},children:[(0,At.jsx)("defs",{children:(0,At.jsx)("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,At.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#E5E7EB",strokeWidth:"0.5"})})}),(0,At.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)",style:{pointerEvents:"none"}}),P.map(e=>{const t=O.find(t=>t.id===e.from.nodeId),n=O.find(t=>t.id===e.to.nodeId);if(!t||!n)return null;const r=pe(t,e.from.portType,e.from.portIndex),a=pe(n,e.to.portType,e.to.portIndex),s="onu"===t.type&&"switch"===n.type||"switch"===t.type&&"building"===n.type,l=s?void 0:ge["".concat(n.id,"-").concat("onu"===n.type?"rx":"input")],o=s?{color:"#F59E0B"}:be(l),i=(r.x+a.x)/2,c=(r.y+a.y)/2,u=i+2*(e.labelOffsetX||0),p=c+2*(e.labelOffsetY||0),m=.25*r.x+.5*u+.25*a.x,h=.25*r.y+.5*p+.25*a.y,f="M ".concat(r.x," ").concat(r.y," Q ").concat(u," ").concat(p,", ").concat(a.x," ").concat(a.y),x="connection"===(null===T||void 0===T?void 0:T.type)&&(null===T||void 0===T?void 0:T.id)===e.id,g=e.cableLength||(s?50:500),b=g/1e3*G;return(0,At.jsxs)("g",{children:[(0,At.jsx)("path",{d:f,fill:"none",stroke:"transparent",strokeWidth:"15",className:"cursor-pointer",onClick:()=>R(d({type:"connection"},e))}),(0,At.jsx)("path",{d:f,fill:"none",stroke:x?"#3B82F6":o.color,strokeWidth:x?4:3,strokeDasharray:s?"8,4":"none",className:"pointer-events-none"}),(0,At.jsx)("foreignObject",{x:m-45,y:h-(s?18:28),width:"90",height:s?36:56,style:{overflow:"visible"},children:(0,At.jsxs)("div",{className:"flex flex-col items-center justify-center p-1 rounded-lg border-2 shadow-md ".concat(x?"bg-blue-500 border-blue-600":s?"bg-yellow-50 border-yellow-400":"bg-white border-gray-300"),style:{height:s?"32px":"52px",cursor:"grab"},draggable:!1,onMouseDown:t=>{if("INPUT"===t.target.tagName)return;t.preventDefault(),t.stopPropagation();const n=t.clientX,r=t.clientY,a=e.labelOffsetX||0,s=e.labelOffsetY||0;t.target.style.cursor="grabbing";const l=t=>{t.preventDefault();const l=t.clientX-n,o=t.clientY-r;ve(e.id,"labelOffsetX",a+l),ve(e.id,"labelOffsetY",s+o)},o=e=>{e.target.style.cursor="grab",document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",o)},title:"Drag to move",children:[(0,At.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,At.jsx)("input",{type:"number",value:g,onChange:t=>{t.stopPropagation(),ve(e.id,"cableLength",parseInt(t.target.value)||0)},onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),className:"w-14 px-1 py-0.5 text-center text-xs font-bold rounded border ".concat(x?"bg-blue-400 border-blue-300 text-white placeholder-blue-200":"bg-gray-50 border-gray-300 text-gray-800"),style:{fontSize:"11px"},step:s?10:50,min:"0"}),(0,At.jsx)("span",{className:"text-xs font-medium ".concat(x?"text-white":"text-gray-600"),children:"m"})]}),!s&&(0,At.jsxs)("div",{className:"text-xs mt-0.5 font-medium ".concat(x?"text-blue-100":"text-orange-600"),children:["-",b.toFixed(2)," dB"]})]})}),(0,At.jsx)("foreignObject",{x:m+40,y:h-15,width:"28",height:"28",children:(0,At.jsx)("button",{onClick:t=>{t.stopPropagation(),t.preventDefault(),xe(e.id),R(null)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-md border border-white",title:"Delete cable",children:"\xd7"})})]},e.id)}),B&&(()=>{const e=O.find(e=>e.id===B.nodeId);if(!e)return null;const t=pe(e,B.portType,B.portIndex),n=(t.x+U.x)/2,r="M ".concat(t.x," ").concat(t.y," C ").concat(n," ").concat(t.y,", ").concat(n," ").concat(U.y,", ").concat(U.x," ").concat(U.y);return(0,At.jsx)("path",{d:r,fill:"none",stroke:"#9CA3AF",strokeWidth:"2",strokeDasharray:"5,5"})})()]}),O.map(e=>{var t;return(0,At.jsxs)("div",{className:"absolute cursor-move select-none transition-all ".concat((null===T||void 0===T?void 0:T.id)===e.id?"z-10":""),style:{left:e.x,top:e.y,width:e.width,height:e.height},onMouseDown:t=>((e,t)=>{var n;if(e.target.classList.contains("port"))return;const r=null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect();r&&(V(t),z({x:e.clientX-r.left-t.x,y:e.clientY-r.top-t.y})),R(t)})(t,e),children:["olt"===e.type&&(0,At.jsx)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-cyan-400 ring-offset-1":""),children:(0,At.jsxs)("div",{className:"absolute inset-0 bg-[#1a1a1a] rounded-sm shadow-xl",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[(0,At.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-gradient-to-b from-[#3a3a3a] to-[#1a1a1a]"}),(0,At.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-t from-[#0a0a0a] to-[#1a1a1a]"}),(0,At.jsxs)("div",{className:"absolute left-1 top-0 bottom-0 w-20 flex flex-col justify-center",children:[(0,At.jsxs)("div",{className:"bg-[#2a2a2a] rounded-sm px-1.5 py-1 mx-0.5",children:[(0,At.jsx)("div",{className:"text-[8px] font-bold text-cyan-400 tracking-wide",children:"VSOL"}),(0,At.jsx)("div",{className:"text-[9px] font-bold text-white truncate",children:e.name})]}),(0,At.jsxs)("div",{className:"flex gap-1 mt-1 px-1",children:[(0,At.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-lg",style:{boxShadow:"0 0 4px #22c55e"}}),(0,At.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500 shadow-lg",style:{boxShadow:"0 0 4px #06b6d4"}}),(0,At.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 shadow-lg",style:{boxShadow:"0 0 4px #f97316"}})]})]}),(0,At.jsxs)("div",{className:"absolute right-1 top-1 bottom-1 flex flex-col justify-around",style:{width:"24px"},children:[(0,At.jsx)("div",{className:"text-[5px] text-gray-500 text-center mb-0.5",children:"PON"}),Array.from({length:e.ponPorts},(t,n)=>{const r=ge["".concat(e.id,"-output-").concat(n)];return(0,At.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[(0,At.jsx)("span",{className:"text-[5px] text-gray-500",children:n+1}),(0,At.jsx)("div",{className:"port w-3 h-2.5 bg-[#0d0d0d] border border-[#3a3a3a] cursor-crosshair hover:border-cyan-400 transition-all flex items-center justify-center",style:{marginRight:-6,borderRadius:"1px"},onMouseDown:t=>me(t,e,"output",n),onMouseUp:t=>he(t,e,"output",n),title:"PON ".concat(n+1,": ").concat((null===r||void 0===r?void 0:r.toFixed(1))||W," dBm"),children:(0,At.jsx)("div",{className:"w-1.5 h-1 bg-green-500 rounded-sm",style:{boxShadow:"0 0 3px #22c55e"}})})]},n)})]})]})}),"splitter"===e.type&&(0,At.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-purple-400 ring-offset-1":""),children:[(0,At.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#f8f8f8] to-[#e8e8e8] rounded shadow-md border border-[#ccc]",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[(0,At.jsx)("div",{className:"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-[#4a5568] to-[#2d3748] flex items-center justify-center rounded-t",children:(0,At.jsx)("span",{className:"text-[6px] font-bold text-white tracking-wide",children:e.splitterType||e.name})}),(0,At.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:(0,At.jsx)("div",{className:"w-2 h-4 bg-blue-600 rounded-r-sm border-r border-t border-b border-blue-700",style:{marginLeft:"-2px"}})}),(0,At.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pt-3",children:(0,At.jsx)("div",{className:"text-[5px] text-gray-500 font-medium",children:e.category})}),(0,At.jsx)("div",{className:"absolute right-0 top-3 bottom-1 flex flex-col justify-around",children:Array.from({length:e.outputPorts},(t,n)=>{const r=ge["".concat(e.id,"-output-").concat(n)],a=e.portLosses?e.portLosses[n]:e.loss;return(0,At.jsx)("div",{className:"flex items-center",children:(0,At.jsx)("div",{className:"port w-2 h-2.5 bg-orange-500 rounded-l-sm border-l border-t border-b border-orange-600 cursor-crosshair hover:bg-orange-400 transition-all",style:{marginRight:-4},onMouseDown:t=>me(t,e,"output",n),onMouseUp:t=>he(t,e,"output",n),title:"Port ".concat(n+1,": ").concat((null===r||void 0===r?void 0:r.toFixed(1))||"?"," dBm (").concat(a," dB loss)")})},n)})})]}),(0,At.jsx)("div",{className:"port absolute left-0 top-1/2 -translate-y-1/2 w-3 h-5 cursor-crosshair opacity-0",style:{marginLeft:-6},onMouseDown:t=>me(t,e,"input",0),onMouseUp:t=>he(t,e,"input",0),title:"Input: ".concat((null===(t=ge["".concat(e.id,"-input")])||void 0===t?void 0:t.toFixed(1))||"?"," dBm")})]}),"onu"===e.type&&(t=>{const n=e.onuId?l.find(t=>t.id===e.onuId):null,r=n?n.is_online:!1!==e.isOnline;return(0,At.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-green-400 ring-offset-1":""),children:[(0,At.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#fefefe] to-[#f0f0f0] rounded shadow-md border ".concat(r?"border-[#ddd]":"border-red-400"),style:{boxShadow:r?"0 2px 6px rgba(0,0,0,0.1)":"0 2px 8px rgba(239,68,68,0.3)"},children:[(0,At.jsxs)("div",{className:"absolute top-0 left-0 right-0 h-3 rounded-t flex items-center px-1.5 ".concat(r?"bg-gradient-to-r from-[#1e3a5f] via-[#2563eb] to-[#1e3a5f]":"bg-gradient-to-r from-red-700 via-red-500 to-red-700"),children:[(0,At.jsx)("span",{className:"text-[7px] font-bold text-white",children:"ONU"}),!r&&(0,At.jsx)("span",{className:"text-[6px] text-red-200 ml-auto",children:"OFFLINE"})]}),(0,At.jsxs)("div",{className:"absolute top-4 right-1.5 flex gap-1",children:[(0,At.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(r?void 0!==ge["".concat(e.id,"-rx")]?"bg-green-500":"bg-gray-300":"bg-red-500"),style:r?void 0!==ge["".concat(e.id,"-rx")]?{boxShadow:"0 0 4px #22c55e"}:{}:{boxShadow:"0 0 4px #ef4444"}}),(0,At.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(r?"bg-blue-500":"bg-gray-400"),style:r?{boxShadow:"0 0 4px #3b82f6"}:{}})]}),(0,At.jsx)("div",{className:"absolute top-4 left-1.5 right-6",children:(0,At.jsx)("div",{className:"text-[8px] font-medium text-gray-700 truncate",children:e.name})}),void 0!==ge["".concat(e.id,"-rx")]&&(0,At.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,At.jsxs)("div",{className:"text-[10px] text-center font-bold py-1 rounded ".concat("GOOD"===be(ge["".concat(e.id,"-rx")]).status?"bg-green-500 text-white":"MARGINAL"===be(ge["".concat(e.id,"-rx")]).status?"bg-yellow-500 text-white":"bg-red-500 text-white"),style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:[ge["".concat(e.id,"-rx")].toFixed(1)," dBm"]})})]}),(0,At.jsx)("div",{className:"port absolute left-0 top-1/2 -translate-y-1/2 w-3 h-5 bg-green-600 rounded-r-sm border-r border-t border-b border-green-700 cursor-crosshair hover:bg-green-500 hover:scale-110 transition-all",style:{marginLeft:-6},onMouseDown:t=>me(t,e,"input",0),onMouseUp:t=>he(t,e,"input",0),title:"RX: ".concat((null===(t=ge["".concat(e.id,"-rx")])||void 0===t?void 0:t.toFixed(1))||"?"," dBm")}),(0,At.jsx)("div",{className:"port absolute right-0 top-1/2 -translate-y-1/2 w-3 h-4 bg-yellow-500 rounded-l-sm border-l border-t border-b border-yellow-600 cursor-crosshair hover:bg-yellow-400 hover:scale-110 transition-all",style:{marginRight:-6},onMouseDown:t=>me(t,e,"output",0),onMouseUp:t=>he(t,e,"output",0),title:"Ethernet output (to Switch)"})]})})(),"switch"===e.type&&(0,At.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-orange-400 ring-offset-1":""),children:[(0,At.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2a2a2a] to-[#1a1a1a] rounded-lg shadow-lg border border-[#3a3a3a]",style:{boxShadow:"0 3px 10px rgba(0,0,0,0.4)"},children:[(0,At.jsxs)("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-r from-orange-600 via-orange-500 to-orange-600 rounded-t-lg flex items-center justify-between px-2",children:[(0,At.jsx)("span",{className:"text-[8px] font-bold text-white",children:"L2 SWITCH"}),(0,At.jsxs)("span",{className:"text-[8px] font-bold text-orange-200",children:[e.ports," PORT"]})]}),(0,At.jsx)("div",{className:"absolute top-7 left-1 right-1 cursor-pointer",onClick:t=>{t.stopPropagation();const n=prompt("Switch name:",e.name||"");null!==n&&n.trim()&&ye(e.id,"name",n.trim())},title:"Click to rename switch",children:(0,At.jsx)("div",{className:"text-[9px] font-bold text-white truncate text-center bg-gray-700/50 rounded px-1 py-0.5",children:e.name})}),(0,At.jsx)("div",{className:"absolute top-14 left-1 right-1 bottom-1",children:Array.from({length:e.ports},(e,t)=>(0,At.jsxs)("div",{className:"flex items-center h-[22px] border-b border-gray-700 last:border-b-0",children:[(0,At.jsx)("div",{className:"w-6 text-[9px] font-bold text-orange-400 text-center",children:t+1}),(0,At.jsx)("div",{className:"flex-1 h-3 bg-gray-700 rounded mx-1",children:(0,At.jsx)("div",{className:"h-full w-1/3 bg-green-500 rounded",style:{boxShadow:"0 0 3px #22c55e"}})})]},t))})]}),(0,At.jsx)("div",{className:"port absolute left-0 w-4 h-5 bg-yellow-500 rounded-r-sm border-r border-t border-b border-yellow-600 cursor-crosshair hover:bg-yellow-400 hover:scale-110 transition-all",style:{marginLeft:-8,top:12},onMouseDown:t=>me(t,e,"input",0),onMouseUp:t=>he(t,e,"input",0),title:"Uplink (from ONU)"}),Array.from({length:e.ports},(t,n)=>(0,At.jsx)("div",{className:"port absolute right-0 w-4 h-4 bg-blue-500 rounded-l-sm border-l border-t border-b border-blue-600 cursor-crosshair hover:bg-blue-400 hover:scale-110 transition-all flex items-center justify-center",style:{marginRight:-8,top:30+22*n+5},onMouseDown:t=>me(t,e,"output",n),onMouseUp:t=>he(t,e,"output",n),title:"Port ".concat(n+1," \u2192 Floor"),children:(0,At.jsx)("span",{className:"text-[6px] font-bold text-white",children:n+1})},n))]}),"building"===e.type&&(0,At.jsxs)("div",{className:"relative h-full ".concat((null===T||void 0===T?void 0:T.id)===e.id?"ring-2 ring-indigo-400 ring-offset-1":""),children:[(0,At.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4a5568] to-[#2d3748] rounded-lg shadow-lg border-2 border-gray-600",style:{boxShadow:"0 4px 15px rgba(0,0,0,0.4)"},children:[(0,At.jsx)("div",{className:"absolute -top-2 left-2 right-2 h-3 bg-gradient-to-b from-[#718096] to-[#4a5568] rounded-t-lg border-t-2 border-l-2 border-r-2 border-gray-500"}),(0,At.jsx)("div",{className:"absolute top-1 left-0 right-0 flex items-center justify-center",children:(0,At.jsx)("div",{className:"px-2 py-0.5 bg-indigo-600 rounded text-[10px] font-bold text-white shadow cursor-pointer hover:bg-indigo-500 transition-colors",onClick:t=>{t.stopPropagation();const n=prompt("Building name:",e.name||"");null!==n&&n.trim()&&ye(e.id,"name",n.trim())},title:"Click to change building name",children:e.name})}),(0,At.jsx)("div",{className:"absolute top-7 left-1 right-1 bottom-6 overflow-hidden rounded",children:Array.from({length:e.totalFloors||12},(t,n)=>(e.totalFloors||12)-n).map(t=>{var n;const r={home1:{customer:"",unit:"".concat(t,"A")},home2:{customer:"",unit:"".concat(t,"B")}},a=(null===(n=e.floors)||void 0===n?void 0:n[t])||r,s=a.home1||{customer:"",unit:"".concat(t,"A")},l=a.home2||{customer:"",unit:"".concat(t,"B")};return(0,At.jsxs)("div",{className:"flex h-[24px] border-b border-gray-600 last:border-b-0",children:[(0,At.jsx)("div",{className:"w-7 bg-gray-700 flex items-center justify-center border-r border-gray-600",children:(0,At.jsx)("span",{className:"text-[10px] font-bold text-yellow-300",children:t})}),(0,At.jsxs)("div",{className:"flex-1 bg-gradient-to-b from-amber-100 to-amber-200 border-r border-gray-500 flex flex-col items-center justify-center cursor-pointer hover:from-amber-200 hover:to-amber-300 transition-colors",onClick:n=>{n.stopPropagation();const r=prompt("Customer name for ".concat(s.unit||"".concat(t,"A"),":"),s.customer||"");if(null!==r){const n=d({},e.floors||{});n[t]={home1:{customer:r,unit:s.unit||"".concat(t,"A")},home2:l},ye(e.id,"floors",n)}},title:"".concat(s.unit||"".concat(t,"A"),": ").concat(s.customer||"Click to add customer"),children:[(0,At.jsx)("div",{className:"text-[7px] font-bold text-gray-700",children:s.unit||"".concat(t,"A")}),(0,At.jsx)("div",{className:"text-[6px] text-gray-600 truncate w-full px-0.5 text-center",children:s.customer||"---"})]}),(0,At.jsxs)("div",{className:"flex-1 bg-gradient-to-b from-blue-100 to-blue-200 flex flex-col items-center justify-center cursor-pointer hover:from-blue-200 hover:to-blue-300 transition-colors",onClick:n=>{n.stopPropagation();const r=prompt("Customer name for ".concat(l.unit||"".concat(t,"B"),":"),l.customer||"");if(null!==r){const n=d({},e.floors||{});n[t]={home1:s,home2:{customer:r,unit:l.unit||"".concat(t,"B")}},ye(e.id,"floors",n)}},title:"".concat(l.unit||"".concat(t,"B"),": ").concat(l.customer||"Click to add customer"),children:[(0,At.jsx)("div",{className:"text-[7px] font-bold text-gray-700",children:l.unit||"".concat(t,"B")}),(0,At.jsx)("div",{className:"text-[6px] text-gray-600 truncate w-full px-0.5 text-center",children:l.customer||"---"})]})]},t)})}),(0,At.jsxs)("div",{className:"absolute bottom-1 left-1 right-1 flex justify-center gap-1",children:[(0,At.jsx)("button",{className:"px-2 py-0.5 bg-red-500 hover:bg-red-600 text-white text-[9px] font-bold rounded shadow transition-colors",onClick:t=>{t.stopPropagation();const n=e.totalFloors||12;if(n>1){const t=n-1,r=d({},e.floors||{});delete r[n],ye(e.id,"totalFloors",t),ye(e.id,"floors",r),ye(e.id,"height",50+24*t)}},title:"Remove top floor",children:"\u2212 Floor"}),(0,At.jsx)("button",{className:"px-2 py-0.5 bg-green-500 hover:bg-green-600 text-white text-[9px] font-bold rounded shadow transition-colors",onClick:t=>{t.stopPropagation();const n=(e.totalFloors||12)+1,r=d({},e.floors||{});r[n]={home1:{customer:"",unit:"".concat(n,"A")},home2:{customer:"",unit:"".concat(n,"B")}},ye(e.id,"totalFloors",n),ye(e.id,"floors",r),ye(e.id,"height",50+24*n)},title:"Add new floor",children:"+ Floor"})]})]}),Array.from({length:e.totalFloors||12},(t,n)=>{const r=(e.totalFloors||12)-n;return(0,At.jsx)("div",{className:"port absolute left-0 w-4 h-4 bg-blue-500 rounded-r-sm border-r border-t border-b border-blue-600 cursor-crosshair hover:bg-blue-400 hover:scale-110 transition-all flex items-center justify-center",style:{marginLeft:-8,top:30+24*n+4},onMouseDown:t=>me(t,e,"input",r),onMouseUp:t=>he(t,e,"input",r),title:"Floor ".concat(r," input"),children:(0,At.jsx)("span",{className:"text-[5px] font-bold text-white",children:r})},r)})]})]},e.id)}),0===O.length&&(0,At.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,At.jsxs)("div",{className:"text-center text-gray-400",children:[(0,At.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,At.jsx)("p",{className:"text-lg",children:"Click buttons above to add components"}),(0,At.jsx)("p",{className:"text-sm mt-2",children:"Drag ports to connect them with fiber cables"})]})})]})}),T&&"connection"!==T.type&&(0,At.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,At.jsxs)("h3",{className:"font-bold text-gray-800 mb-3",children:["Properties: ",T.name]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Name"}),(0,At.jsx)("input",{type:"text",value:T.name,onChange:e=>ye(T.id,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),"splitter"===T.type&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Type"}),(0,At.jsx)("select",{value:T.splitterType,onChange:e=>{const t=e.target.value,n=o[t];ye(T.id,"splitterType",t),ye(T.id,"name",t),ye(T.id,"outputPorts",n.ports),ye(T.id,"loss",n.loss),ye(T.id,"portLosses",n.portLosses),ye(T.id,"height",35+10*n.ports)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:Object.keys(o).map(e=>(0,At.jsx)("option",{value:e,children:e},e))})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Brand"}),(0,At.jsx)("input",{type:"text",value:T.brand||"Generic",onChange:e=>ye(T.id,"brand",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),"onu"===T.type&&(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Distance (m)"}),(0,At.jsx)("input",{type:"number",value:T.distance||500,onChange:e=>ye(T.id,"distance",parseInt(e.target.value)||500),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),"switch"===T.type&&(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Ports"}),(0,At.jsxs)("select",{value:T.ports,onChange:e=>ye(T.id,"ports",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,At.jsx)("option",{value:8,children:"8 Ports"}),(0,At.jsx)("option",{value:16,children:"16 Ports"}),(0,At.jsx)("option",{value:24,children:"24 Ports"}),(0,At.jsx)("option",{value:48,children:"48 Ports"})]})]}),"building"===T.type&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Total Floors"}),(0,At.jsx)("select",{value:T.totalFloors||12,onChange:e=>{const t=parseInt(e.target.value),n={};for(let a=1;a<=t;a++){var r;n[a]=(null===(r=T.floors)||void 0===r?void 0:r[a])||{home1:{customer:"",unit:"".concat(a,"A")},home2:{customer:"",unit:"".concat(a,"B")}}}ye(T.id,"totalFloors",t),ye(T.id,"floors",n),ye(T.id,"height",30+24*t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[4,6,8,10,12,14,16,18,20].map(e=>(0,At.jsxs)("option",{value:e,children:[e," Floors"]},e))})]}),(0,At.jsxs)("div",{className:"col-span-2",children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Click on any home in the building to set customer name"}),(0,At.jsxs)("div",{className:"text-xs text-indigo-600 font-medium",children:[Object.values(T.floors||{}).reduce((e,t)=>{var n,r;return e+(null!==(n=t.home1)&&void 0!==n&&n.customer?1:0)+(null!==(r=t.home2)&&void 0!==r&&r.customer?1:0)},0)," / ",2*(T.totalFloors||12)," homes assigned"]})]})]})]})]}),T&&"connection"===T.type&&(0,At.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 border-2 border-blue-500",children:[(0,At.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,At.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"})}),"Cable Properties"]}),(0,At.jsxs)("button",{onClick:()=>{xe(T.id),R(null)},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm flex items-center gap-1",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Cable"]})]}),(0,At.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,At.jsxs)("div",{className:"col-span-2",children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1 font-medium",children:"Cable Length (meters)"}),(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("input",{type:"number",value:T.cableLength||500,onChange:e=>ve(T.id,"cableLength",parseInt(e.target.value)||100),className:"w-full px-3 py-2 border-2 border-blue-300 rounded-lg text-sm font-bold focus:border-blue-500 focus:ring-2 focus:ring-blue-200",step:"50",min:"0"}),(0,At.jsx)("span",{className:"text-gray-500 text-sm",children:"m"})]}),(0,At.jsx)("div",{className:"flex gap-1 mt-2",children:[50,100,200,500,1e3,2e3].map(e=>(0,At.jsxs)("button",{onClick:()=>ve(T.id,"cableLength",e),className:"px-2 py-1 text-xs rounded ".concat(T.cableLength===e?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"),children:[e,"m"]},e))})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Connectors"}),(0,At.jsx)("input",{type:"number",value:T.connectors||2,onChange:e=>ve(T.id,"connectors",parseInt(e.target.value)||2),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Fiber Loss"}),(0,At.jsxs)("p",{className:"text-lg font-bold text-orange-600",children:[((T.cableLength||500)/1e3*G).toFixed(2)," dB"]}),(0,At.jsxs)("p",{className:"text-xs text-gray-400",children:[((T.cableLength||500)/1e3).toFixed(2)," km \xd7 0.35"]})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Total Loss"}),(0,At.jsxs)("p",{className:"text-lg font-bold text-red-600",children:[((T.cableLength||500)/1e3*G+(T.connectors||2)*X).toFixed(2)," dB"]}),(0,At.jsxs)("p",{className:"text-xs text-gray-400",children:["fiber + ",T.connectors||2," conn"]})]})]})]})]})}function cn(e){var t,n;let{currentPage:r,onNavigate:a,user:s,onLogout:l,isOpen:o,onClose:i,pageName:c,darkMode:d,onToggleDarkMode:u}=e;const p=[{id:"dashboard",label:"Dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"onus",label:"ONUs",icon:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"},{id:"regions",label:"Regions",icon:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",adminOnly:!1},{id:"alarms",label:"Alarms",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},{id:"splitter",label:"Splitter Simulator",icon:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}];return"admin"===(null===s||void 0===s?void 0:s.role)&&p.push({id:"users",label:"Users",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}),(0,At.jsxs)(At.Fragment,{children:[o&&(0,At.jsx)("div",{className:"fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity",onClick:i}),(0,At.jsx)("aside",{className:"fixed inset-y-0 left-0 z-50 w-[280px] border-r transform transition-all duration-300 ease-material lg:translate-x-0 lg:static lg:inset-0 ".concat(o?"translate-x-0":"-translate-x-full"," ").concat(d?"bg-slate-800 border-slate-700":"bg-white border-[#e8eaed]"),children:(0,At.jsxs)("div",{className:"flex flex-col h-full",children:[(0,At.jsx)("div",{className:"p-6 border-b ".concat(d?"border-slate-700":"border-[#e8eaed]"),children:(0,At.jsxs)("div",{className:"flex items-center justify-between",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-10 h-10 bg-[#2563eb] rounded-lg flex items-center justify-center",children:(0,At.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h1",{className:"text-base font-semibold ".concat(d?"text-white":"text-[#111827]"),children:c||"OLT Manager"}),(0,At.jsx)("p",{className:"text-xs ".concat(d?"text-slate-400":"text-[#9ca3af]"),children:"GPON Network"})]})]}),(0,At.jsxs)("div",{className:"flex items-center gap-1",children:[(0,At.jsx)("button",{onClick:u,"aria-label":d?"Switch to light mode":"Switch to dark mode",title:d?"Switch to light mode":"Switch to dark mode",className:"p-2 rounded-lg transition-all duration-300 ".concat(d?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:d?(0,At.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}):(0,At.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),(0,At.jsx)("button",{onClick:i,"aria-label":"Close menu",title:"Close menu",className:"lg:hidden p-2 text-[#9ca3af] hover:text-[#111827] hover:bg-[#f4f5f7] rounded-lg transition-colors",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),(0,At.jsxs)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[(0,At.jsx)("p",{className:"px-3 py-2 text-xs font-medium uppercase tracking-wider ".concat(d?"text-slate-400":"text-[#9ca3af]"),children:"Menu"}),p.map(e=>(0,At.jsxs)("button",{onClick:()=>{a(e.id),i()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-150 ".concat(r===e.id?d?"bg-blue-900/30 text-blue-400":"bg-blue-50 text-[#2563eb]":d?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-[#4b5563] hover:bg-[#f4f5f7] hover:text-[#111827]"),children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:e.icon})}),(0,At.jsx)("span",{className:"font-medium text-sm",children:e.label})]},e.id))]}),(0,At.jsxs)("div",{className:"p-4 border-t ".concat(d?"border-slate-700":"border-[#e8eaed]"),children:[(0,At.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,At.jsxs)("div",{className:"relative",children:[(0,At.jsx)("div",{className:"w-10 h-10 bg-[#2563eb] rounded-lg flex items-center justify-center text-white font-semibold text-sm",children:(null===s||void 0===s||null===(t=s.username)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"U"}),(0,At.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-[#059669] rounded-full border-2 ".concat(d?"border-slate-800":"border-white")})]}),(0,At.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,At.jsx)("p",{className:"text-sm font-medium truncate ".concat(d?"text-white":"text-[#111827]"),children:(null===s||void 0===s?void 0:s.full_name)||(null===s||void 0===s?void 0:s.username)}),(0,At.jsx)("p",{className:"text-xs capitalize ".concat(d?"text-slate-400":"text-[#9ca3af]"),children:null===s||void 0===s?void 0:s.role})]})]}),(0,At.jsxs)("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg transition-all duration-150 border ".concat(d?"text-slate-300 hover:text-red-400 hover:bg-red-900/20 border-slate-600":"text-[#4b5563] hover:text-[#dc2626] hover:bg-red-50 border-[#e8eaed]"),children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,At.jsx)("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]})})]})}function dn(e){let{status:t,message:n}=e;return(0,At.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:[(0,At.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto"}),(0,At.jsxs)("div",{className:"relative bg-gradient-to-br ".concat((()=>{switch(t){case"suspended":return"from-yellow-600 to-orange-600";case"expired":default:return"from-red-600 to-red-800";case"revoked":return"from-gray-700 to-gray-900"}})()," p-8 rounded-2xl shadow-2xl max-w-md mx-4 text-center pointer-events-auto"),children:[(0,At.jsx)("div",{className:"text-6xl mb-4",children:(()=>{switch(t){case"suspended":return"\u26a0\ufe0f";case"expired":return"\u23f0";case"revoked":return"\ud83d\udeab";default:return"\u274c"}})()}),(0,At.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:(()=>{switch(t){case"suspended":return"License Suspended";case"expired":return"License Expired";case"revoked":return"License Revoked";default:return"License Invalid"}})()}),(0,At.jsx)("p",{className:"text-white/90 text-lg mb-6",children:n}),(0,At.jsx)("div",{className:"bg-white/20 rounded-lg p-4",children:(0,At.jsx)("p",{className:"text-white/80 text-sm",children:"Please contact your system administrator or support to resolve this issue."})}),(0,At.jsx)("div",{className:"mt-6 text-white/60 text-xs",children:"You can view the dashboard but all actions are disabled."})]})]})}function un(e){var t,n,r,s;let{user:l,onLogout:o,pageName:i}=e;const[c,u]=(0,a.useState)(()=>localStorage.getItem("currentPage")||"dashboard"),[p,m]=(0,a.useState)({status:"active",message:null}),[h,f]=(0,a.useState)(null),x=(0,a.useRef)(null),[g,b]=(0,a.useState)(null),v=(0,a.useCallback)(async()=>{try{const e=(await Rt.get("/api/license")).data;m({status:e.status||"active",message:e.status_message}),f(e)}catch(e){console.error("Failed to fetch license status:",e)}try{const e=await Ft();e.data.update_available&&e.data.update&&b(e.data)}catch(e){}},[]);(0,a.useEffect)(()=>(v(),x.current=setInterval(v,6e4),()=>{x.current&&clearInterval(x.current)}),[v]);const y="active"===p.status;(0,a.useEffect)(()=>{localStorage.setItem("currentPage",c)},[c]);const[w,j]=(0,a.useState)(null),[N,k]=(0,a.useState)([]),[S,_]=(0,a.useState)([]),[C,L]=(0,a.useState)([]),[O,E]=(0,a.useState)([]),[P,M]=(0,a.useState)(null),[T,R]=(0,a.useState)({new_onu_registration:!0,onu_offline:!0,onu_back_online:!0,olt_offline:!0,olt_back_online:!0,weak_signal:!1,weak_signal_threshold:-25,weak_signal_lower_threshold:-30,high_temperature:!1,high_temperature_threshold:60,selected_onus:[],selected_regions:[],quiet_hours_enabled:!1,quiet_hours_start:"22:00",quiet_hours_end:"07:00"}),[D,V]=(0,a.useState)(!1),[F,z]=(0,a.useState)(null),[B,A]=(0,a.useState)(null),[U,I]=(0,a.useState)(null),[W,H]=(0,a.useState)(""),[G,q]=(0,a.useState)(!1),[X,$]=(0,a.useState)(!0),[Q,K]=(0,a.useState)(!1),[J,Y]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(null),[te,ne]=(0,a.useState)(!1),[re,ae]=(0,a.useState)(!1),[se,le]=(0,a.useState)(!1),[oe,ie]=(0,a.useState)(!1),[ce,de]=(0,a.useState)("general"),[ue,pe]=(0,a.useState)(!1),[me,he]=(0,a.useState)({type:null,id:null,name:""}),[fe,xe]=(0,a.useState)(null),[ge,be]=(0,a.useState)(null),[ve,ye]=(0,a.useState)(null),[we,je]=(0,a.useState)(!1),[Ne,ke]=(0,a.useState)(window.innerWidth<768),[Se,_e]=(0,a.useState)(()=>{const e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)}),[Ce,Le]=(0,a.useState)(null),[Oe,Ee]=(0,a.useState)(""),[Pe,Me]=(0,a.useState)(null),[Te,Re]=(0,a.useState)(!1),[De,Ve]=(0,a.useState)(!1),Fe=(0,a.useRef)(null),ze=(0,a.useRef)({}),Be=(0,a.useRef)({}),Ae="admin"===(null===l||void 0===l?void 0:l.role),Ue=e=>{const t=e.image_urls||(e.image_url?[e.image_url]:[]);t.length>0&&(Le(t),Ee(e.description||"ONU ".concat(e.pon_port,":").concat(e.onu_id)))};(0,a.useEffect)(()=>{const e=()=>ke(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const Ie=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/dashboard");j(e.data)}catch(e){console.error("Failed to fetch stats:",e)}},[]),We=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/olts");k(e.data.olts)}catch(e){console.error("Failed to fetch OLTs:",e)}},[]),He=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let n;const r={};e?n=await(t=e,Rt.get("/api/onus/search",{params:{q:t}})):(F&&(r.olt_id=F),B&&(r.region_id=B),n=await(e=>Rt.get("/api/onus",{params:e}))(r)),_(n.data.onus)}catch(n){console.error("Failed to fetch ONUs:",n)}var t},[F,B]),Ge=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/regions");L(e.data.regions||e.data)}catch(e){console.error("Failed to fetch regions:",e)}},[]),qe=(0,a.useCallback)(async()=>{if(Ae)try{const e=await Rt.get("/api/users");E(e.data.users||e.data)}catch(e){console.error("Failed to fetch users:",e)}},[Ae]),Xe=(0,a.useCallback)(async()=>{try{const e=await Dt();M(e.data)}catch(e){console.error("Failed to fetch settings:",e)}},[]),$e=(0,a.useCallback)(async()=>{try{const e=await Rt.get("/api/alarm-settings");R(e.data)}catch(e){console.error("Failed to fetch alarm settings:",e)}},[]),Qe=(0,a.useCallback)(e=>{const t="https:"===window.location.protocol?"wss:":"ws:",n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"";let r=window.location.host;if(n)try{r=new URL(n).host}catch(a){console.error("Invalid API URL:",n)}return"".concat(t,"//").concat(r,"/ws/traffic/").concat(e)},[]),Ke=(0,a.useCallback)(e=>{Fe.current&&Fe.current.close();const t=Qe(e);console.log("Connecting to WebSocket:",t),Be.current={},Re(!0);const n=new WebSocket(t);n.onopen=()=>{console.log("WebSocket connected for OLT",e),Ve(!0),Re(!1)},n.onmessage=e=>{try{const t=JSON.parse(e.data);if(t.traffic&&t.traffic.length>0){t.traffic.forEach(e=>{Be.current[e.mac_address]=d(d({},e),{},{lastUpdate:Date.now()})});const e=Object.values(Be.current).filter(e=>Date.now()-e.lastUpdate<3e4).sort((e,t)=>t.rx_kbps+t.tx_kbps-(e.rx_kbps+e.tx_kbps));Me(d(d({},t),{},{traffic:e}))}else{const e=Object.values(Be.current).filter(e=>Date.now()-e.lastUpdate<3e4).sort((e,t)=>t.rx_kbps+t.tx_kbps-(e.rx_kbps+e.tx_kbps));Me(d(d({},t),{},{traffic:e}))}}catch(t){console.error("Failed to parse WebSocket message:",t)}},n.onerror=e=>{console.error("WebSocket error:",e),Ve(!1),Re(!1)},n.onclose=()=>{console.log("WebSocket disconnected"),Ve(!1)},Fe.current=n},[Qe]),Je=(0,a.useCallback)(e=>{const t=Object.keys(ze.current).map(Number).sort(),n=e.map(e=>e.id).sort();JSON.stringify(t)===JSON.stringify(n)&&Object.values(ze.current).some(e=>e.readyState===WebSocket.OPEN)?console.log("Already connected to all OLTs, skipping reconnect"):(Object.values(ze.current).forEach(e=>e.close()),ze.current={},Be.current={},Re(!0),console.log("Initiating WebSocket connections to",e.length,"OLTs"),e.forEach(e=>{const t=Qe(e.id);console.log("Connecting to WebSocket for OLT",e.name,":",t);const n=new WebSocket(t);n.onopen=()=>{console.log("WebSocket connected for OLT",e.name),Ve(!0),Re(!1)},n.onmessage=t=>{try{const n=JSON.parse(t.data);n.traffic&&n.traffic.length>0&&n.traffic.forEach(t=>{Be.current[t.mac_address]=d(d({},t),{},{olt_id:e.id,olt_name:e.name,lastUpdate:Date.now()})});const r=Object.values(Be.current).filter(e=>Date.now()-e.lastUpdate<3e4).sort((e,t)=>t.rx_kbps+t.tx_kbps-(e.rx_kbps+e.tx_kbps));Me({olt_id:"all",timestamp:(new Date).toISOString(),traffic:r})}catch(n){console.error("Failed to parse WebSocket message:",n)}},n.onerror=t=>{console.error("WebSocket error for OLT",e.name,":",t)},n.onclose=()=>{console.log("WebSocket disconnected for OLT",e.name),delete ze.current[e.id],0===Object.keys(ze.current).length&&Ve(!1)},ze.current[e.id]=n}))},[Qe]);(0,a.useCallback)(()=>{Fe.current&&(Fe.current.close(),Fe.current=null),Object.values(ze.current).forEach(e=>e.close()),ze.current={},Me(null),Ve(!1),Be.current={}},[]);(0,a.useEffect)(()=>{if(console.log("WebSocket effect triggered:",{currentPage:c,selectedOLT:F,oltsCount:N.length}),"onus"!==c)return console.log("Not on ONUs page, closing connections"),Fe.current&&(Fe.current.close(),Fe.current=null),Object.values(ze.current).forEach(e=>e.close()),ze.current={},Me(null),Ve(!1),void(Be.current={});F?(console.log("Connecting to single OLT:",F),Object.values(ze.current).forEach(e=>e.close()),ze.current={},Ke(F)):(console.log("ALL selected, olts.length:",N.length),N.length>0?(console.log("Connecting to ALL OLTs:",N.map(e=>e.name)),Fe.current&&(Fe.current.close(),Fe.current=null),Je(N)):console.log("No OLTs available yet, waiting..."))},[c,F,N,Ke,Je]),(0,a.useEffect)(()=>{(async()=>{$(!0),await Promise.all([Ie(),We(),He(),Ge(),qe(),Xe(),$e()]),$(!1)})()},[Ie,We,He,Ge,qe,Xe,$e]),(0,a.useEffect)(()=>{const e=setInterval(()=>{Ie(),We()},3e4);return()=>clearInterval(e)},[Ie,We]),(0,a.useEffect)(()=>{He()},[He]);const Ye=e=>{z(F===e?null:e),A(null),I(null),H("")},Ze=e=>{A(e),z(null),H(""),e&&u("onus")},et=async e=>{await(e=>Rt.post("/api/olts/".concat(e,"/poll")))(e),await We(),await He(),await Ie()},tt=async e=>{await(e=>Rt.delete("/api/olts/".concat(e)))(e),F===e&&z(null),await We(),await He(),await Ie()},nt=e=>{ee(e),Y(!0)},rt=e=>{xe(e),ne(!0)},at=async e=>{await(e=>Rt.delete("/api/onus/".concat(e)))(e),await He(),await Ie()},st=async e=>{try{const t=await(e=>Rt.post("/api/onus/".concat(e,"/reboot"),{},{timeout:9e4}))(e);alert(t.data.message||"Reboot command sent successfully")}catch(r){var t,n;alert("Failed to reboot ONU: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}},lt=(e,t,n)=>{he({type:e,id:t,name:n}),pe(!0)},ot=async e=>{window.confirm("Delete this region?")&&(await(e=>Rt.delete("/api/regions/".concat(e)))(e),await Ge())},it=async e=>{window.confirm("Delete this user?")&&(await(e=>Rt.delete("/api/users/".concat(e)))(e),await qe())};return X?(0,At.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,At.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,At.jsx)(Ut.Provider,{value:Se,children:(0,At.jsxs)("div",{className:"min-h-screen flex transition-colors duration-300 ".concat(Se?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50"),children:[!y&&(0,At.jsx)(dn,{status:p.status,message:p.message}),(0,At.jsx)(cn,{currentPage:c,onNavigate:u,user:l,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),o()},isOpen:we,onClose:()=>je(!1),pageName:i,darkMode:Se,onToggleDarkMode:()=>{_e(e=>{const t=!e;return localStorage.setItem("darkMode",JSON.stringify(t)),t})}}),(0,At.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen transition-colors duration-300 ".concat(Se?"bg-slate-900":"bg-[#fafbfc]"),children:[(0,At.jsx)("header",{className:"sticky top-0 z-30 border-b transition-colors duration-300 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-[#e8eaed]"),children:(0,At.jsxs)("div",{className:"flex items-center justify-between px-3 lg:px-4 py-1.5",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("button",{onClick:()=>je(!0),className:"lg:hidden p-1.5 text-[#4b5563] hover:text-[#2563eb] hover:bg-blue-50 rounded-lg transition-all duration-150",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,At.jsx)("h1",{className:"text-sm lg:text-base font-semibold text-[#111827]",children:i||"OLT Manager"})]}),(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsxs)("div",{className:"hidden sm:flex items-center gap-1 px-2 py-0.5 bg-[#d1fae5] rounded-full",children:[(0,At.jsx)("span",{className:"w-1.5 h-1.5 bg-[#059669] rounded-full animate-pulse"}),(0,At.jsx)("span",{className:"text-xs font-medium text-[#059669]",children:"Live"})]}),g&&g.update_available&&(0,At.jsxs)("button",{onClick:()=>{de("license"),ie(!0)},className:"relative p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-150",title:"Update available: v".concat(null===(t=g.update)||void 0===t?void 0:t.latest_version),children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),(0,At.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"})]}),(0,At.jsx)("button",{onClick:()=>{de("general"),ie(!0)},className:"p-1.5 text-[#4b5563] hover:text-[#2563eb] hover:bg-blue-50 rounded-lg transition-all duration-150",children:(0,At.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})}),(0,At.jsxs)("main",{className:"flex-1 p-2 lg:p-4",children:["dashboard"===c&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"mb-6",children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,At.jsx)("h2",{className:"text-base font-semibold ".concat(Se?"text-white":"text-[#111827]"),children:"OLTs"}),Ae&&(0,At.jsx)("button",{onClick:()=>K(!0),className:"px-3 py-1.5 bg-[#2563eb] text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ Add OLT"})]}),0===N.length?(0,At.jsxs)("div",{className:"rounded-xl border p-8 text-center ".concat(Se?"bg-slate-800 border-slate-700 text-slate-400":"bg-white border-[#e8eaed] text-[#9ca3af]"),children:["No OLTs configured. ",Ae&&"Add your first OLT to get started."]}):(0,At.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(e=>(0,At.jsx)(an,{olt:e,onSelect:Ye,onPoll:et,onDelete:tt,onEdit:nt,isSelected:F===e.id,isAdmin:Ae,onGraph:lt,onPortGraph:(e,t,n,r)=>{lt("port","".concat(e,":").concat(n,":").concat(r),"".concat(t," - ").concat(n.toUpperCase()," ").concat(r))}},e.id))})]}),w&&(0,At.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-6",children:[(0,At.jsx)(qt,{title:"Total OLTs",value:w.total_olts,subValue:"".concat(w.online_olts," online"),color:"blue",icon:"olt"}),(0,At.jsx)(qt,{title:"Online OLTs",value:w.online_olts,color:"green",icon:"online"}),(0,At.jsx)(qt,{title:"Total ONUs",value:w.total_onus,subValue:"".concat(w.online_onus," online"),color:"purple",icon:"onu"}),(0,At.jsx)(qt,{title:"Offline ONUs",value:w.offline_onus,color:"red",icon:"offline"})]}),C.length>0&&(0,At.jsxs)("div",{className:"mb-6",children:[(0,At.jsx)("h2",{className:"text-base font-semibold mb-4 ".concat(Se?"text-white":"text-[#111827]"),children:"Regions"}),(0,At.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(e=>(0,At.jsx)("button",{onClick:()=>Ze(e.id),className:"rounded-xl p-4 text-left hover:shadow-sm transition-all duration-200 border ".concat(Se?"bg-slate-800 border-slate-700 hover:bg-slate-700":"bg-white border-[#e8eaed]"),children:(0,At.jsxs)("div",{className:"flex items-center",children:[(0,At.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:e.color?"".concat(e.color,"15"):"#6366F115"},children:(0,At.jsxs)("svg",{className:"w-5 h-5",style:{color:e.color||"#6366F1"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium ".concat(Se?"text-white":"text-[#111827]"),children:e.name}),(0,At.jsxs)("p",{className:"text-sm",style:{color:e.color||"#6366F1"},children:[e.onu_count||0," ONUs"]})]})]})},e.id))})]}),F&&(0,At.jsxs)("div",{children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,At.jsxs)("h2",{className:"text-lg font-bold text-gray-800",children:["ONUs - ",null===(n=N.find(e=>e.id===F))||void 0===n?void 0:n.name]}),(0,At.jsx)("button",{onClick:()=>u("onus"),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View All \u2192"})]}),(0,At.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[S.length," ONUs"]})]})]}),"onus"===c&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsxs)("h2",{className:"text-lg font-bold ".concat(Se?"text-white":"text-gray-800"),children:["ONUs",F&&(0,At.jsxs)("span",{className:"text-sm font-normal ml-2 ".concat(Se?"text-slate-400":"text-gray-500"),children:["(",null===(r=N.find(e=>e.id===F))||void 0===r?void 0:r.name,")"]}),B&&(0,At.jsxs)("span",{className:"text-sm font-normal ml-2 ".concat(Se?"text-slate-400":"text-gray-500"),children:["(",null===(s=C.find(e=>e.id===B))||void 0===s?void 0:s.name,")"]}),U&&(0,At.jsxs)("span",{className:"text-sm font-normal text-emerald-600 ml-2",children:["- PON ",U]})]}),(0,At.jsxs)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:[(()=>{let e=U?S.filter(e=>e.pon_port===U).length:S.length;return G&&(e=S.filter(e=>(!U||e.pon_port===U)&&!e.is_online).length),e})()," ONUs shown",U&&(0,At.jsxs)("span",{className:"text-emerald-600",children:[" (filtered by PON ",U,")"]}),G&&(0,At.jsx)("span",{className:"text-red-500",children:" (Offline Only)"})]})]}),(0,At.jsxs)("form",{onSubmit:e=>{e.preventDefault(),W.trim()?He(W.trim()):He()},className:"flex gap-2 w-full sm:w-auto",children:[(0,At.jsx)("input",{type:"text",placeholder:"Search by name or MAC...",className:"flex-1 sm:w-64 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ".concat(Se?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-gray-300"),value:W,onChange:e=>H(e.target.value)}),(0,At.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg ".concat(Se?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Search"}),(W||F||B||U||G)&&(0,At.jsx)("button",{type:"button",onClick:()=>{H(""),z(null),A(null),I(null),q(!1),He()},className:"px-4 py-2 rounded-lg ".concat(Se?"bg-slate-700 text-slate-400 hover:bg-slate-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Clear"}),(0,At.jsx)("button",{type:"button",onClick:()=>q(!G),className:"px-4 py-2 rounded-lg font-medium transition ".concat(G?"bg-red-600 text-white hover:bg-red-700":Se?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:G?"Show All":"Show Offline"})]})]}),(0,At.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,At.jsx)("button",{onClick:()=>{console.log("All button clicked"),z(null),A(null),I(null),Fe.current&&(Fe.current.close(),Fe.current=null),N.length>0&&(console.log("Directly connecting to all OLTs:",N.length),Je(N))},className:"px-3 py-1.5 rounded-lg text-sm font-medium transition ".concat(F||B?Se?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"),children:"All"}),N.map(e=>(0,At.jsx)("button",{onClick:()=>Ye(e.id),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition ".concat(F===e.id?"bg-blue-600 text-white":Se?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.name},e.id))]}),F&&(()=>{const e=[...new Set(S.map(e=>e.pon_port))].sort((e,t)=>e-t);return e.length>1?(0,At.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[(0,At.jsx)("span",{className:"text-sm font-medium ".concat(Se?"text-slate-400":"text-gray-500"),children:"PON:"}),(0,At.jsx)("button",{onClick:()=>I(null),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition ".concat(U?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-emerald-600 text-white"),children:"All"}),e.map(e=>{const t=S.filter(t=>t.pon_port===e).length,n=N.find(e=>e.id===F);return(0,At.jsxs)("div",{className:"flex items-center gap-1",children:[(0,At.jsxs)("button",{onClick:()=>I(U===e?null:e),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition flex items-center gap-1.5 ".concat(U===e?"bg-emerald-600 text-white":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"),children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"PON ",e,(0,At.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full ".concat(U===e?"bg-white/20":"bg-emerald-200"),children:t})]}),(0,At.jsx)("button",{onClick:()=>lt("pon","".concat(F,":").concat(e),"".concat((null===n||void 0===n?void 0:n.name)||"OLT"," - PON ").concat(e)),className:"p-1.5 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition",title:"View traffic graph for PON ".concat(e),children:(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]},e)})]}):null})(),(0,At.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,At.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border ".concat(Se?"bg-slate-800 border-slate-600":"bg-gradient-to-r from-cyan-50 to-blue-50 border-cyan-200"),children:[Te?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"animate-spin h-4 w-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,At.jsx)("span",{className:"text-sm font-medium ".concat(Se?"text-cyan-400":"text-cyan-700"),children:"Updating traffic..."})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(De?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,At.jsx)("svg",{className:"w-4 h-4 ".concat(Se?"text-cyan-400":"text-cyan-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),(0,At.jsx)("span",{className:"text-sm font-medium ".concat(Se?"text-cyan-400":"text-cyan-700"),children:"Live Traffic"}),!F&&(0,At.jsx)("span",{className:"text-xs ".concat(Se?"text-cyan-500":"text-cyan-600"),children:"(All OLTs)"})]}),(0,At.jsx)("span",{className:"text-xs ".concat(De?"text-green-600 font-medium":Se?"text-slate-400":"text-gray-500"),children:De?null!==Pe&&void 0!==Pe&&Pe.message?"(".concat(Pe.message,")"):"(Live ~3s)":"(connecting...)"})]}),Pe&&Pe.timestamp&&(0,At.jsx)("span",{className:"text-xs ".concat(Se?"text-slate-400":"text-gray-500"),children:new Date(Pe.timestamp).toLocaleTimeString()})]}),(()=>{let e=U?S.filter(e=>e.pon_port===U):S;return G&&(e=e.filter(e=>!e.is_online)),Ne?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)(Qt,{isOpen:!!Ce,onClose:()=>Le(null),images:Ce||[],title:Oe}),(0,At.jsx)("div",{children:e.map(e=>(0,At.jsx)(ln,{onu:e,onEdit:rt,onDelete:at,onReboot:st,isAdmin:Ae,onImagePreview:Ue},e.id))})]}):(0,At.jsx)(sn,{onus:e,onEdit:rt,onDelete:at,onReboot:st,isAdmin:Ae,trafficData:Pe&&(F?Pe.olt_id===F:"all"===Pe.olt_id)?Pe:null,onGraph:lt})})()]}),"regions"===c&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,At.jsx)("h2",{className:"text-lg font-bold ".concat(Se?"text-white":"text-gray-800"),children:"Regions"}),Ae&&(0,At.jsx)("button",{onClick:()=>{be(null),ae(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"+ Add Region"})]}),(0,At.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(e=>(0,At.jsxs)("div",{className:"rounded-xl shadow-md p-4 border-l-4 ".concat(Se?"bg-slate-800":"bg-white"),style:{borderLeftColor:e.color||"#3B82F6"},children:[(0,At.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:e.color?"".concat(e.color,"20"):"#3B82F620"},children:(0,At.jsx)("svg",{className:"w-5 h-5",style:{color:e.color||"#3B82F6"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-bold text-lg ".concat(Se?"text-white":"text-gray-800"),children:e.name}),e.description&&(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:e.description})]})]}),e.latitude&&e.longitude&&(0,At.jsx)("button",{onClick:()=>window.open("https://www.google.com/maps?q=".concat(e.latitude,",").concat(e.longitude),"_blank"),className:"text-green-600 hover:text-green-800",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})})]}),(0,At.jsxs)("div",{className:"flex items-center justify-between",children:[(0,At.jsx)("button",{onClick:()=>Ze(e.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View ONUs \u2192"}),Ae&&(0,At.jsxs)("div",{className:"space-x-2",children:[(0,At.jsx)("button",{onClick:()=>{be(e),ae(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),(0,At.jsx)("button",{onClick:()=>ot(e.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]})]},e.id))})]}),"alarms"===c&&(0,At.jsxs)("div",{className:"space-y-6",children:[(0,At.jsxs)("div",{className:"flex justify-between items-center",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("h2",{className:"text-xl font-bold ".concat(Se?"text-white":"text-gray-800"),children:"Alarm Settings"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Configure WhatsApp notifications for different events"})]}),(0,At.jsx)("button",{onClick:async()=>{V(!0);try{await Vt(T),alert("Alarm settings saved successfully!")}catch(e){alert("Failed to save alarm settings")}V(!1)},disabled:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50",children:D?"Saving...":"Save Settings"})]}),!(null!==P&&void 0!==P&&P.whatsapp_enabled)&&(0,At.jsx)("div",{className:"p-4 rounded-xl border ".concat(Se?"bg-yellow-900/30 border-yellow-800":"bg-yellow-50 border-yellow-200"),children:(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-yellow-400":"text-yellow-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium ".concat(Se?"text-yellow-400":"text-yellow-800"),children:"WhatsApp Not Configured"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-yellow-300":"text-yellow-700"),children:"Please enable WhatsApp and set recipient number in Settings to receive alarm notifications."})]})]})}),(0,At.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-green-900/30":"bg-green-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-green-400":"text-green-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"New ONU Registration"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when new ONU is detected"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.new_onu_registration,onChange:e=>R(d(d({},T),{},{new_onu_registration:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"ONU Name/MAC Address"}),(0,At.jsx)("li",{children:"Signal Strength (RX Power)"}),(0,At.jsx)("li",{children:"Distance from OLT"}),(0,At.jsx)("li",{children:"PON Port & OLT Name"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-red-900/30":"bg-red-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-red-400":"text-red-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"ONU Offline / Lost"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when ONU goes offline"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.onu_offline,onChange:e=>R(d(d({},T),{},{onu_offline:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"ONU Description"}),(0,At.jsx)("li",{children:"Customer Address"}),(0,At.jsx)("li",{children:"Last Signal & Distance Before Disconnect"}),(0,At.jsx)("li",{children:"Region & OLT Info"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-blue-900/30":"bg-blue-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-blue-400":"text-blue-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"ONU Back Online"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when ONU reconnects"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.onu_back_online,onChange:e=>R(d(d({},T),{},{onu_back_online:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"ONU Name"}),(0,At.jsx)("li",{children:"Downtime Duration"}),(0,At.jsx)("li",{children:"Current Signal Strength"}),(0,At.jsx)("li",{children:"Customer Address"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-orange-900/30":"bg-orange-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-orange-400":"text-orange-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"OLT Offline (Critical)"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when entire OLT goes down"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.olt_offline,onChange:e=>R(d(d({},T),{},{olt_offline:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"OLT Name & IP Address"}),(0,At.jsx)("li",{children:"Number of Affected ONUs"}),(0,At.jsx)("li",{children:"Last Seen Time"}),(0,At.jsx)("li",{children:"Location (if set)"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-teal-900/30":"bg-teal-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-teal-400":"text-teal-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"OLT Back Online"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when OLT recovers"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.olt_back_online,onChange:e=>R(d(d({},T),{},{olt_back_online:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"OLT Name & IP"}),(0,At.jsx)("li",{children:"Downtime Duration"}),(0,At.jsx)("li",{children:"ONUs Restored Count"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-purple-900/30":"bg-purple-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-purple-400":"text-purple-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"Weak Signal Alert"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when signal drops below threshold"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.weak_signal,onChange:e=>R(d(d({},T),{},{weak_signal:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),T.weak_signal&&(0,At.jsxs)("div",{className:"space-y-3 mb-3",children:[(0,At.jsx)("div",{className:"p-3 rounded-lg ".concat(Se?"bg-yellow-900/20 border border-yellow-700/30":"bg-yellow-50 border border-yellow-200"),children:(0,At.jsx)("p",{className:"text-xs font-medium ".concat(Se?"text-yellow-400":"text-yellow-700"),children:"DANGER ZONE: Alerts when signal is between these thresholds (weak but still connected)"})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(Se?"text-slate-300":"text-gray-700"),children:"Upper Threshold (Danger Zone Start)"}),(0,At.jsx)("input",{type:"number",value:T.weak_signal_threshold,onChange:e=>R(d(d({},T),{},{weak_signal_threshold:parseFloat(e.target.value)})),className:"w-full px-3 py-2 rounded-lg border ".concat(Se?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300"),min:"-35",max:"-15",step:"0.5"}),(0,At.jsx)("p",{className:"text-xs mt-1 ".concat(Se?"text-slate-400":"text-gray-500"),children:"Signal weaker than this triggers warning (e.g., -25 dBm)"})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(Se?"text-slate-300":"text-gray-700"),children:"Lower Threshold (Disconnect Level)"}),(0,At.jsx)("input",{type:"number",value:T.weak_signal_lower_threshold||-30,onChange:e=>R(d(d({},T),{},{weak_signal_lower_threshold:parseFloat(e.target.value)})),className:"w-full px-3 py-2 rounded-lg border ".concat(Se?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300"),min:"-40",max:"-20",step:"0.5"}),(0,At.jsx)("p",{className:"text-xs mt-1 ".concat(Se?"text-slate-400":"text-gray-500"),children:"ONU typically disconnects below this (e.g., -30 dBm)"})]})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Proactive Alert - Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"ONU Description & Address"}),(0,At.jsx)("li",{children:"Current Signal & Danger Zone Range"}),(0,At.jsx)("li",{children:"Risk Level (CRITICAL/HIGH/WARNING)"}),(0,At.jsx)("li",{children:"1-hour cooldown to prevent spam"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-red-900/30":"bg-red-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-red-400":"text-red-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"High Temperature Alert"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Alert when OLT temperature is high"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.high_temperature,onChange:e=>R(d(d({},T),{},{high_temperature:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),T.high_temperature&&(0,At.jsxs)("div",{className:"mb-3",children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(Se?"text-slate-300":"text-gray-700"),children:"Temperature Threshold (\xb0C)"}),(0,At.jsx)("input",{type:"number",value:T.high_temperature_threshold,onChange:e=>R(d(d({},T),{},{high_temperature_threshold:parseInt(e.target.value)})),className:"w-full px-3 py-2 rounded-lg border ".concat(Se?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300"),min:"40",max:"80"}),(0,At.jsx)("p",{className:"text-xs mt-1 ".concat(Se?"text-slate-400":"text-gray-500"),children:"Recommended: 55-65\xb0C for most OLTs"})]}),(0,At.jsxs)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:[(0,At.jsx)("p",{className:"font-medium mb-1",children:"Message includes:"}),(0,At.jsxs)("ul",{className:"list-disc list-inside space-y-0.5",children:[(0,At.jsx)("li",{children:"OLT Name & IP"}),(0,At.jsx)("li",{children:"Current Temperature"}),(0,At.jsx)("li",{children:"Threshold Value"})]})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-indigo-900/30":"bg-indigo-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-indigo-400":"text-indigo-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"Quiet Hours"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Pause non-critical alerts at night"})]})]}),(0,At.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,At.jsx)("input",{type:"checkbox",checked:T.quiet_hours_enabled,onChange:e=>R(d(d({},T),{},{quiet_hours_enabled:e.target.checked})),className:"sr-only peer"}),(0,At.jsx)("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),T.quiet_hours_enabled&&(0,At.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(Se?"text-slate-300":"text-gray-700"),children:"Start"}),(0,At.jsx)("input",{type:"time",value:T.quiet_hours_start,onChange:e=>R(d(d({},T),{},{quiet_hours_start:e.target.value})),className:"w-full px-3 py-2 rounded-lg border ".concat(Se?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300")})]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(Se?"text-slate-300":"text-gray-700"),children:"End"}),(0,At.jsx)("input",{type:"time",value:T.quiet_hours_end,onChange:e=>R(d(d({},T),{},{quiet_hours_end:e.target.value})),className:"w-full px-3 py-2 rounded-lg border ".concat(Se?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300")})]})]}),(0,At.jsx)("div",{className:"text-xs p-3 rounded-lg ".concat(Se?"bg-slate-700/50 text-slate-300":"bg-gray-50 text-gray-600"),children:(0,At.jsxs)("p",{children:["During quiet hours, only ",(0,At.jsx)("strong",{children:"OLT Offline"})," alerts will be sent. Other alerts will be queued until morning."]})})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-cyan-900/30":"bg-cyan-100"),children:(0,At.jsx)("svg",{className:"w-6 h-6 ".concat(Se?"text-cyan-400":"text-cyan-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"Select Specific ONUs for Alerts"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Choose which ONUs should trigger WhatsApp alerts (leave empty for all ONUs)"})]})]}),T.selected_onus.length>0&&(0,At.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,At.jsx)("span",{className:"text-sm ".concat(Se?"text-slate-300":"text-gray-600"),children:"Show Selected Only"}),(0,At.jsx)("input",{type:"checkbox",checked:T.showSelectedOnly||!1,onChange:e=>R(d(d({},T),{},{showSelectedOnly:e.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"})]})]}),(0,At.jsx)("div",{className:"max-h-60 overflow-y-auto rounded-lg border ".concat(Se?"border-slate-600":"border-gray-200"),children:0===S.length?(0,At.jsx)("p",{className:"p-4 text-center ".concat(Se?"text-slate-400":"text-gray-500"),children:"No ONUs available"}):(0,At.jsxs)("table",{className:"w-full",children:[(0,At.jsx)("thead",{className:"sticky top-0 ".concat(Se?"bg-slate-700":"bg-gray-50"),children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium ".concat(Se?"text-slate-300":"text-gray-600"),children:(0,At.jsx)("input",{type:"checkbox",checked:T.selected_onus.length===S.length&&S.length>0,onChange:e=>{e.target.checked?R(d(d({},T),{},{selected_onus:S.map(e=>e.id)})):R(d(d({},T),{},{selected_onus:[]}))},className:"rounded"})}),(0,At.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium ".concat(Se?"text-slate-300":"text-gray-600"),children:"Status"}),(0,At.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium ".concat(Se?"text-slate-300":"text-gray-600"),children:"ONU"}),(0,At.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium ".concat(Se?"text-slate-300":"text-gray-600"),children:"Description"}),(0,At.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium ".concat(Se?"text-slate-300":"text-gray-600"),children:"OLT"})]})}),(0,At.jsx)("tbody",{className:"divide-y ".concat(Se?"divide-slate-700":"divide-gray-200"),children:(T.showSelectedOnly?S.filter(e=>T.selected_onus.includes(e.id)):S).slice(0,100).map(e=>(0,At.jsxs)("tr",{className:"".concat(T.selected_onus.includes(e.id)?Se?"bg-cyan-900/20":"bg-cyan-50":""," ").concat(Se?"hover:bg-slate-700/50":"hover:bg-gray-50"),children:[(0,At.jsx)("td",{className:"px-3 py-2",children:(0,At.jsx)("input",{type:"checkbox",checked:T.selected_onus.includes(e.id),onChange:t=>{t.target.checked?R(d(d({},T),{},{selected_onus:[...T.selected_onus,e.id]})):R(d(d({},T),{},{selected_onus:T.selected_onus.filter(t=>t!==e.id)}))},className:"rounded"})}),(0,At.jsx)("td",{className:"px-3 py-2",children:(0,At.jsxs)("div",{className:"flex items-center gap-2",children:[(0,At.jsx)("span",{className:"w-2.5 h-2.5 rounded-full ".concat(e.is_online?"bg-green-500":"bg-red-500")}),(0,At.jsx)("span",{className:"text-xs font-medium ".concat(e.is_online?Se?"text-green-400":"text-green-600":Se?"text-red-400":"text-red-600"),children:e.is_online?"Online":"Offline"})]})}),(0,At.jsxs)("td",{className:"px-3 py-2 text-sm font-medium ".concat(Se?"text-slate-300":"text-gray-700"),children:[e.pon_port,":",e.onu_id]}),(0,At.jsx)("td",{className:"px-3 py-2 text-sm ".concat(Se?"text-slate-300":"text-gray-700"),children:e.description||"-"}),(0,At.jsx)("td",{className:"px-3 py-2 text-xs ".concat(Se?"text-slate-400":"text-gray-500"),children:e.olt_name||"-"})]},e.id))})]})}),T.selected_onus.length>0&&(0,At.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,At.jsxs)("p",{className:"text-sm font-medium ".concat(Se?"text-cyan-400":"text-cyan-600"),children:[T.selected_onus.length," ONU(s) selected for alerts"]}),(0,At.jsx)("button",{onClick:()=>R(d(d({},T),{},{selected_onus:[],showSelectedOnly:!1})),className:"text-xs px-2 py-1 rounded ".concat(Se?"bg-red-900/30 text-red-400 hover:bg-red-900/50":"bg-red-100 text-red-600 hover:bg-red-200"),children:"Clear All"})]})]}),(0,At.jsxs)("div",{className:"rounded-xl border p-5 ".concat(Se?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[(0,At.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,At.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(Se?"bg-amber-900/30":"bg-amber-100"),children:(0,At.jsxs)("svg",{className:"w-6 h-6 ".concat(Se?"text-amber-400":"text-amber-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-semibold ".concat(Se?"text-white":"text-gray-800"),children:"Select Regions for Alerts"}),(0,At.jsx)("p",{className:"text-sm ".concat(Se?"text-slate-400":"text-gray-500"),children:"Enable alerts only for specific regions (leave empty for all regions)"})]})]}),(0,At.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:C.map(e=>(0,At.jsxs)("label",{className:"flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-all ".concat(T.selected_regions.includes(e.id)?Se?"bg-blue-900/30 border-blue-600":"bg-blue-50 border-blue-300":Se?"bg-slate-700/50 border-slate-600 hover:border-slate-500":"bg-gray-50 border-gray-200 hover:border-gray-300"),children:[(0,At.jsx)("input",{type:"checkbox",checked:T.selected_regions.includes(e.id),onChange:t=>{t.target.checked?R(d(d({},T),{},{selected_regions:[...T.selected_regions,e.id]})):R(d(d({},T),{},{selected_regions:T.selected_regions.filter(t=>t!==e.id)}))},className:"rounded"}),(0,At.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color||"#3B82F6"}}),(0,At.jsx)("span",{className:"text-sm ".concat(Se?"text-slate-300":"text-gray-700"),children:e.name})]},e.id))}),0===C.length&&(0,At.jsx)("p",{className:"text-center py-4 ".concat(Se?"text-slate-400":"text-gray-500"),children:"No regions configured"})]})]}),"splitter"===c&&(0,At.jsx)(on,{olts:N,onus:S}),"users"===c&&Ae&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,At.jsx)("h2",{className:"text-lg font-bold ".concat(Se?"text-white":"text-gray-800"),children:"Users"}),(0,At.jsx)("button",{onClick:()=>{ye(null),le(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"+ Add User"})]}),(0,At.jsx)("div",{className:"rounded-xl shadow-md overflow-hidden ".concat(Se?"bg-slate-800":"bg-white"),children:(0,At.jsxs)("table",{className:"min-w-full divide-y ".concat(Se?"divide-slate-700":"divide-gray-200"),children:[(0,At.jsx)("thead",{className:Se?"bg-slate-700":"bg-gray-50",children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase ".concat(Se?"text-slate-300":"text-gray-600"),children:"Username"}),(0,At.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase ".concat(Se?"text-slate-300":"text-gray-600"),children:"Full Name"}),(0,At.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase ".concat(Se?"text-slate-300":"text-gray-600"),children:"Role"}),(0,At.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase ".concat(Se?"text-slate-300":"text-gray-600"),children:"Status"}),(0,At.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase ".concat(Se?"text-slate-300":"text-gray-600"),children:"Actions"})]})}),(0,At.jsx)("tbody",{className:"divide-y ".concat(Se?"bg-slate-800 divide-slate-700":"bg-white divide-gray-200"),children:O.map(e=>(0,At.jsxs)("tr",{className:Se?"hover:bg-slate-700/50":"hover:bg-gray-50",children:[(0,At.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ".concat(Se?"text-white":"text-gray-900"),children:e.username}),(0,At.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(Se?"text-slate-300":"text-gray-600"),children:e.full_name||"-"}),(0,At.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,At.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role})}),(0,At.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,At.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})}),(0,At.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[(0,At.jsx)("button",{onClick:()=>{ye(e),le(!0)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Edit"}),e.id!==l.id&&(0,At.jsx)("button",{onClick:()=>it(e.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]},e.id))})]})})]})]}),(0,At.jsx)("footer",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 text-gray-400 py-4 text-center border-t border-gray-700",children:(0,At.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm",children:[(0,At.jsx)("span",{className:"font-medium text-gray-300",children:i||"OLT Manager"}),(0,At.jsx)("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),(0,At.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,At.jsx)("svg",{className:"w-4 h-4 text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,At.jsx)("span",{children:"Auto-refresh: 30s"})]})]})})]}),(0,At.jsx)(Kt,{isOpen:Q,onClose:()=>K(!1),onSubmit:async e=>{await(e=>Rt.post("/api/olts",e))(e),await We(),await Ie()},regions:C}),(0,At.jsx)(Jt,{isOpen:J,onClose:()=>{Y(!1),ee(null)},olt:Z,onSubmit:async(e,t)=>{await((e,t)=>Rt.put("/api/olts/".concat(e),t))(e,t),await We()},regions:C}),(0,At.jsx)(Yt,{isOpen:te,onClose:()=>{ne(!1),xe(null)},onu:fe,onSubmit:async(e,t)=>{await((e,t)=>Rt.put("/api/onus/".concat(e),t))(e,t),await He()},onImageUpload:async(e,t)=>{const n=await((e,t)=>{const n=new FormData;return n.append("file",t),Rt.post("/api/onus/".concat(e,"/image"),n,{headers:{"Content-Type":"multipart/form-data"}})})(e,t);return await He(),n.data},onImageDelete:async(e,t)=>{const n=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Rt.delete("/api/onus/".concat(e,"/image?image_index=").concat(t))}(e,t);return await He(),n.data},regions:C}),(0,At.jsx)(Zt,{isOpen:re,onClose:()=>{ae(!1),be(null)},region:ge,onSubmit:async(e,t)=>{t?await((e,t)=>Rt.put("/api/regions/".concat(e),t))(t,e):await(e=>Rt.post("/api/regions",e))(e),await Ge()}}),(0,At.jsx)(en,{isOpen:se,onClose:()=>{le(!1),ye(null)},user:ve,onSubmit:async(e,t)=>{t?await((e,t)=>Rt.put("/api/users/".concat(e),t))(t,e):await(e=>Rt.post("/api/users",e))(e),await qe()},olts:N}),(0,At.jsx)(tn,{isOpen:oe,onClose:()=>ie(!1),settings:P,onSubmit:async e=>{await(e=>Rt.put("/api/settings",e))(e),await Xe()},onChangePassword:async e=>{await(e=>Rt.post("/api/auth/change-password",e))(e)},licenseInfo:h,defaultTab:ce}),(0,At.jsx)(nn,{isOpen:ue,onClose:()=>pe(!1),entityType:me.type,entityId:me.id,entityName:me.name})]})})}const pn=function(){const[e,t]=(0,a.useState)(()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}),[n,r]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{const e=await Dt();r(e.data)}catch(e){console.error("Failed to fetch settings:",e)}})()},[]);const s=localStorage.getItem("token"),l=(null===n||void 0===n?void 0:n.system_name)||"OLT Manager";return s&&e?(0,At.jsx)(un,{user:e,onLogout:()=>t(null),pageName:l}):(0,At.jsx)(Gt,{onLogin:t,pageName:l})};s.createRoot(document.getElementById("root")).render((0,At.jsx)(a.StrictMode,{children:(0,At.jsx)(pn,{})}))})();
//# sourceMappingURL=main.d466e03e.js.map